"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/yet-another-react-lightbox";
exports.ids = ["vendor-chunks/yet-another-react-lightbox"];
exports.modules = {

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/index.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_CLOSE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE),\n/* harmony export */   ACTION_NEXT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT),\n/* harmony export */   ACTION_PREV: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV),\n/* harmony export */   ACTION_SWIPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE),\n/* harmony export */   ACTIVE_SLIDE_COMPLETE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_COMPLETE),\n/* harmony export */   ACTIVE_SLIDE_ERROR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_ERROR),\n/* harmony export */   ACTIVE_SLIDE_LOADING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_LOADING),\n/* harmony export */   ACTIVE_SLIDE_PLAYING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_PLAYING),\n/* harmony export */   CLASS_FLEX_CENTER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER),\n/* harmony export */   CLASS_FULLSIZE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE),\n/* harmony export */   CLASS_NO_SCROLL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL),\n/* harmony export */   CLASS_NO_SCROLL_PADDING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING),\n/* harmony export */   CLASS_SLIDE_WRAPPER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER),\n/* harmony export */   Carousel: () => (/* binding */ Carousel),\n/* harmony export */   CarouselModule: () => (/* binding */ CarouselModule),\n/* harmony export */   CloseIcon: () => (/* binding */ CloseIcon),\n/* harmony export */   Controller: () => (/* binding */ Controller),\n/* harmony export */   ControllerContext: () => (/* binding */ ControllerContext),\n/* harmony export */   ControllerModule: () => (/* binding */ ControllerModule),\n/* harmony export */   ELEMENT_BUTTON: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_BUTTON),\n/* harmony export */   ELEMENT_ICON: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON),\n/* harmony export */   EVENT_ON_KEY_DOWN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN),\n/* harmony export */   EVENT_ON_KEY_UP: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_UP),\n/* harmony export */   EVENT_ON_POINTER_CANCEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL),\n/* harmony export */   EVENT_ON_POINTER_DOWN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN),\n/* harmony export */   EVENT_ON_POINTER_LEAVE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE),\n/* harmony export */   EVENT_ON_POINTER_MOVE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE),\n/* harmony export */   EVENT_ON_POINTER_UP: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP),\n/* harmony export */   EVENT_ON_WHEEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL),\n/* harmony export */   ErrorIcon: () => (/* binding */ ErrorIcon),\n/* harmony export */   EventsContext: () => (/* binding */ EventsContext),\n/* harmony export */   EventsProvider: () => (/* binding */ EventsProvider),\n/* harmony export */   IMAGE_FIT_CONTAIN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN),\n/* harmony export */   IMAGE_FIT_COVER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   ImageSlide: () => (/* binding */ ImageSlide),\n/* harmony export */   Lightbox: () => (/* binding */ Lightbox),\n/* harmony export */   LightboxDefaultProps: () => (/* binding */ LightboxDefaultProps),\n/* harmony export */   LightboxDispatchContext: () => (/* binding */ LightboxDispatchContext),\n/* harmony export */   LightboxPropsContext: () => (/* binding */ LightboxPropsContext),\n/* harmony export */   LightboxPropsProvider: () => (/* binding */ LightboxPropsProvider),\n/* harmony export */   LightboxStateContext: () => (/* binding */ LightboxStateContext),\n/* harmony export */   LightboxStateProvider: () => (/* binding */ LightboxStateProvider),\n/* harmony export */   LoadingIcon: () => (/* binding */ LoadingIcon),\n/* harmony export */   MODULE_CAROUSEL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL),\n/* harmony export */   MODULE_CONTROLLER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER),\n/* harmony export */   MODULE_NAVIGATION: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NAVIGATION),\n/* harmony export */   MODULE_NO_SCROLL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NO_SCROLL),\n/* harmony export */   MODULE_PORTAL: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL),\n/* harmony export */   MODULE_ROOT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_ROOT),\n/* harmony export */   MODULE_TOOLBAR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR),\n/* harmony export */   Navigation: () => (/* binding */ Navigation),\n/* harmony export */   NavigationButton: () => (/* binding */ NavigationButton),\n/* harmony export */   NavigationModule: () => (/* binding */ NavigationModule),\n/* harmony export */   NextIcon: () => (/* binding */ NextIcon),\n/* harmony export */   NoScroll: () => (/* binding */ NoScroll),\n/* harmony export */   NoScrollModule: () => (/* binding */ NoScrollModule),\n/* harmony export */   PLUGIN_CAPTIONS: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_CAPTIONS),\n/* harmony export */   PLUGIN_COUNTER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_COUNTER),\n/* harmony export */   PLUGIN_DOWNLOAD: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_DOWNLOAD),\n/* harmony export */   PLUGIN_FULLSCREEN: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN),\n/* harmony export */   PLUGIN_INLINE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_INLINE),\n/* harmony export */   PLUGIN_SHARE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SHARE),\n/* harmony export */   PLUGIN_SLIDESHOW: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW),\n/* harmony export */   PLUGIN_THUMBNAILS: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS),\n/* harmony export */   PLUGIN_ZOOM: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM),\n/* harmony export */   Portal: () => (/* binding */ Portal),\n/* harmony export */   PortalModule: () => (/* binding */ PortalModule),\n/* harmony export */   PreviousIcon: () => (/* binding */ PreviousIcon),\n/* harmony export */   Root: () => (/* binding */ Root),\n/* harmony export */   RootModule: () => (/* binding */ RootModule),\n/* harmony export */   SLIDE_STATUS_COMPLETE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE),\n/* harmony export */   SLIDE_STATUS_ERROR: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR),\n/* harmony export */   SLIDE_STATUS_LOADING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING),\n/* harmony export */   SLIDE_STATUS_PLACEHOLDER: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLACEHOLDER),\n/* harmony export */   SLIDE_STATUS_PLAYING: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING),\n/* harmony export */   SwipeState: () => (/* binding */ SwipeState),\n/* harmony export */   TimeoutsContext: () => (/* binding */ TimeoutsContext),\n/* harmony export */   TimeoutsProvider: () => (/* binding */ TimeoutsProvider),\n/* harmony export */   Toolbar: () => (/* binding */ Toolbar),\n/* harmony export */   ToolbarModule: () => (/* binding */ ToolbarModule),\n/* harmony export */   UNKNOWN_ACTION_TYPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE),\n/* harmony export */   VK_ARROW_LEFT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_LEFT),\n/* harmony export */   VK_ARROW_RIGHT: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_RIGHT),\n/* harmony export */   VK_ESCAPE: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ESCAPE),\n/* harmony export */   activeSlideStatus: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_2__.activeSlideStatus),\n/* harmony export */   addToolbarButton: () => (/* binding */ addToolbarButton),\n/* harmony export */   calculatePreload: () => (/* binding */ calculatePreload),\n/* harmony export */   cleanup: () => (/* binding */ cleanup),\n/* harmony export */   clsx: () => (/* binding */ clsx),\n/* harmony export */   composePrefix: () => (/* binding */ composePrefix),\n/* harmony export */   computeSlideRect: () => (/* binding */ computeSlideRect),\n/* harmony export */   createIcon: () => (/* binding */ createIcon),\n/* harmony export */   createIconDisabled: () => (/* binding */ createIconDisabled),\n/* harmony export */   createModule: () => (/* binding */ createModule),\n/* harmony export */   createNode: () => (/* binding */ createNode),\n/* harmony export */   cssClass: () => (/* binding */ cssClass),\n/* harmony export */   cssVar: () => (/* binding */ cssVar),\n/* harmony export */   \"default\": () => (/* binding */ Lightbox),\n/* harmony export */   devicePixelRatio: () => (/* binding */ devicePixelRatio),\n/* harmony export */   getSlide: () => (/* binding */ getSlide),\n/* harmony export */   getSlideIfPresent: () => (/* binding */ getSlideIfPresent),\n/* harmony export */   getSlideIndex: () => (/* binding */ getSlideIndex),\n/* harmony export */   hasSlides: () => (/* binding */ hasSlides),\n/* harmony export */   hasWindow: () => (/* binding */ hasWindow),\n/* harmony export */   isImageFitCover: () => (/* binding */ isImageFitCover),\n/* harmony export */   isImageSlide: () => (/* binding */ isImageSlide),\n/* harmony export */   label: () => (/* binding */ label),\n/* harmony export */   makeComposePrefix: () => (/* binding */ makeComposePrefix),\n/* harmony export */   makeUseContext: () => (/* binding */ makeUseContext),\n/* harmony export */   parseInt: () => (/* binding */ parseInt),\n/* harmony export */   parseLengthPercentage: () => (/* binding */ parseLengthPercentage),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   setRef: () => (/* binding */ setRef),\n/* harmony export */   stopNavigationEventsPropagation: () => (/* binding */ stopNavigationEventsPropagation),\n/* harmony export */   useAnimation: () => (/* binding */ useAnimation),\n/* harmony export */   useContainerRect: () => (/* binding */ useContainerRect),\n/* harmony export */   useController: () => (/* binding */ useController),\n/* harmony export */   useDelay: () => (/* binding */ useDelay),\n/* harmony export */   useEventCallback: () => (/* binding */ useEventCallback),\n/* harmony export */   useEvents: () => (/* binding */ useEvents),\n/* harmony export */   useForkRef: () => (/* binding */ useForkRef),\n/* harmony export */   useKeyboardNavigation: () => (/* binding */ useKeyboardNavigation),\n/* harmony export */   useLayoutEffect: () => (/* binding */ useLayoutEffect),\n/* harmony export */   useLightboxDispatch: () => (/* binding */ useLightboxDispatch),\n/* harmony export */   useLightboxProps: () => (/* binding */ useLightboxProps),\n/* harmony export */   useLightboxState: () => (/* binding */ useLightboxState),\n/* harmony export */   useLoseFocus: () => (/* binding */ useLoseFocus),\n/* harmony export */   useMotionPreference: () => (/* binding */ useMotionPreference),\n/* harmony export */   useNavigationState: () => (/* binding */ useNavigationState),\n/* harmony export */   usePointerEvents: () => (/* binding */ usePointerEvents),\n/* harmony export */   usePointerSwipe: () => (/* binding */ usePointerSwipe),\n/* harmony export */   usePreventWheelDefaults: () => (/* binding */ usePreventWheelDefaults),\n/* harmony export */   useRTL: () => (/* binding */ useRTL),\n/* harmony export */   useSensors: () => (/* binding */ useSensors),\n/* harmony export */   useThrottle: () => (/* binding */ useThrottle),\n/* harmony export */   useTimeouts: () => (/* binding */ useTimeouts),\n/* harmony export */   useWheelSwipe: () => (/* binding */ useWheelSwipe),\n/* harmony export */   withPlugins: () => (/* binding */ withPlugins)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* __next_internal_client_entry_do_not_use__ ACTIVE_SLIDE_COMPLETE,ACTIVE_SLIDE_ERROR,ACTIVE_SLIDE_LOADING,ACTIVE_SLIDE_PLAYING,CLASS_FULLSIZE,PLUGIN_CAPTIONS,PLUGIN_COUNTER,PLUGIN_DOWNLOAD,PLUGIN_FULLSCREEN,PLUGIN_INLINE,PLUGIN_SHARE,PLUGIN_SLIDESHOW,PLUGIN_THUMBNAILS,PLUGIN_ZOOM,SLIDE_STATUS_PLAYING,ACTION_CLOSE,ACTION_NEXT,ACTION_PREV,ACTION_SWIPE,CLASS_FLEX_CENTER,CLASS_NO_SCROLL,CLASS_NO_SCROLL_PADDING,CLASS_SLIDE_WRAPPER,Carousel,CarouselModule,CloseIcon,Controller,ControllerContext,ControllerModule,ELEMENT_BUTTON,ELEMENT_ICON,EVENT_ON_KEY_DOWN,EVENT_ON_KEY_UP,EVENT_ON_POINTER_CANCEL,EVENT_ON_POINTER_DOWN,EVENT_ON_POINTER_LEAVE,EVENT_ON_POINTER_MOVE,EVENT_ON_POINTER_UP,EVENT_ON_WHEEL,ErrorIcon,EventsContext,EventsProvider,IMAGE_FIT_CONTAIN,IMAGE_FIT_COVER,IconButton,ImageSlide,Lightbox,LightboxDefaultProps,LightboxDispatchContext,LightboxPropsContext,LightboxPropsProvider,LightboxStateContext,LightboxStateProvider,LoadingIcon,MODULE_CAROUSEL,MODULE_CONTROLLER,MODULE_NAVIGATION,MODULE_NO_SCROLL,MODULE_PORTAL,MODULE_ROOT,MODULE_TOOLBAR,Navigation,NavigationButton,NavigationModule,NextIcon,NoScroll,NoScrollModule,Portal,PortalModule,PreviousIcon,Root,RootModule,SLIDE_STATUS_COMPLETE,SLIDE_STATUS_ERROR,SLIDE_STATUS_LOADING,SLIDE_STATUS_PLACEHOLDER,SwipeState,TimeoutsContext,TimeoutsProvider,Toolbar,ToolbarModule,UNKNOWN_ACTION_TYPE,VK_ARROW_LEFT,VK_ARROW_RIGHT,VK_ESCAPE,activeSlideStatus,addToolbarButton,calculatePreload,cleanup,clsx,composePrefix,computeSlideRect,createIcon,createIconDisabled,createModule,createNode,cssClass,cssVar,default,devicePixelRatio,getSlide,getSlideIfPresent,getSlideIndex,hasSlides,hasWindow,isImageFitCover,isImageSlide,label,makeComposePrefix,makeUseContext,parseInt,parseLengthPercentage,round,setRef,stopNavigationEventsPropagation,useAnimation,useContainerRect,useController,useDelay,useEventCallback,useEvents,useForkRef,useKeyboardNavigation,useLayoutEffect,useLightboxDispatch,useLightboxProps,useLightboxState,useLoseFocus,useMotionPreference,useNavigationState,usePointerEvents,usePointerSwipe,usePreventWheelDefaults,useRTL,useSensors,useThrottle,useTimeouts,useWheelSwipe,withPlugins auto */ \n\n\n\nconst cssPrefix$3 = \"yarl__\";\nfunction clsx(...classes) {\n    return [\n        ...classes\n    ].filter(Boolean).join(\" \");\n}\nfunction cssClass(name) {\n    return `${cssPrefix$3}${name}`;\n}\nfunction cssVar(name) {\n    return `--${cssPrefix$3}${name}`;\n}\nfunction composePrefix(base, prefix) {\n    return `${base}${prefix ? `_${prefix}` : \"\"}`;\n}\nfunction makeComposePrefix(base) {\n    return (prefix)=>composePrefix(base, prefix);\n}\nfunction label(labels, defaultLabel) {\n    var _a;\n    return (_a = labels === null || labels === void 0 ? void 0 : labels[defaultLabel]) !== null && _a !== void 0 ? _a : defaultLabel;\n}\nfunction cleanup(...cleaners) {\n    return ()=>{\n        cleaners.forEach((cleaner)=>{\n            cleaner();\n        });\n    };\n}\nfunction makeUseContext(name, contextName, context) {\n    return ()=>{\n        const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(context);\n        if (!ctx) {\n            throw new Error(`${name} must be used within a ${contextName}.Provider`);\n        }\n        return ctx;\n    };\n}\nfunction hasWindow() {\n    return \"undefined\" !== \"undefined\";\n}\nfunction round(value, decimals = 0) {\n    const factor = 10 ** decimals;\n    return Math.round((value + Number.EPSILON) * factor) / factor;\n}\nfunction isImageSlide(slide) {\n    return slide.type === undefined || slide.type === \"image\";\n}\nfunction isImageFitCover(image, imageFit) {\n    return image.imageFit === _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER || image.imageFit !== _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN && imageFit === _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_COVER;\n}\nfunction parseInt(value) {\n    return typeof value === \"string\" ? Number.parseInt(value, 10) : value;\n}\nfunction parseLengthPercentage(input) {\n    if (typeof input === \"number\") {\n        return {\n            pixel: input\n        };\n    }\n    if (typeof input === \"string\") {\n        const value = parseInt(input);\n        return input.endsWith(\"%\") ? {\n            percent: value\n        } : {\n            pixel: value\n        };\n    }\n    return {\n        pixel: 0\n    };\n}\nfunction computeSlideRect(containerRect, padding) {\n    const paddingValue = parseLengthPercentage(padding);\n    const paddingPixels = paddingValue.percent !== undefined ? containerRect.width / 100 * paddingValue.percent : paddingValue.pixel;\n    return {\n        width: Math.max(containerRect.width - 2 * paddingPixels, 0),\n        height: Math.max(containerRect.height - 2 * paddingPixels, 0)\n    };\n}\nfunction devicePixelRatio() {\n    return (hasWindow() ? window === null || window === void 0 ? void 0 : window.devicePixelRatio : undefined) || 1;\n}\nfunction getSlideIndex(index, slidesCount) {\n    return slidesCount > 0 ? (index % slidesCount + slidesCount) % slidesCount : 0;\n}\nfunction hasSlides(slides) {\n    return slides.length > 0;\n}\nfunction getSlide(slides, index) {\n    return slides[getSlideIndex(index, slides.length)];\n}\nfunction getSlideIfPresent(slides, index) {\n    return hasSlides(slides) ? getSlide(slides, index) : undefined;\n}\nfunction addToolbarButton(toolbar, key, button) {\n    if (!button) return toolbar;\n    const { buttons, ...restToolbar } = toolbar;\n    const index = buttons.findIndex((item)=>item === key);\n    const buttonWithKey = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(button) ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(button, {\n        key\n    }, null) : button;\n    if (index >= 0) {\n        const result = [\n            ...buttons\n        ];\n        result.splice(index, 1, buttonWithKey);\n        return {\n            buttons: result,\n            ...restToolbar\n        };\n    }\n    return {\n        buttons: [\n            buttonWithKey,\n            ...buttons\n        ],\n        ...restToolbar\n    };\n}\nfunction stopNavigationEventsPropagation() {\n    const stopPropagation = (event)=>{\n        event.stopPropagation();\n    };\n    return {\n        onPointerDown: stopPropagation,\n        onKeyDown: stopPropagation,\n        onWheel: stopPropagation\n    };\n}\nfunction calculatePreload(carousel, slides, minimum = 0) {\n    return Math.min(carousel.preload, Math.max(carousel.finite ? slides.length - 1 : Math.floor(slides.length / 2), minimum));\n}\nconst LightboxDefaultProps = {\n    open: false,\n    close: ()=>{},\n    index: 0,\n    slides: [],\n    render: {},\n    plugins: [],\n    toolbar: {\n        buttons: [\n            _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE\n        ]\n    },\n    labels: {},\n    animation: {\n        fade: 250,\n        swipe: 500,\n        easing: {\n            fade: \"ease\",\n            swipe: \"ease-out\",\n            navigation: \"ease-in-out\"\n        }\n    },\n    carousel: {\n        finite: false,\n        preload: 2,\n        padding: \"16px\",\n        spacing: \"30%\",\n        imageFit: _types_js__WEBPACK_IMPORTED_MODULE_2__.IMAGE_FIT_CONTAIN,\n        imageProps: {}\n    },\n    controller: {\n        ref: null,\n        focus: true,\n        aria: false,\n        touchAction: \"none\",\n        closeOnPullUp: false,\n        closeOnPullDown: false,\n        closeOnBackdropClick: false,\n        preventDefaultWheelX: true,\n        preventDefaultWheelY: false\n    },\n    portal: {},\n    noScroll: {\n        disabled: false\n    },\n    on: {},\n    styles: {},\n    className: \"\"\n};\nfunction createModule(name, component) {\n    return {\n        name,\n        component\n    };\n}\nfunction createNode(module, children) {\n    return {\n        module,\n        children\n    };\n}\nfunction traverseNode(node, target, apply) {\n    if (node.module.name === target) {\n        return apply(node);\n    }\n    if (node.children) {\n        return [\n            createNode(node.module, node.children.flatMap((n)=>{\n                var _a;\n                return (_a = traverseNode(n, target, apply)) !== null && _a !== void 0 ? _a : [];\n            }))\n        ];\n    }\n    return [\n        node\n    ];\n}\nfunction traverse(nodes, target, apply) {\n    return nodes.flatMap((node)=>{\n        var _a;\n        return (_a = traverseNode(node, target, apply)) !== null && _a !== void 0 ? _a : [];\n    });\n}\nfunction withPlugins(root, plugins = [], augmentations = []) {\n    let config = root;\n    const contains = (target)=>{\n        const nodes = [\n            ...config\n        ];\n        while(nodes.length > 0){\n            const node = nodes.pop();\n            if ((node === null || node === void 0 ? void 0 : node.module.name) === target) return true;\n            if (node === null || node === void 0 ? void 0 : node.children) nodes.push(...node.children);\n        }\n        return false;\n    };\n    const addParent = (target, module)=>{\n        if (target === \"\") {\n            config = [\n                createNode(module, config)\n            ];\n            return;\n        }\n        config = traverse(config, target, (node)=>[\n                createNode(module, [\n                    node\n                ])\n            ]);\n    };\n    const append = (target, module)=>{\n        config = traverse(config, target, (node)=>[\n                createNode(node.module, [\n                    createNode(module, node.children)\n                ])\n            ]);\n    };\n    const addChild = (target, module, precede)=>{\n        config = traverse(config, target, (node)=>{\n            var _a;\n            return [\n                createNode(node.module, [\n                    ...precede ? [\n                        createNode(module)\n                    ] : [],\n                    ...(_a = node.children) !== null && _a !== void 0 ? _a : [],\n                    ...!precede ? [\n                        createNode(module)\n                    ] : []\n                ])\n            ];\n        });\n    };\n    const addSibling = (target, module, precede)=>{\n        config = traverse(config, target, (node)=>[\n                ...precede ? [\n                    createNode(module)\n                ] : [],\n                node,\n                ...!precede ? [\n                    createNode(module)\n                ] : []\n            ]);\n    };\n    const addModule = (module)=>{\n        append(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, module);\n    };\n    const replace = (target, module)=>{\n        config = traverse(config, target, (node)=>[\n                createNode(module, node.children)\n            ]);\n    };\n    const remove = (target)=>{\n        config = traverse(config, target, (node)=>node.children);\n    };\n    const augment = (augmentation)=>{\n        augmentations.push(augmentation);\n    };\n    plugins.forEach((plugin)=>{\n        plugin({\n            contains,\n            addParent,\n            append,\n            addChild,\n            addSibling,\n            addModule,\n            replace,\n            remove,\n            augment\n        });\n    });\n    return {\n        config,\n        augmentation: (props)=>augmentations.reduce((acc, augmentation)=>augmentation(acc), props)\n    };\n}\nconst EventsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useEvents = makeUseContext(\"useEvents\", \"EventsContext\", EventsContext);\nfunction EventsProvider({ children }) {\n    const [subscriptions] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>()=>{\n            Object.keys(subscriptions).forEach((topic)=>delete subscriptions[topic]);\n        }, [\n        subscriptions\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        const unsubscribe = (topic, callback)=>{\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.splice(0, subscriptions[topic].length, ...subscriptions[topic].filter((cb)=>cb !== callback));\n        };\n        const subscribe = (topic, callback)=>{\n            if (!subscriptions[topic]) {\n                subscriptions[topic] = [];\n            }\n            subscriptions[topic].push(callback);\n            return ()=>unsubscribe(topic, callback);\n        };\n        const publish = (...[topic, event])=>{\n            var _a;\n            (_a = subscriptions[topic]) === null || _a === void 0 ? void 0 : _a.forEach((callback)=>callback(event));\n        };\n        return {\n            publish,\n            subscribe,\n            unsubscribe\n        };\n    }, [\n        subscriptions\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EventsContext.Provider, {\n        value: context\n    }, children);\n}\nconst LightboxPropsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxProps = makeUseContext(\"useLightboxProps\", \"LightboxPropsContext\", LightboxPropsContext);\nfunction LightboxPropsProvider({ children, ...props }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxPropsContext.Provider, {\n        value: props\n    }, children);\n}\nconst LightboxStateContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxState = makeUseContext(\"useLightboxState\", \"LightboxStateContext\", LightboxStateContext);\nconst LightboxDispatchContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useLightboxDispatch = makeUseContext(\"useLightboxDispatch\", \"LightboxDispatchContext\", LightboxDispatchContext);\nfunction reducer(state, action) {\n    switch(action.type){\n        case \"swipe\":\n            {\n                const { slides } = state;\n                const increment = (action === null || action === void 0 ? void 0 : action.increment) || 0;\n                const globalIndex = state.globalIndex + increment;\n                const currentIndex = getSlideIndex(globalIndex, slides.length);\n                const currentSlide = getSlideIfPresent(slides, currentIndex);\n                const animation = increment || action.duration ? {\n                    increment,\n                    duration: action.duration,\n                    easing: action.easing\n                } : undefined;\n                return {\n                    slides,\n                    currentIndex,\n                    globalIndex,\n                    currentSlide,\n                    animation\n                };\n            }\n        case \"update\":\n            if (action.slides !== state.slides || action.index !== state.currentIndex) {\n                return {\n                    slides: action.slides,\n                    currentIndex: action.index,\n                    globalIndex: action.index,\n                    currentSlide: getSlideIfPresent(action.slides, action.index)\n                };\n            }\n            return state;\n        default:\n            throw new Error(_types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction LightboxStateProvider({ slides, index, children }) {\n    const [state, dispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(reducer, {\n        slides,\n        currentIndex: index,\n        globalIndex: index,\n        currentSlide: getSlideIfPresent(slides, index)\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        dispatch({\n            type: \"update\",\n            slides,\n            index\n        });\n    }, [\n        slides,\n        index\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>({\n            ...state,\n            state,\n            dispatch\n        }), [\n        state,\n        dispatch\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxDispatchContext.Provider, {\n        value: dispatch\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxStateContext.Provider, {\n        value: context\n    }, children));\n}\nconst TimeoutsContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useTimeouts = makeUseContext(\"useTimeouts\", \"TimeoutsContext\", TimeoutsContext);\nfunction TimeoutsProvider({ children }) {\n    const [timeouts] = react__WEBPACK_IMPORTED_MODULE_0__.useState([]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>()=>{\n            timeouts.forEach((tid)=>window.clearTimeout(tid));\n            timeouts.splice(0, timeouts.length);\n        }, [\n        timeouts\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>{\n        const removeTimeout = (id)=>{\n            timeouts.splice(0, timeouts.length, ...timeouts.filter((tid)=>tid !== id));\n        };\n        const setTimeout = (fn, delay)=>{\n            const id = window.setTimeout(()=>{\n                removeTimeout(id);\n                fn();\n            }, delay);\n            timeouts.push(id);\n            return id;\n        };\n        const clearTimeout = (id)=>{\n            if (id !== undefined) {\n                removeTimeout(id);\n                window.clearTimeout(id);\n            }\n        };\n        return {\n            setTimeout,\n            clearTimeout\n        };\n    }, [\n        timeouts\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TimeoutsContext.Provider, {\n        value: context\n    }, children);\n}\nconst IconButton = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function IconButton({ label: label$1, className, icon: Icon, renderIcon, onClick, style, ...rest }, ref) {\n    const { styles, labels } = useLightboxProps();\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        ref: ref,\n        type: \"button\",\n        \"aria-label\": label(labels, label$1),\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_BUTTON), className),\n        onClick: onClick,\n        style: {\n            ...style,\n            ...styles.button\n        },\n        ...rest\n    }, renderIcon ? renderIcon() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Icon, {\n        className: cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON),\n        style: styles.icon\n    }));\n});\nfunction svgIcon(name, children) {\n    const icon = (props)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 24 24\",\n            width: \"24\",\n            height: \"24\",\n            \"aria-hidden\": \"true\",\n            focusable: \"false\",\n            ...props\n        }, children);\n    icon.displayName = name;\n    return icon;\n}\nfunction createIcon(name, glyph) {\n    return svgIcon(name, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n        fill: \"currentColor\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\"\n    }), glyph));\n}\nfunction createIconDisabled(name, glyph) {\n    return svgIcon(name, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"defs\", null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"mask\", {\n        id: \"strike\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"white\"\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0L24 24\",\n        stroke: \"black\",\n        strokeWidth: 4\n    }))), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0.70707 2.121320L21.878680 23.292883\",\n        stroke: \"currentColor\",\n        strokeWidth: 2\n    }), /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n        fill: \"currentColor\",\n        mask: \"url(#strike)\"\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n        d: \"M0 0h24v24H0z\",\n        fill: \"none\"\n    }), glyph)));\n}\nconst CloseIcon = createIcon(\"Close\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}));\nconst PreviousIcon = createIcon(\"Previous\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n}));\nconst NextIcon = createIcon(\"Next\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n}));\nconst LoadingIcon = createIcon(\"Loading\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, Array.from({\n    length: 8\n}).map((_, index, array)=>/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"line\", {\n        key: index,\n        x1: \"12\",\n        y1: \"6.5\",\n        x2: \"12\",\n        y2: \"1.8\",\n        strokeLinecap: \"round\",\n        strokeWidth: \"2.6\",\n        stroke: \"currentColor\",\n        strokeOpacity: 1 / array.length * (index + 1),\n        transform: `rotate(${360 / array.length * index}, 12, 12)`\n    }))));\nconst ErrorIcon = createIcon(\"Error\", /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z\"\n}));\nconst useLayoutEffect = hasWindow() ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction useMotionPreference() {\n    const [reduceMotion, setReduceMotion] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        var _a, _b;\n        const mediaQuery = (_a = window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, \"(prefers-reduced-motion: reduce)\");\n        setReduceMotion(mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.matches);\n        const listener = (event)=>setReduceMotion(event.matches);\n        (_b = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.addEventListener) === null || _b === void 0 ? void 0 : _b.call(mediaQuery, \"change\", listener);\n        return ()=>{\n            var _a;\n            return (_a = mediaQuery === null || mediaQuery === void 0 ? void 0 : mediaQuery.removeEventListener) === null || _a === void 0 ? void 0 : _a.call(mediaQuery, \"change\", listener);\n        };\n    }, []);\n    return reduceMotion;\n}\nfunction currentTransformation(node) {\n    let x = 0;\n    let y = 0;\n    let z = 0;\n    const matrix = window.getComputedStyle(node).transform;\n    const matcher = matrix.match(/matrix.*\\((.+)\\)/);\n    if (matcher) {\n        const values = matcher[1].split(\",\").map(parseInt);\n        if (values.length === 6) {\n            x = values[4];\n            y = values[5];\n        } else if (values.length === 16) {\n            x = values[12];\n            y = values[13];\n            z = values[14];\n        }\n    }\n    return {\n        x,\n        y,\n        z\n    };\n}\nfunction useAnimation(nodeRef, computeAnimation) {\n    const snapshot = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const animation = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const reduceMotion = useMotionPreference();\n    useLayoutEffect(()=>{\n        var _a, _b, _c;\n        if (nodeRef.current && snapshot.current !== undefined && !reduceMotion) {\n            const { keyframes, duration, easing, onfinish } = computeAnimation(snapshot.current, nodeRef.current.getBoundingClientRect(), currentTransformation(nodeRef.current)) || {};\n            if (keyframes && duration) {\n                (_a = animation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n                animation.current = undefined;\n                try {\n                    animation.current = (_c = (_b = nodeRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, keyframes, {\n                        duration,\n                        easing\n                    });\n                } catch (err) {\n                    console.error(err);\n                }\n                if (animation.current) {\n                    animation.current.onfinish = ()=>{\n                        animation.current = undefined;\n                        onfinish === null || onfinish === void 0 ? void 0 : onfinish();\n                    };\n                }\n            }\n        }\n        snapshot.current = undefined;\n    });\n    return {\n        prepareAnimation: (currentSnapshot)=>{\n            snapshot.current = currentSnapshot;\n        },\n        isAnimationPlaying: ()=>{\n            var _a;\n            return ((_a = animation.current) === null || _a === void 0 ? void 0 : _a.playState) === \"running\";\n        }\n    };\n}\nfunction useContainerRect() {\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const observerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const [containerRect, setContainerRect] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const setContainerRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node)=>{\n        containerRef.current = node;\n        if (observerRef.current) {\n            observerRef.current.disconnect();\n            observerRef.current = undefined;\n        }\n        const updateContainerRect = ()=>{\n            if (node) {\n                const styles = window.getComputedStyle(node);\n                const parse = (value)=>parseFloat(value) || 0;\n                setContainerRect({\n                    width: Math.round(node.clientWidth - parse(styles.paddingLeft) - parse(styles.paddingRight)),\n                    height: Math.round(node.clientHeight - parse(styles.paddingTop) - parse(styles.paddingBottom))\n                });\n            } else {\n                setContainerRect(undefined);\n            }\n        };\n        updateContainerRect();\n        if (node && typeof ResizeObserver !== \"undefined\") {\n            observerRef.current = new ResizeObserver(updateContainerRect);\n            observerRef.current.observe(node);\n        }\n    }, []);\n    return {\n        setContainerRef,\n        containerRef,\n        containerRect\n    };\n}\nfunction useDelay() {\n    const timeoutId = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { setTimeout, clearTimeout } = useTimeouts();\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((callback, delay)=>{\n        clearTimeout(timeoutId.current);\n        timeoutId.current = setTimeout(callback, delay > 0 ? delay : 0);\n    }, [\n        setTimeout,\n        clearTimeout\n    ]);\n}\nfunction useEventCallback(fn) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(fn);\n    useLayoutEffect(()=>{\n        ref.current = fn;\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((...args)=>{\n        var _a;\n        return (_a = ref.current) === null || _a === void 0 ? void 0 : _a.call(ref, ...args);\n    }, []);\n}\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    } else if (ref) {\n        ref.current = value;\n    }\n}\nfunction useForkRef(refA, refB) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>refA == null && refB == null ? null : (refValue)=>{\n            setRef(refA, refValue);\n            setRef(refB, refValue);\n        }, [\n        refA,\n        refB\n    ]);\n}\nfunction useLoseFocus(focus, disabled = false) {\n    const focused = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    useLayoutEffect(()=>{\n        if (disabled && focused.current) {\n            focused.current = false;\n            focus();\n        }\n    }, [\n        disabled,\n        focus\n    ]);\n    const onFocus = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        focused.current = true;\n    }, []);\n    const onBlur = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        focused.current = false;\n    }, []);\n    return {\n        onFocus,\n        onBlur\n    };\n}\nfunction useRTL() {\n    const [isRTL, setIsRTL] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    useLayoutEffect(()=>{\n        setIsRTL(window.getComputedStyle(window.document.documentElement).direction === \"rtl\");\n    }, []);\n    return isRTL;\n}\nfunction useSensors() {\n    const [subscribers] = react__WEBPACK_IMPORTED_MODULE_0__.useState({});\n    const notifySubscribers = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((type, event)=>{\n        var _a;\n        (_a = subscribers[type]) === null || _a === void 0 ? void 0 : _a.forEach((listener)=>{\n            if (!event.isPropagationStopped()) listener(event);\n        });\n    }, [\n        subscribers\n    ]);\n    const registerSensors = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>({\n            onPointerDown: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN, event),\n            onPointerMove: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE, event),\n            onPointerUp: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP, event),\n            onPointerLeave: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE, event),\n            onPointerCancel: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL, event),\n            onKeyDown: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, event),\n            onKeyUp: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_UP, event),\n            onWheel: (event)=>notifySubscribers(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, event)\n        }), [\n        notifySubscribers\n    ]);\n    const subscribeSensors = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((type, callback)=>{\n        if (!subscribers[type]) {\n            subscribers[type] = [];\n        }\n        subscribers[type].unshift(callback);\n        return ()=>{\n            const listeners = subscribers[type];\n            if (listeners) {\n                listeners.splice(0, listeners.length, ...listeners.filter((el)=>el !== callback));\n            }\n        };\n    }, [\n        subscribers\n    ]);\n    return {\n        registerSensors,\n        subscribeSensors\n    };\n}\nfunction useThrottle(callback, delay) {\n    const lastCallbackTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const delayCallback = useDelay();\n    const executeCallback = useEventCallback((...args)=>{\n        lastCallbackTime.current = Date.now();\n        callback(args);\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((...args)=>{\n        delayCallback(()=>{\n            executeCallback(args);\n        }, delay - (Date.now() - lastCallbackTime.current));\n    }, [\n        delay,\n        executeCallback,\n        delayCallback\n    ]);\n}\nconst slidePrefix = makeComposePrefix(\"slide\");\nconst slideImagePrefix = makeComposePrefix(\"slide_image\");\nfunction ImageSlide({ slide: image, offset, render, rect, imageFit, imageProps, onClick, onLoad, style }) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const [status, setStatus] = react__WEBPACK_IMPORTED_MODULE_0__.useState(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING);\n    const { publish } = useEvents();\n    const { setTimeout } = useTimeouts();\n    const imageRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        if (offset === 0) {\n            publish((0,_types_js__WEBPACK_IMPORTED_MODULE_2__.activeSlideStatus)(status));\n        }\n    }, [\n        offset,\n        status,\n        publish\n    ]);\n    const handleLoading = useEventCallback((img)=>{\n        (\"decode\" in img ? img.decode() : Promise.resolve()).catch(()=>{}).then(()=>{\n            if (!img.parentNode) {\n                return;\n            }\n            setStatus(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE);\n            setTimeout(()=>{\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(img);\n            }, 0);\n        });\n    });\n    const setImageRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((img)=>{\n        imageRef.current = img;\n        if (img === null || img === void 0 ? void 0 : img.complete) {\n            handleLoading(img);\n        }\n    }, [\n        handleLoading\n    ]);\n    const handleOnLoad = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event)=>{\n        handleLoading(event.currentTarget);\n    }, [\n        handleLoading\n    ]);\n    const onError = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        setStatus(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR);\n    }, []);\n    const cover = isImageFitCover(image, imageFit);\n    const nonInfinite = (value, fallback)=>Number.isFinite(value) ? value : fallback;\n    const maxWidth = nonInfinite(Math.max(...((_b = (_a = image.srcSet) === null || _a === void 0 ? void 0 : _a.map((x)=>x.width)) !== null && _b !== void 0 ? _b : []).concat(image.width ? [\n        image.width\n    ] : []).filter(Boolean)), ((_c = imageRef.current) === null || _c === void 0 ? void 0 : _c.naturalWidth) || 0);\n    const maxHeight = nonInfinite(Math.max(...((_e = (_d = image.srcSet) === null || _d === void 0 ? void 0 : _d.map((x)=>x.height)) !== null && _e !== void 0 ? _e : []).concat(image.height ? [\n        image.height\n    ] : []).filter(Boolean)), ((_f = imageRef.current) === null || _f === void 0 ? void 0 : _f.naturalHeight) || 0);\n    const defaultStyle = maxWidth && maxHeight ? {\n        maxWidth: `min(${maxWidth}px, 100%)`,\n        maxHeight: `min(${maxHeight}px, 100%)`\n    } : {\n        maxWidth: \"100%\",\n        maxHeight: \"100%\"\n    };\n    const srcSet = (_g = image.srcSet) === null || _g === void 0 ? void 0 : _g.sort((a, b)=>a.width - b.width).map((item)=>`${item.src} ${item.width}w`).join(\", \");\n    const estimateActualWidth = ()=>rect && !cover && image.width && image.height ? rect.height / image.height * image.width : Number.MAX_VALUE;\n    const sizes = srcSet && rect && hasWindow() ? `${Math.round(Math.min(estimateActualWidth(), rect.width))}px` : undefined;\n    const { style: imagePropsStyle, className: imagePropsClassName, ...restImageProps } = imageProps || {};\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        ref: setImageRef,\n        onLoad: handleOnLoad,\n        onError: onError,\n        onClick: onClick,\n        draggable: false,\n        className: clsx(cssClass(slideImagePrefix()), cover && cssClass(slideImagePrefix(\"cover\")), status !== _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE && cssClass(slideImagePrefix(\"loading\")), imagePropsClassName),\n        style: {\n            ...defaultStyle,\n            ...style,\n            ...imagePropsStyle\n        },\n        ...restImageProps,\n        alt: image.alt,\n        sizes: sizes,\n        srcSet: srcSet,\n        src: image.src\n    }), status !== _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLACEHOLDER))\n    }, status === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING && ((render === null || render === void 0 ? void 0 : render.iconLoading) ? render.iconLoading() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingIcon, {\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON), cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING)))\n    })), status === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR && ((render === null || render === void 0 ? void 0 : render.iconError) ? render.iconError() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ErrorIcon, {\n        className: clsx(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON), cssClass(slidePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR)))\n    }))));\n}\nvar SwipeState;\n(function(SwipeState) {\n    SwipeState[SwipeState[\"NONE\"] = 0] = \"NONE\";\n    SwipeState[SwipeState[\"SWIPE\"] = 1] = \"SWIPE\";\n    SwipeState[SwipeState[\"PULL\"] = 2] = \"PULL\";\n    SwipeState[SwipeState[\"ANIMATION\"] = 3] = \"ANIMATION\";\n})(SwipeState || (SwipeState = {}));\nfunction usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled) {\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>!disabled ? cleanup(subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_DOWN, onPointerDown), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_MOVE, onPointerMove), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_UP, onPointerUp), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_LEAVE, onPointerUp), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_POINTER_CANCEL, onPointerUp)) : ()=>{}, [\n        subscribeSensors,\n        onPointerDown,\n        onPointerMove,\n        onPointerUp,\n        disabled\n    ]);\n}\nvar Gesture;\n(function(Gesture) {\n    Gesture[Gesture[\"NONE\"] = 0] = \"NONE\";\n    Gesture[Gesture[\"SWIPE\"] = 1] = \"SWIPE\";\n    Gesture[Gesture[\"PULL\"] = 2] = \"PULL\";\n})(Gesture || (Gesture = {}));\nconst SWIPE_THRESHOLD = 30;\nfunction usePointerSwipe(subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel, pullUpEnabled, pullDownEnabled, onPullStart, onPullProgress, onPullFinish, onPullCancel) {\n    const offset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pointers = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const activePointer = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const startTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const gesture = react__WEBPACK_IMPORTED_MODULE_0__.useRef(Gesture.NONE);\n    const clearPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event)=>{\n        if (activePointer.current === event.pointerId) {\n            activePointer.current = undefined;\n            gesture.current = Gesture.NONE;\n        }\n        const currentPointers = pointers.current;\n        currentPointers.splice(0, currentPointers.length, ...currentPointers.filter((p)=>p.pointerId !== event.pointerId));\n    }, []);\n    const addPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event)=>{\n        clearPointer(event);\n        event.persist();\n        pointers.current.push(event);\n    }, [\n        clearPointer\n    ]);\n    const onPointerDown = useEventCallback((event)=>{\n        addPointer(event);\n    });\n    const exceedsPullThreshold = (value, threshold)=>pullDownEnabled && value > threshold || pullUpEnabled && value < -threshold;\n    const onPointerUp = useEventCallback((event)=>{\n        if (pointers.current.find((x)=>x.pointerId === event.pointerId) && activePointer.current === event.pointerId) {\n            const duration = Date.now() - startTime.current;\n            const currentOffset = offset.current;\n            if (gesture.current === Gesture.SWIPE) {\n                if (Math.abs(currentOffset) > 0.3 * containerWidth || Math.abs(currentOffset) > 5 && duration < swipeAnimationDuration) {\n                    onSwipeFinish(currentOffset, duration);\n                } else {\n                    onSwipeCancel(currentOffset);\n                }\n            } else if (gesture.current === Gesture.PULL) {\n                if (exceedsPullThreshold(currentOffset, 2 * SWIPE_THRESHOLD)) {\n                    onPullFinish(currentOffset, duration);\n                } else {\n                    onPullCancel(currentOffset);\n                }\n            }\n            offset.current = 0;\n            gesture.current = Gesture.NONE;\n        }\n        clearPointer(event);\n    });\n    const onPointerMove = useEventCallback((event)=>{\n        const pointer = pointers.current.find((p)=>p.pointerId === event.pointerId);\n        if (pointer) {\n            const isCurrentPointer = activePointer.current === event.pointerId;\n            if (event.buttons === 0) {\n                if (isCurrentPointer && offset.current !== 0) {\n                    onPointerUp(event);\n                } else {\n                    clearPointer(pointer);\n                }\n                return;\n            }\n            const deltaX = event.clientX - pointer.clientX;\n            const deltaY = event.clientY - pointer.clientY;\n            if (activePointer.current === undefined) {\n                const startGesture = (newGesture)=>{\n                    addPointer(event);\n                    activePointer.current = event.pointerId;\n                    startTime.current = Date.now();\n                    gesture.current = newGesture;\n                };\n                if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > SWIPE_THRESHOLD && isSwipeValid(deltaX)) {\n                    startGesture(Gesture.SWIPE);\n                    onSwipeStart();\n                } else if (Math.abs(deltaY) > Math.abs(deltaX) && exceedsPullThreshold(deltaY, SWIPE_THRESHOLD)) {\n                    startGesture(Gesture.PULL);\n                    onPullStart();\n                }\n            } else if (isCurrentPointer) {\n                if (gesture.current === Gesture.SWIPE) {\n                    offset.current = deltaX;\n                    onSwipeProgress(deltaX);\n                } else if (gesture.current === Gesture.PULL) {\n                    offset.current = deltaY;\n                    onPullProgress(deltaY);\n                }\n            }\n        }\n    });\n    usePointerEvents(subscribeSensors, onPointerDown, onPointerMove, onPointerUp);\n}\nfunction usePreventWheelDefaults({ preventDefaultWheelX, preventDefaultWheelY }) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const listener = useEventCallback((event)=>{\n        const horizontal = Math.abs(event.deltaX) > Math.abs(event.deltaY);\n        if (horizontal && preventDefaultWheelX || !horizontal && preventDefaultWheelY || event.ctrlKey) {\n            event.preventDefault();\n        }\n    });\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node)=>{\n        var _a;\n        if (node) {\n            node.addEventListener(\"wheel\", listener, {\n                passive: false\n            });\n        } else {\n            (_a = ref.current) === null || _a === void 0 ? void 0 : _a.removeEventListener(\"wheel\", listener);\n        }\n        ref.current = node;\n    }, [\n        listener\n    ]);\n}\nfunction useWheelSwipe(swipeState, subscribeSensors, isSwipeValid, containerWidth, swipeAnimationDuration, onSwipeStart, onSwipeProgress, onSwipeFinish, onSwipeCancel) {\n    const offset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const intent = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const intentCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const resetCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const wheelResidualMomentum = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const startTime = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const { setTimeout, clearTimeout } = useTimeouts();\n    const cancelSwipeIntentCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        if (intentCleanup.current) {\n            clearTimeout(intentCleanup.current);\n            intentCleanup.current = undefined;\n        }\n    }, [\n        clearTimeout\n    ]);\n    const cancelSwipeResetCleanup = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>{\n        if (resetCleanup.current) {\n            clearTimeout(resetCleanup.current);\n            resetCleanup.current = undefined;\n        }\n    }, [\n        clearTimeout\n    ]);\n    const handleCleanup = useEventCallback(()=>{\n        if (swipeState !== SwipeState.SWIPE) {\n            offset.current = 0;\n            startTime.current = 0;\n            cancelSwipeIntentCleanup();\n            cancelSwipeResetCleanup();\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(handleCleanup, [\n        swipeState,\n        handleCleanup\n    ]);\n    const handleCancelSwipe = useEventCallback((currentSwipeOffset)=>{\n        resetCleanup.current = undefined;\n        if (offset.current === currentSwipeOffset) {\n            onSwipeCancel(offset.current);\n        }\n    });\n    const onWheel = useEventCallback((event)=>{\n        if (event.ctrlKey) {\n            return;\n        }\n        if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n            return;\n        }\n        if (swipeState === SwipeState.NONE) {\n            if (Math.abs(event.deltaX) <= 1.2 * Math.abs(wheelResidualMomentum.current)) {\n                wheelResidualMomentum.current = event.deltaX;\n                return;\n            }\n            if (!isSwipeValid(-event.deltaX)) {\n                return;\n            }\n            intent.current += event.deltaX;\n            cancelSwipeIntentCleanup();\n            if (Math.abs(intent.current) > 30) {\n                intent.current = 0;\n                wheelResidualMomentum.current = 0;\n                startTime.current = Date.now();\n                onSwipeStart();\n            } else {\n                const currentSwipeIntent = intent.current;\n                intentCleanup.current = setTimeout(()=>{\n                    intentCleanup.current = undefined;\n                    if (currentSwipeIntent === intent.current) {\n                        intent.current = 0;\n                    }\n                }, swipeAnimationDuration);\n            }\n        } else if (swipeState === SwipeState.SWIPE) {\n            let newSwipeOffset = offset.current - event.deltaX;\n            newSwipeOffset = Math.min(Math.abs(newSwipeOffset), containerWidth) * Math.sign(newSwipeOffset);\n            offset.current = newSwipeOffset;\n            onSwipeProgress(newSwipeOffset);\n            cancelSwipeResetCleanup();\n            if (Math.abs(newSwipeOffset) > 0.2 * containerWidth) {\n                wheelResidualMomentum.current = event.deltaX;\n                onSwipeFinish(newSwipeOffset, Date.now() - startTime.current);\n                return;\n            }\n            resetCleanup.current = setTimeout(()=>handleCancelSwipe(newSwipeOffset), 2 * swipeAnimationDuration);\n        } else {\n            wheelResidualMomentum.current = event.deltaX;\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, onWheel), [\n        subscribeSensors,\n        onWheel\n    ]);\n}\nconst cssContainerPrefix = makeComposePrefix(\"container\");\nconst ControllerContext = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useController = makeUseContext(\"useController\", \"ControllerContext\", ControllerContext);\nfunction Controller({ children, ...props }) {\n    var _a;\n    const { carousel, animation, controller, on, styles, render } = props;\n    const { closeOnPullUp, closeOnPullDown, preventDefaultWheelX, preventDefaultWheelY } = controller;\n    const [toolbarWidth, setToolbarWidth] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const state = useLightboxState();\n    const dispatch = useLightboxDispatch();\n    const [swipeState, setSwipeState] = react__WEBPACK_IMPORTED_MODULE_0__.useState(SwipeState.NONE);\n    const swipeOffset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pullOffset = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pullOpacity = react__WEBPACK_IMPORTED_MODULE_0__.useRef(1);\n    const { registerSensors, subscribeSensors } = useSensors();\n    const { subscribe, publish } = useEvents();\n    const cleanupAnimationIncrement = useDelay();\n    const cleanupSwipeOffset = useDelay();\n    const cleanupPullOffset = useDelay();\n    const { containerRef, setContainerRef, containerRect } = useContainerRect();\n    const handleContainerRef = useForkRef(usePreventWheelDefaults({\n        preventDefaultWheelX,\n        preventDefaultWheelY\n    }), setContainerRef);\n    const carouselRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const setCarouselRef = useForkRef(carouselRef, undefined);\n    const isRTL = useRTL();\n    const rtl = (value)=>(isRTL ? -1 : 1) * (typeof value === \"number\" ? value : 1);\n    const focus = useEventCallback(()=>{\n        var _a;\n        return (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    });\n    const getLightboxProps = useEventCallback(()=>props);\n    const getLightboxState = useEventCallback(()=>state);\n    const prev = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((params)=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, params), [\n        publish\n    ]);\n    const next = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((params)=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, params), [\n        publish\n    ]);\n    const close = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE), [\n        publish\n    ]);\n    const isSwipeValid = (offset)=>!(carousel.finite && (rtl(offset) > 0 && state.currentIndex === 0 || rtl(offset) < 0 && state.currentIndex === state.slides.length - 1));\n    const setSwipeOffset = (offset)=>{\n        var _a;\n        swipeOffset.current = offset;\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"swipe_offset\"), `${Math.round(offset)}px`);\n    };\n    const setPullOffset = (offset)=>{\n        var _a, _b;\n        pullOffset.current = offset;\n        pullOpacity.current = (()=>{\n            const threshold = 60;\n            const minOpacity = 0.5;\n            const offsetValue = (()=>{\n                if (closeOnPullDown && offset > 0) return offset;\n                if (closeOnPullUp && offset < 0) return -offset;\n                return 0;\n            })();\n            return Math.min(Math.max(round(1 - offsetValue / threshold * (1 - minOpacity), 2), minOpacity), 1);\n        })();\n        (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.style.setProperty(cssVar(\"pull_offset\"), `${Math.round(offset)}px`);\n        (_b = containerRef.current) === null || _b === void 0 ? void 0 : _b.style.setProperty(cssVar(\"pull_opacity\"), `${pullOpacity.current}`);\n    };\n    const { prepareAnimation: preparePullAnimation } = useAnimation(carouselRef, (snapshot, rect, translate)=>{\n        if (carouselRef.current && containerRect) {\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(0, ${snapshot.rect.y - rect.y + translate.y}px)`,\n                        opacity: snapshot.opacity\n                    },\n                    {\n                        transform: \"translate(0, 0)\",\n                        opacity: 1\n                    }\n                ],\n                duration: snapshot.duration,\n                easing: animation.easing.fade\n            };\n        }\n        return undefined;\n    });\n    const pull = (offset, cancel)=>{\n        if (closeOnPullUp || closeOnPullDown) {\n            setPullOffset(offset);\n            let duration = 0;\n            if (carouselRef.current) {\n                duration = animation.fade * (cancel ? 2 : 1);\n                preparePullAnimation({\n                    rect: carouselRef.current.getBoundingClientRect(),\n                    opacity: pullOpacity.current,\n                    duration\n                });\n            }\n            cleanupPullOffset(()=>{\n                setPullOffset(0);\n                setSwipeState(SwipeState.NONE);\n            }, duration);\n            setSwipeState(SwipeState.ANIMATION);\n            if (!cancel) {\n                close();\n            }\n        }\n    };\n    const { prepareAnimation, isAnimationPlaying } = useAnimation(carouselRef, (snapshot, rect, translate)=>{\n        var _a;\n        if (carouselRef.current && containerRect && ((_a = state.animation) === null || _a === void 0 ? void 0 : _a.duration)) {\n            const parsedSpacing = parseLengthPercentage(carousel.spacing);\n            const spacingValue = (parsedSpacing.percent ? parsedSpacing.percent * containerRect.width / 100 : parsedSpacing.pixel) || 0;\n            return {\n                keyframes: [\n                    {\n                        transform: `translate(${rtl(state.globalIndex - snapshot.index) * (containerRect.width + spacingValue) + snapshot.rect.x - rect.x + translate.x}px, 0)`\n                    },\n                    {\n                        transform: \"translate(0, 0)\"\n                    }\n                ],\n                duration: state.animation.duration,\n                easing: state.animation.easing\n            };\n        }\n        return undefined;\n    });\n    const swipe = useEventCallback((action)=>{\n        var _a, _b;\n        const currentSwipeOffset = action.offset || 0;\n        const swipeDuration = !currentSwipeOffset ? (_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe : animation.swipe;\n        const swipeEasing = !currentSwipeOffset && !isAnimationPlaying() ? animation.easing.navigation : animation.easing.swipe;\n        let { direction } = action;\n        const count = (_b = action.count) !== null && _b !== void 0 ? _b : 1;\n        let newSwipeState = SwipeState.ANIMATION;\n        let newSwipeAnimationDuration = swipeDuration * count;\n        if (!direction) {\n            const containerWidth = containerRect === null || containerRect === void 0 ? void 0 : containerRect.width;\n            const elapsedTime = action.duration || 0;\n            const expectedTime = containerWidth ? swipeDuration / containerWidth * Math.abs(currentSwipeOffset) : swipeDuration;\n            if (count !== 0) {\n                if (elapsedTime < expectedTime) {\n                    newSwipeAnimationDuration = newSwipeAnimationDuration / expectedTime * Math.max(elapsedTime, expectedTime / 5);\n                } else if (containerWidth) {\n                    newSwipeAnimationDuration = swipeDuration / containerWidth * (containerWidth - Math.abs(currentSwipeOffset));\n                }\n                direction = rtl(currentSwipeOffset) > 0 ? _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV : _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT;\n            } else {\n                newSwipeAnimationDuration = swipeDuration / 2;\n            }\n        }\n        let increment = 0;\n        if (direction === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV) {\n            if (isSwipeValid(rtl(1))) {\n                increment = -count;\n            } else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        } else if (direction === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT) {\n            if (isSwipeValid(rtl(-1))) {\n                increment = count;\n            } else {\n                newSwipeState = SwipeState.NONE;\n                newSwipeAnimationDuration = swipeDuration;\n            }\n        }\n        newSwipeAnimationDuration = Math.round(newSwipeAnimationDuration);\n        cleanupSwipeOffset(()=>{\n            setSwipeOffset(0);\n            setSwipeState(SwipeState.NONE);\n        }, newSwipeAnimationDuration);\n        if (carouselRef.current) {\n            prepareAnimation({\n                rect: carouselRef.current.getBoundingClientRect(),\n                index: state.globalIndex\n            });\n        }\n        setSwipeState(newSwipeState);\n        publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, {\n            type: \"swipe\",\n            increment,\n            duration: newSwipeAnimationDuration,\n            easing: swipeEasing\n        });\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        var _a, _b;\n        if (((_a = state.animation) === null || _a === void 0 ? void 0 : _a.increment) && ((_b = state.animation) === null || _b === void 0 ? void 0 : _b.duration)) {\n            cleanupAnimationIncrement(()=>dispatch({\n                    type: \"swipe\",\n                    increment: 0\n                }), state.animation.duration);\n        }\n    }, [\n        state.animation,\n        dispatch,\n        cleanupAnimationIncrement\n    ]);\n    const swipeParams = [\n        subscribeSensors,\n        isSwipeValid,\n        (containerRect === null || containerRect === void 0 ? void 0 : containerRect.width) || 0,\n        animation.swipe,\n        ()=>setSwipeState(SwipeState.SWIPE),\n        (offset)=>setSwipeOffset(offset),\n        (offset, duration)=>swipe({\n                offset,\n                duration,\n                count: 1\n            }),\n        (offset)=>swipe({\n                offset,\n                count: 0\n            })\n    ];\n    const pullParams = [\n        ()=>{\n            if (closeOnPullDown) {\n                setSwipeState(SwipeState.PULL);\n            }\n        },\n        (offset)=>setPullOffset(offset),\n        (offset)=>pull(offset),\n        (offset)=>pull(offset, true)\n    ];\n    usePointerSwipe(...swipeParams, closeOnPullUp, closeOnPullDown, ...pullParams);\n    useWheelSwipe(swipeState, ...swipeParams);\n    const focusOnMount = useEventCallback(()=>{\n        if (controller.focus) {\n            if (document.querySelector(`.${cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL)} .${cssClass(cssContainerPrefix())}`)) {\n                focus();\n            }\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(focusOnMount, [\n        focusOnMount\n    ]);\n    const onViewCallback = useEventCallback(()=>{\n        var _a;\n        (_a = on.view) === null || _a === void 0 ? void 0 : _a.call(on, {\n            index: state.currentIndex\n        });\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(onViewCallback, [\n        state.globalIndex,\n        onViewCallback\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>cleanup(subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, (action)=>swipe({\n                direction: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV,\n                ...action\n            })), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, (action)=>swipe({\n                direction: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT,\n                ...action\n            })), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, (action)=>dispatch(action))), [\n        subscribe,\n        swipe,\n        dispatch\n    ]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(()=>({\n            prev,\n            next,\n            close,\n            focus,\n            slideRect: containerRect ? computeSlideRect(containerRect, carousel.padding) : {\n                width: 0,\n                height: 0\n            },\n            containerRect: containerRect || {\n                width: 0,\n                height: 0\n            },\n            subscribeSensors,\n            containerRef,\n            setCarouselRef,\n            toolbarWidth,\n            setToolbarWidth\n        }), [\n        prev,\n        next,\n        close,\n        focus,\n        subscribeSensors,\n        containerRect,\n        containerRef,\n        setCarouselRef,\n        toolbarWidth,\n        setToolbarWidth,\n        carousel.padding\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(controller.ref, ()=>({\n            prev,\n            next,\n            close,\n            focus,\n            getLightboxProps,\n            getLightboxState\n        }), [\n        prev,\n        next,\n        close,\n        focus,\n        getLightboxProps,\n        getLightboxState\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: handleContainerRef,\n        className: clsx(cssClass(cssContainerPrefix()), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)),\n        style: {\n            ...swipeState === SwipeState.SWIPE ? {\n                [cssVar(\"swipe_offset\")]: `${Math.round(swipeOffset.current)}px`\n            } : null,\n            ...swipeState === SwipeState.PULL ? {\n                [cssVar(\"pull_offset\")]: `${Math.round(pullOffset.current)}px`,\n                [cssVar(\"pull_opacity\")]: `${pullOpacity.current}`\n            } : null,\n            ...controller.touchAction !== \"none\" ? {\n                [cssVar(\"controller_touch_action\")]: controller.touchAction\n            } : null,\n            ...styles.container\n        },\n        ...controller.aria ? {\n            role: \"presentation\",\n            \"aria-live\": \"polite\"\n        } : null,\n        tabIndex: -1,\n        ...registerSensors\n    }, containerRect && /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ControllerContext.Provider, {\n        value: context\n    }, children, (_a = render.controls) === null || _a === void 0 ? void 0 : _a.call(render)));\n}\nconst ControllerModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, Controller);\nfunction cssPrefix$2(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL, value);\n}\nfunction cssSlidePrefix(value) {\n    return composePrefix(\"slide\", value);\n}\nfunction CarouselSlide({ slide, offset }) {\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { currentIndex } = useLightboxState();\n    const { slideRect, close } = useController();\n    const { render, carousel: { imageFit, imageProps }, on: { click: onClick }, controller: { closeOnBackdropClick }, styles: { slide: style } } = useLightboxProps();\n    const renderSlide = ()=>{\n        var _a, _b, _c, _d;\n        let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, {\n            slide,\n            offset,\n            rect: slideRect\n        });\n        if (!rendered && isImageSlide(slide)) {\n            rendered = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ImageSlide, {\n                slide: slide,\n                offset: offset,\n                render: render,\n                rect: slideRect,\n                imageFit: imageFit,\n                imageProps: imageProps,\n                onClick: offset === 0 ? ()=>onClick === null || onClick === void 0 ? void 0 : onClick({\n                        index: currentIndex\n                    }) : undefined\n            });\n        }\n        return rendered ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (_b = render.slideHeader) === null || _b === void 0 ? void 0 : _b.call(render, {\n            slide\n        }), ((_c = render.slideContainer) !== null && _c !== void 0 ? _c : ({ children })=>children)({\n            slide,\n            children: rendered\n        }), (_d = render.slideFooter) === null || _d === void 0 ? void 0 : _d.call(render, {\n            slide\n        })) : null;\n    };\n    const handleBackdropClick = (event)=>{\n        const container = containerRef.current;\n        const target = event.target instanceof HTMLElement ? event.target : undefined;\n        if (closeOnBackdropClick && target && container && (target === container || Array.from(container.children).find((x)=>x === target) && target.classList.contains(cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER)))) {\n            close();\n        }\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: containerRef,\n        className: clsx(cssClass(cssSlidePrefix()), offset === 0 && cssClass(cssSlidePrefix(\"current\")), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)),\n        onClick: handleBackdropClick,\n        style: style\n    }, renderSlide());\n}\nfunction Placeholder() {\n    const style = useLightboxProps().styles.slide;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cssClass(\"slide\"),\n        style: style\n    });\n}\nfunction Carousel({ carousel }) {\n    const { slides, currentIndex, globalIndex } = useLightboxState();\n    const { setCarouselRef } = useController();\n    const spacingValue = parseLengthPercentage(carousel.spacing);\n    const paddingValue = parseLengthPercentage(carousel.padding);\n    const items = [];\n    const preload = calculatePreload(carousel, slides, 1);\n    if (hasSlides(slides)) {\n        for(let i = currentIndex - preload; i < currentIndex; i += 1){\n            const key = globalIndex + i - currentIndex;\n            items.push(!carousel.finite || i >= 0 ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CarouselSlide, {\n                key: key,\n                slide: slides[(i + preload * slides.length) % slides.length],\n                offset: i - currentIndex\n            }) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Placeholder, {\n                key: key\n            }));\n        }\n        items.push(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CarouselSlide, {\n            key: globalIndex,\n            slide: slides[currentIndex],\n            offset: 0\n        }));\n        for(let i = currentIndex + 1; i <= currentIndex + preload; i += 1){\n            const key = globalIndex + i - currentIndex;\n            items.push(!carousel.finite || i <= slides.length - 1 ? /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CarouselSlide, {\n                key: key,\n                slide: slides[i % slides.length],\n                offset: i - currentIndex\n            }) : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Placeholder, {\n                key: key\n            }));\n        }\n    }\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setCarouselRef,\n        className: clsx(cssClass(cssPrefix$2()), items.length > 0 && cssClass(cssPrefix$2(\"with_slides\"))),\n        style: {\n            [`${cssVar(cssPrefix$2(\"slides_count\"))}`]: items.length,\n            [`${cssVar(cssPrefix$2(\"spacing_px\"))}`]: spacingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"spacing_percent\"))}`]: spacingValue.percent || 0,\n            [`${cssVar(cssPrefix$2(\"padding_px\"))}`]: paddingValue.pixel || 0,\n            [`${cssVar(cssPrefix$2(\"padding_percent\"))}`]: paddingValue.percent || 0\n        }\n    }, items);\n}\nconst CarouselModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CAROUSEL, Carousel);\nfunction useNavigationState() {\n    const { carousel } = useLightboxProps();\n    const { slides, currentIndex } = useLightboxState();\n    const prevDisabled = slides.length === 0 || carousel.finite && currentIndex === 0;\n    const nextDisabled = slides.length === 0 || carousel.finite && currentIndex === slides.length - 1;\n    return {\n        prevDisabled,\n        nextDisabled\n    };\n}\nfunction useKeyboardNavigation(subscribeSensors) {\n    var _a;\n    const isRTL = useRTL();\n    const { publish } = useEvents();\n    const { animation } = useLightboxProps();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    const throttle = ((_a = animation.navigation) !== null && _a !== void 0 ? _a : animation.swipe) / 2;\n    const prev = useThrottle(()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV), throttle);\n    const next = useThrottle(()=>publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT), throttle);\n    const handleKeyDown = useEventCallback((event)=>{\n        switch(event.key){\n            case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ESCAPE:\n                publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE);\n                break;\n            case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_LEFT:\n                if (!(isRTL ? nextDisabled : prevDisabled)) (isRTL ? next : prev)();\n                break;\n            case _types_js__WEBPACK_IMPORTED_MODULE_2__.VK_ARROW_RIGHT:\n                if (!(isRTL ? prevDisabled : nextDisabled)) (isRTL ? prev : next)();\n                break;\n            default:\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, handleKeyDown), [\n        subscribeSensors,\n        handleKeyDown\n    ]);\n}\nfunction NavigationButton({ label, icon, renderIcon, action, onClick, disabled, style }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton, {\n        label: label,\n        icon: icon,\n        renderIcon: renderIcon,\n        className: cssClass(`navigation_${action}`),\n        disabled: disabled,\n        onClick: onClick,\n        style: style,\n        ...useLoseFocus(useController().focus, disabled)\n    });\n}\nfunction Navigation({ render: { buttonPrev, buttonNext, iconPrev, iconNext }, styles }) {\n    const { prev, next, subscribeSensors } = useController();\n    const { prevDisabled, nextDisabled } = useNavigationState();\n    useKeyboardNavigation(subscribeSensors);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, buttonPrev ? buttonPrev() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NavigationButton, {\n        label: \"Previous\",\n        action: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV,\n        icon: PreviousIcon,\n        renderIcon: iconPrev,\n        style: styles.navigationPrev,\n        disabled: prevDisabled,\n        onClick: prev\n    }), buttonNext ? buttonNext() : /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NavigationButton, {\n        label: \"Next\",\n        action: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT,\n        icon: NextIcon,\n        renderIcon: iconNext,\n        style: styles.navigationNext,\n        disabled: nextDisabled,\n        onClick: next\n    }));\n}\nconst NavigationModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NAVIGATION, Navigation);\nconst noScroll = cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL);\nconst noScrollPadding = cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING);\nfunction isHTMLElement(element) {\n    return \"style\" in element;\n}\nfunction padScrollbar(element, padding, rtl) {\n    const styles = window.getComputedStyle(element);\n    const property = rtl ? \"padding-left\" : \"padding-right\";\n    const computedValue = rtl ? styles.paddingLeft : styles.paddingRight;\n    const originalValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, `${(parseInt(computedValue) || 0) + padding}px`);\n    return ()=>{\n        if (originalValue) {\n            element.style.setProperty(property, originalValue);\n        } else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction NoScroll({ noScroll: { disabled }, children }) {\n    const rtl = useRTL();\n    useLayoutEffect(()=>{\n        if (disabled) return ()=>{};\n        const cleanup = [];\n        const { body, documentElement } = document;\n        const scrollbar = Math.round(window.innerWidth - documentElement.clientWidth);\n        if (scrollbar > 0) {\n            cleanup.push(padScrollbar(body, scrollbar, rtl));\n            const elements = body.getElementsByTagName(\"*\");\n            for(let i = 0; i < elements.length; i += 1){\n                const element = elements[i];\n                if (isHTMLElement(element) && window.getComputedStyle(element).getPropertyValue(\"position\") === \"fixed\" && !element.classList.contains(noScrollPadding)) {\n                    cleanup.push(padScrollbar(element, scrollbar, rtl));\n                }\n            }\n        }\n        body.classList.add(noScroll);\n        return ()=>{\n            body.classList.remove(noScroll);\n            cleanup.forEach((clean)=>clean());\n        };\n    }, [\n        rtl,\n        disabled\n    ]);\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nconst NoScrollModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_NO_SCROLL, NoScroll);\nfunction cssPrefix$1(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL, value);\n}\nfunction setAttribute(element, attribute, value) {\n    const previousValue = element.getAttribute(attribute);\n    element.setAttribute(attribute, value);\n    return ()=>{\n        if (previousValue) {\n            element.setAttribute(attribute, previousValue);\n        } else {\n            element.removeAttribute(attribute);\n        }\n    };\n}\nfunction Portal({ children, animation, styles, className, on, portal, close }) {\n    const [mounted, setMounted] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const [visible, setVisible] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const cleanup = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const restoreFocus = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { setTimeout } = useTimeouts();\n    const { subscribe } = useEvents();\n    const reduceMotion = useMotionPreference();\n    const animationDuration = !reduceMotion ? animation.fade : 0;\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{\n        setMounted(true);\n        return ()=>{\n            setMounted(false);\n            setVisible(false);\n        };\n    }, []);\n    const handleCleanup = useEventCallback(()=>{\n        cleanup.current.forEach((clean)=>clean());\n        cleanup.current = [];\n    });\n    const handleClose = useEventCallback(()=>{\n        var _a;\n        setVisible(false);\n        handleCleanup();\n        (_a = on.exiting) === null || _a === void 0 ? void 0 : _a.call(on);\n        setTimeout(()=>{\n            var _a;\n            (_a = on.exited) === null || _a === void 0 ? void 0 : _a.call(on);\n            close();\n        }, animationDuration);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE, handleClose), [\n        subscribe,\n        handleClose\n    ]);\n    const handleEnter = useEventCallback((node)=>{\n        var _a, _b, _c;\n        node.scrollTop;\n        setVisible(true);\n        (_a = on.entering) === null || _a === void 0 ? void 0 : _a.call(on);\n        const elements = (_c = (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : [];\n        for(let i = 0; i < elements.length; i += 1){\n            const element = elements[i];\n            if ([\n                \"TEMPLATE\",\n                \"SCRIPT\",\n                \"STYLE\"\n            ].indexOf(element.tagName) === -1 && element !== node) {\n                cleanup.current.push(setAttribute(element, \"inert\", \"true\"));\n                cleanup.current.push(setAttribute(element, \"aria-hidden\", \"true\"));\n            }\n        }\n        cleanup.current.push(()=>{\n            var _a, _b;\n            (_b = (_a = restoreFocus.current) === null || _a === void 0 ? void 0 : _a.focus) === null || _b === void 0 ? void 0 : _b.call(_a);\n        });\n        setTimeout(()=>{\n            var _a;\n            (_a = on.entered) === null || _a === void 0 ? void 0 : _a.call(on);\n        }, animationDuration);\n    });\n    const handleRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node)=>{\n        if (node) {\n            handleEnter(node);\n        } else {\n            handleCleanup();\n        }\n    }, [\n        handleEnter,\n        handleCleanup\n    ]);\n    return mounted ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(/*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: handleRef,\n        className: clsx(className, cssClass(\"root\"), cssClass(cssPrefix$1()), cssClass(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_NO_SCROLL_PADDING), visible && cssClass(cssPrefix$1(\"open\"))),\n        role: \"presentation\",\n        \"aria-live\": \"polite\",\n        style: {\n            ...animation.fade !== LightboxDefaultProps.animation.fade ? {\n                [cssVar(\"fade_animation_duration\")]: `${animationDuration}ms`\n            } : null,\n            ...animation.easing.fade !== LightboxDefaultProps.animation.easing.fade ? {\n                [cssVar(\"fade_animation_timing_function\")]: animation.easing.fade\n            } : null,\n            ...styles.root\n        },\n        onFocus: (event)=>{\n            if (!restoreFocus.current) {\n                restoreFocus.current = event.relatedTarget;\n            }\n        }\n    }, children), portal.root || document.body) : null;\n}\nconst PortalModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_PORTAL, Portal);\nfunction Root({ children }) {\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, children);\n}\nconst RootModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_ROOT, Root);\nfunction cssPrefix(value) {\n    return composePrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR, value);\n}\nfunction Toolbar({ toolbar: { buttons }, render: { buttonClose, iconClose }, styles }) {\n    const { close, setToolbarWidth } = useController();\n    const { setContainerRef, containerRect } = useContainerRect();\n    useLayoutEffect(()=>{\n        setToolbarWidth(containerRect === null || containerRect === void 0 ? void 0 : containerRect.width);\n    }, [\n        setToolbarWidth,\n        containerRect === null || containerRect === void 0 ? void 0 : containerRect.width\n    ]);\n    const renderCloseButton = ()=>{\n        if (buttonClose) return buttonClose();\n        return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton, {\n            key: _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE,\n            label: \"Close\",\n            icon: CloseIcon,\n            renderIcon: iconClose,\n            onClick: close\n        });\n    };\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ref: setContainerRef,\n        style: styles.toolbar,\n        className: cssClass(cssPrefix())\n    }, buttons === null || buttons === void 0 ? void 0 : buttons.map((button)=>button === _types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_CLOSE ? renderCloseButton() : button));\n}\nconst ToolbarModule = createModule(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_TOOLBAR, Toolbar);\nfunction renderNode(node, props) {\n    var _a;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(node.module.component, {\n        key: node.module.name,\n        ...props\n    }, (_a = node.children) === null || _a === void 0 ? void 0 : _a.map((child)=>renderNode(child, props)));\n}\nfunction mergeAnimation(defaultAnimation, animation = {}) {\n    const { easing: defaultAnimationEasing, ...restDefaultAnimation } = defaultAnimation;\n    const { easing, ...restAnimation } = animation;\n    return {\n        easing: {\n            ...defaultAnimationEasing,\n            ...easing\n        },\n        ...restDefaultAnimation,\n        ...restAnimation\n    };\n}\nfunction Lightbox({ carousel, animation, render, toolbar, controller, noScroll, on, plugins, slides, index, ...restProps }) {\n    const { animation: defaultAnimation, carousel: defaultCarousel, render: defaultRender, toolbar: defaultToolbar, controller: defaultController, noScroll: defaultNoScroll, on: defaultOn, slides: defaultSlides, index: defaultIndex, plugins: defaultPlugins, ...restDefaultProps } = LightboxDefaultProps;\n    const { config, augmentation } = withPlugins([\n        createNode(PortalModule, [\n            createNode(NoScrollModule, [\n                createNode(ControllerModule, [\n                    createNode(CarouselModule),\n                    createNode(ToolbarModule),\n                    createNode(NavigationModule)\n                ])\n            ])\n        ])\n    ], plugins || defaultPlugins);\n    const props = augmentation({\n        animation: mergeAnimation(defaultAnimation, animation),\n        carousel: {\n            ...defaultCarousel,\n            ...carousel\n        },\n        render: {\n            ...defaultRender,\n            ...render\n        },\n        toolbar: {\n            ...defaultToolbar,\n            ...toolbar\n        },\n        controller: {\n            ...defaultController,\n            ...controller\n        },\n        noScroll: {\n            ...defaultNoScroll,\n            ...noScroll\n        },\n        on: {\n            ...defaultOn,\n            ...on\n        },\n        ...restDefaultProps,\n        ...restProps\n    });\n    if (!props.open) return null;\n    return /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxPropsProvider, {\n        ...props\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LightboxStateProvider, {\n        slides: slides || defaultSlides,\n        index: parseInt(index || defaultIndex)\n    }, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TimeoutsProvider, null, /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EventsProvider, null, renderNode(createNode(RootModule, config), props)))));\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OyttRUFDK0I7QUFDaXBCO0FBQ3ZvQjtBQUNvUTtBQUU3UyxNQUFNcUQsY0FBYztBQUNwQixTQUFTQyxLQUFLLEdBQUdDLE9BQU87SUFDcEIsT0FBTztXQUFJQTtLQUFRLENBQUNDLE1BQU0sQ0FBQ0MsU0FBU0MsSUFBSSxDQUFDO0FBQzdDO0FBQ0EsU0FBU0MsU0FBU0MsSUFBSTtJQUNsQixPQUFPLENBQUMsRUFBRVAsWUFBWSxFQUFFTyxLQUFLLENBQUM7QUFDbEM7QUFDQSxTQUFTQyxPQUFPRCxJQUFJO0lBQ2hCLE9BQU8sQ0FBQyxFQUFFLEVBQUVQLFlBQVksRUFBRU8sS0FBSyxDQUFDO0FBQ3BDO0FBQ0EsU0FBU0UsY0FBY0MsSUFBSSxFQUFFQyxNQUFNO0lBQy9CLE9BQU8sQ0FBQyxFQUFFRCxLQUFLLEVBQUVDLFNBQVMsQ0FBQyxDQUFDLEVBQUVBLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUNqRDtBQUNBLFNBQVNDLGtCQUFrQkYsSUFBSTtJQUMzQixPQUFPLENBQUNDLFNBQVdGLGNBQWNDLE1BQU1DO0FBQzNDO0FBQ0EsU0FBU0UsTUFBTUMsTUFBTSxFQUFFQyxZQUFZO0lBQy9CLElBQUlDO0lBQ0osT0FBTyxDQUFDQSxLQUFLRixXQUFXLFFBQVFBLFdBQVcsS0FBSyxJQUFJLEtBQUssSUFBSUEsTUFBTSxDQUFDQyxhQUFhLE1BQU0sUUFBUUMsT0FBTyxLQUFLLElBQUlBLEtBQUtEO0FBQ3hIO0FBQ0EsU0FBU0UsUUFBUSxHQUFHQyxRQUFRO0lBQ3hCLE9B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cUJBQVFsSixnREFBbUIsQ0FBQ21PLHVCQUF1QjtRQUFFLEdBQUd2QixLQUFLO0lBQUMsaUJBQzFENU0sZ0RBQW1CLENBQUNnUCx1QkFBdUI7UUFBRTdILFFBQVFBLFVBQVUraEI7UUFBZWxpQixPQUFPakIsU0FBU2lCLFNBQVNtaUI7SUFBYyxpQkFDakhucEIsZ0RBQW1CLENBQUNxUCxrQkFBa0Isb0JBQ2xDclAsZ0RBQW1CLENBQUNrTixnQkFBZ0IsTUFBTWliLFdBQVdwZCxXQUFXNmMsWUFBWS9iLFNBQVNlO0FBQ3JHO0FBRTA4RCIsInNvdXJjZXMiOlsid2VicGFjazovL3Nob2Utc2hvcC8uL25vZGVfbW9kdWxlcy95ZXQtYW5vdGhlci1yZWFjdC1saWdodGJveC9kaXN0L2luZGV4LmpzPzUyZTIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSU1BR0VfRklUX0NPVkVSLCBJTUFHRV9GSVRfQ09OVEFJTiwgQUNUSU9OX0NMT1NFLCBNT0RVTEVfQ09OVFJPTExFUiwgVU5LTk9XTl9BQ1RJT05fVFlQRSwgRUxFTUVOVF9CVVRUT04sIEVMRU1FTlRfSUNPTiwgRVZFTlRfT05fUE9JTlRFUl9ET1dOLCBFVkVOVF9PTl9QT0lOVEVSX01PVkUsIEVWRU5UX09OX1BPSU5URVJfVVAsIEVWRU5UX09OX1BPSU5URVJfTEVBVkUsIEVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMLCBFVkVOVF9PTl9LRVlfRE9XTiwgRVZFTlRfT05fS0VZX1VQLCBFVkVOVF9PTl9XSEVFTCwgU0xJREVfU1RBVFVTX0xPQURJTkcsIGFjdGl2ZVNsaWRlU3RhdHVzLCBTTElERV9TVEFUVVNfQ09NUExFVEUsIFNMSURFX1NUQVRVU19FUlJPUiwgU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSLCBBQ1RJT05fUFJFViwgQUNUSU9OX05FWFQsIEFDVElPTl9TV0lQRSwgTU9EVUxFX1BPUlRBTCwgQ0xBU1NfRkxFWF9DRU5URVIsIE1PRFVMRV9DQVJPVVNFTCwgQ0xBU1NfU0xJREVfV1JBUFBFUiwgVktfQVJST1dfUklHSFQsIFZLX0FSUk9XX0xFRlQsIFZLX0VTQ0FQRSwgTU9EVUxFX05BVklHQVRJT04sIENMQVNTX05PX1NDUk9MTCwgQ0xBU1NfTk9fU0NST0xMX1BBRERJTkcsIE1PRFVMRV9OT19TQ1JPTEwsIE1PRFVMRV9ST09ULCBNT0RVTEVfVE9PTEJBUiB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSAncmVhY3QtZG9tJztcbmV4cG9ydCB7IEFDVElWRV9TTElERV9DT01QTEVURSwgQUNUSVZFX1NMSURFX0VSUk9SLCBBQ1RJVkVfU0xJREVfTE9BRElORywgQUNUSVZFX1NMSURFX1BMQVlJTkcsIENMQVNTX0ZVTExTSVpFLCBQTFVHSU5fQ0FQVElPTlMsIFBMVUdJTl9DT1VOVEVSLCBQTFVHSU5fRE9XTkxPQUQsIFBMVUdJTl9GVUxMU0NSRUVOLCBQTFVHSU5fSU5MSU5FLCBQTFVHSU5fU0hBUkUsIFBMVUdJTl9TTElERVNIT1csIFBMVUdJTl9USFVNQk5BSUxTLCBQTFVHSU5fWk9PTSwgU0xJREVfU1RBVFVTX1BMQVlJTkcgfSBmcm9tICcuL3R5cGVzLmpzJztcblxuY29uc3QgY3NzUHJlZml4JDMgPSBcInlhcmxfX1wiO1xuZnVuY3Rpb24gY2xzeCguLi5jbGFzc2VzKSB7XG4gICAgcmV0dXJuIFsuLi5jbGFzc2VzXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG59XG5mdW5jdGlvbiBjc3NDbGFzcyhuYW1lKSB7XG4gICAgcmV0dXJuIGAke2Nzc1ByZWZpeCQzfSR7bmFtZX1gO1xufVxuZnVuY3Rpb24gY3NzVmFyKG5hbWUpIHtcbiAgICByZXR1cm4gYC0tJHtjc3NQcmVmaXgkM30ke25hbWV9YDtcbn1cbmZ1bmN0aW9uIGNvbXBvc2VQcmVmaXgoYmFzZSwgcHJlZml4KSB7XG4gICAgcmV0dXJuIGAke2Jhc2V9JHtwcmVmaXggPyBgXyR7cHJlZml4fWAgOiBcIlwifWA7XG59XG5mdW5jdGlvbiBtYWtlQ29tcG9zZVByZWZpeChiYXNlKSB7XG4gICAgcmV0dXJuIChwcmVmaXgpID0+IGNvbXBvc2VQcmVmaXgoYmFzZSwgcHJlZml4KTtcbn1cbmZ1bmN0aW9uIGxhYmVsKGxhYmVscywgZGVmYXVsdExhYmVsKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoX2EgPSBsYWJlbHMgPT09IG51bGwgfHwgbGFiZWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYWJlbHNbZGVmYXVsdExhYmVsXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVmYXVsdExhYmVsO1xufVxuZnVuY3Rpb24gY2xlYW51cCguLi5jbGVhbmVycykge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNsZWFuZXJzLmZvckVhY2goKGNsZWFuZXIpID0+IHtcbiAgICAgICAgICAgIGNsZWFuZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1ha2VVc2VDb250ZXh0KG5hbWUsIGNvbnRleHROYW1lLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgY3R4ID0gUmVhY3QudXNlQ29udGV4dChjb250ZXh0KTtcbiAgICAgICAgaWYgKCFjdHgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtuYW1lfSBtdXN0IGJlIHVzZWQgd2l0aGluIGEgJHtjb250ZXh0TmFtZX0uUHJvdmlkZXJgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3R4O1xuICAgIH07XG59XG5mdW5jdGlvbiBoYXNXaW5kb3coKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG59XG5mdW5jdGlvbiByb3VuZCh2YWx1ZSwgZGVjaW1hbHMgPSAwKSB7XG4gICAgY29uc3QgZmFjdG9yID0gMTAgKiogZGVjaW1hbHM7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKHZhbHVlICsgTnVtYmVyLkVQU0lMT04pICogZmFjdG9yKSAvIGZhY3Rvcjtcbn1cbmZ1bmN0aW9uIGlzSW1hZ2VTbGlkZShzbGlkZSkge1xuICAgIHJldHVybiBzbGlkZS50eXBlID09PSB1bmRlZmluZWQgfHwgc2xpZGUudHlwZSA9PT0gXCJpbWFnZVwiO1xufVxuZnVuY3Rpb24gaXNJbWFnZUZpdENvdmVyKGltYWdlLCBpbWFnZUZpdCkge1xuICAgIHJldHVybiBpbWFnZS5pbWFnZUZpdCA9PT0gSU1BR0VfRklUX0NPVkVSIHx8IChpbWFnZS5pbWFnZUZpdCAhPT0gSU1BR0VfRklUX0NPTlRBSU4gJiYgaW1hZ2VGaXQgPT09IElNQUdFX0ZJVF9DT1ZFUik7XG59XG5mdW5jdGlvbiBwYXJzZUludCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBOdW1iZXIucGFyc2VJbnQodmFsdWUsIDEwKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gcGFyc2VMZW5ndGhQZXJjZW50YWdlKGlucHV0KSB7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4geyBwaXhlbDogaW5wdXQgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcnNlSW50KGlucHV0KTtcbiAgICAgICAgcmV0dXJuIGlucHV0LmVuZHNXaXRoKFwiJVwiKSA/IHsgcGVyY2VudDogdmFsdWUgfSA6IHsgcGl4ZWw6IHZhbHVlIH07XG4gICAgfVxuICAgIHJldHVybiB7IHBpeGVsOiAwIH07XG59XG5mdW5jdGlvbiBjb21wdXRlU2xpZGVSZWN0KGNvbnRhaW5lclJlY3QsIHBhZGRpbmcpIHtcbiAgICBjb25zdCBwYWRkaW5nVmFsdWUgPSBwYXJzZUxlbmd0aFBlcmNlbnRhZ2UocGFkZGluZyk7XG4gICAgY29uc3QgcGFkZGluZ1BpeGVscyA9IHBhZGRpbmdWYWx1ZS5wZXJjZW50ICE9PSB1bmRlZmluZWQgPyAoY29udGFpbmVyUmVjdC53aWR0aCAvIDEwMCkgKiBwYWRkaW5nVmFsdWUucGVyY2VudCA6IHBhZGRpbmdWYWx1ZS5waXhlbDtcbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogTWF0aC5tYXgoY29udGFpbmVyUmVjdC53aWR0aCAtIDIgKiBwYWRkaW5nUGl4ZWxzLCAwKSxcbiAgICAgICAgaGVpZ2h0OiBNYXRoLm1heChjb250YWluZXJSZWN0LmhlaWdodCAtIDIgKiBwYWRkaW5nUGl4ZWxzLCAwKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZGV2aWNlUGl4ZWxSYXRpbygpIHtcbiAgICByZXR1cm4gKGhhc1dpbmRvdygpID8gd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93LmRldmljZVBpeGVsUmF0aW8gOiB1bmRlZmluZWQpIHx8IDE7XG59XG5mdW5jdGlvbiBnZXRTbGlkZUluZGV4KGluZGV4LCBzbGlkZXNDb3VudCkge1xuICAgIHJldHVybiBzbGlkZXNDb3VudCA+IDAgPyAoKGluZGV4ICUgc2xpZGVzQ291bnQpICsgc2xpZGVzQ291bnQpICUgc2xpZGVzQ291bnQgOiAwO1xufVxuZnVuY3Rpb24gaGFzU2xpZGVzKHNsaWRlcykge1xuICAgIHJldHVybiBzbGlkZXMubGVuZ3RoID4gMDtcbn1cbmZ1bmN0aW9uIGdldFNsaWRlKHNsaWRlcywgaW5kZXgpIHtcbiAgICByZXR1cm4gc2xpZGVzW2dldFNsaWRlSW5kZXgoaW5kZXgsIHNsaWRlcy5sZW5ndGgpXTtcbn1cbmZ1bmN0aW9uIGdldFNsaWRlSWZQcmVzZW50KHNsaWRlcywgaW5kZXgpIHtcbiAgICByZXR1cm4gaGFzU2xpZGVzKHNsaWRlcykgPyBnZXRTbGlkZShzbGlkZXMsIGluZGV4KSA6IHVuZGVmaW5lZDtcbn1cbmZ1bmN0aW9uIGFkZFRvb2xiYXJCdXR0b24odG9vbGJhciwga2V5LCBidXR0b24pIHtcbiAgICBpZiAoIWJ1dHRvbilcbiAgICAgICAgcmV0dXJuIHRvb2xiYXI7XG4gICAgY29uc3QgeyBidXR0b25zLCAuLi5yZXN0VG9vbGJhciB9ID0gdG9vbGJhcjtcbiAgICBjb25zdCBpbmRleCA9IGJ1dHRvbnMuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtID09PSBrZXkpO1xuICAgIGNvbnN0IGJ1dHRvbldpdGhLZXkgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChidXR0b24pID8gUmVhY3QuY2xvbmVFbGVtZW50KGJ1dHRvbiwgeyBrZXkgfSwgbnVsbCkgOiBidXR0b247XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gWy4uLmJ1dHRvbnNdO1xuICAgICAgICByZXN1bHQuc3BsaWNlKGluZGV4LCAxLCBidXR0b25XaXRoS2V5KTtcbiAgICAgICAgcmV0dXJuIHsgYnV0dG9uczogcmVzdWx0LCAuLi5yZXN0VG9vbGJhciB9O1xuICAgIH1cbiAgICByZXR1cm4geyBidXR0b25zOiBbYnV0dG9uV2l0aEtleSwgLi4uYnV0dG9uc10sIC4uLnJlc3RUb29sYmFyIH07XG59XG5mdW5jdGlvbiBzdG9wTmF2aWdhdGlvbkV2ZW50c1Byb3BhZ2F0aW9uKCkge1xuICAgIGNvbnN0IHN0b3BQcm9wYWdhdGlvbiA9IChldmVudCkgPT4ge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9O1xuICAgIHJldHVybiB7IG9uUG9pbnRlckRvd246IHN0b3BQcm9wYWdhdGlvbiwgb25LZXlEb3duOiBzdG9wUHJvcGFnYXRpb24sIG9uV2hlZWw6IHN0b3BQcm9wYWdhdGlvbiB9O1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlUHJlbG9hZChjYXJvdXNlbCwgc2xpZGVzLCBtaW5pbXVtID0gMCkge1xuICAgIHJldHVybiBNYXRoLm1pbihjYXJvdXNlbC5wcmVsb2FkLCBNYXRoLm1heChjYXJvdXNlbC5maW5pdGUgPyBzbGlkZXMubGVuZ3RoIC0gMSA6IE1hdGguZmxvb3Ioc2xpZGVzLmxlbmd0aCAvIDIpLCBtaW5pbXVtKSk7XG59XG5cbmNvbnN0IExpZ2h0Ym94RGVmYXVsdFByb3BzID0ge1xuICAgIG9wZW46IGZhbHNlLFxuICAgIGNsb3NlOiAoKSA9PiB7IH0sXG4gICAgaW5kZXg6IDAsXG4gICAgc2xpZGVzOiBbXSxcbiAgICByZW5kZXI6IHt9LFxuICAgIHBsdWdpbnM6IFtdLFxuICAgIHRvb2xiYXI6IHsgYnV0dG9uczogW0FDVElPTl9DTE9TRV0gfSxcbiAgICBsYWJlbHM6IHt9LFxuICAgIGFuaW1hdGlvbjoge1xuICAgICAgICBmYWRlOiAyNTAsXG4gICAgICAgIHN3aXBlOiA1MDAsXG4gICAgICAgIGVhc2luZzoge1xuICAgICAgICAgICAgZmFkZTogXCJlYXNlXCIsXG4gICAgICAgICAgICBzd2lwZTogXCJlYXNlLW91dFwiLFxuICAgICAgICAgICAgbmF2aWdhdGlvbjogXCJlYXNlLWluLW91dFwiLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgY2Fyb3VzZWw6IHtcbiAgICAgICAgZmluaXRlOiBmYWxzZSxcbiAgICAgICAgcHJlbG9hZDogMixcbiAgICAgICAgcGFkZGluZzogXCIxNnB4XCIsXG4gICAgICAgIHNwYWNpbmc6IFwiMzAlXCIsXG4gICAgICAgIGltYWdlRml0OiBJTUFHRV9GSVRfQ09OVEFJTixcbiAgICAgICAgaW1hZ2VQcm9wczoge30sXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiB7XG4gICAgICAgIHJlZjogbnVsbCxcbiAgICAgICAgZm9jdXM6IHRydWUsXG4gICAgICAgIGFyaWE6IGZhbHNlLFxuICAgICAgICB0b3VjaEFjdGlvbjogXCJub25lXCIsXG4gICAgICAgIGNsb3NlT25QdWxsVXA6IGZhbHNlLFxuICAgICAgICBjbG9zZU9uUHVsbERvd246IGZhbHNlLFxuICAgICAgICBjbG9zZU9uQmFja2Ryb3BDbGljazogZmFsc2UsXG4gICAgICAgIHByZXZlbnREZWZhdWx0V2hlZWxYOiB0cnVlLFxuICAgICAgICBwcmV2ZW50RGVmYXVsdFdoZWVsWTogZmFsc2UsXG4gICAgfSxcbiAgICBwb3J0YWw6IHt9LFxuICAgIG5vU2Nyb2xsOiB7XG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICB9LFxuICAgIG9uOiB7fSxcbiAgICBzdHlsZXM6IHt9LFxuICAgIGNsYXNzTmFtZTogXCJcIixcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZU1vZHVsZShuYW1lLCBjb21wb25lbnQpIHtcbiAgICByZXR1cm4geyBuYW1lLCBjb21wb25lbnQgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU5vZGUobW9kdWxlLCBjaGlsZHJlbikge1xuICAgIHJldHVybiB7IG1vZHVsZSwgY2hpbGRyZW4gfTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlTm9kZShub2RlLCB0YXJnZXQsIGFwcGx5KSB7XG4gICAgaWYgKG5vZGUubW9kdWxlLm5hbWUgPT09IHRhcmdldCkge1xuICAgICAgICByZXR1cm4gYXBwbHkobm9kZSk7XG4gICAgfVxuICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBjcmVhdGVOb2RlKG5vZGUubW9kdWxlLCBub2RlLmNoaWxkcmVuLmZsYXRNYXAoKG4pID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gdHJhdmVyc2VOb2RlKG4sIHRhcmdldCwgYXBwbHkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTsgfSkpLFxuICAgICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gW25vZGVdO1xufVxuZnVuY3Rpb24gdHJhdmVyc2Uobm9kZXMsIHRhcmdldCwgYXBwbHkpIHtcbiAgICByZXR1cm4gbm9kZXMuZmxhdE1hcCgobm9kZSkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0cmF2ZXJzZU5vZGUobm9kZSwgdGFyZ2V0LCBhcHBseSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdOyB9KTtcbn1cbmZ1bmN0aW9uIHdpdGhQbHVnaW5zKHJvb3QsIHBsdWdpbnMgPSBbXSwgYXVnbWVudGF0aW9ucyA9IFtdKSB7XG4gICAgbGV0IGNvbmZpZyA9IHJvb3Q7XG4gICAgY29uc3QgY29udGFpbnMgPSAodGFyZ2V0KSA9PiB7XG4gICAgICAgIGNvbnN0IG5vZGVzID0gWy4uLmNvbmZpZ107XG4gICAgICAgIHdoaWxlIChub2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gbm9kZXMucG9wKCk7XG4gICAgICAgICAgICBpZiAoKG5vZGUgPT09IG51bGwgfHwgbm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZS5tb2R1bGUubmFtZSkgPT09IHRhcmdldClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChub2RlID09PSBudWxsIHx8IG5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGUuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgbm9kZXMucHVzaCguLi5ub2RlLmNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBjb25zdCBhZGRQYXJlbnQgPSAodGFyZ2V0LCBtb2R1bGUpID0+IHtcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gXCJcIikge1xuICAgICAgICAgICAgY29uZmlnID0gW2NyZWF0ZU5vZGUobW9kdWxlLCBjb25maWcpXTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25maWcgPSB0cmF2ZXJzZShjb25maWcsIHRhcmdldCwgKG5vZGUpID0+IFtjcmVhdGVOb2RlKG1vZHVsZSwgW25vZGVdKV0pO1xuICAgIH07XG4gICAgY29uc3QgYXBwZW5kID0gKHRhcmdldCwgbW9kdWxlKSA9PiB7XG4gICAgICAgIGNvbmZpZyA9IHRyYXZlcnNlKGNvbmZpZywgdGFyZ2V0LCAobm9kZSkgPT4gW2NyZWF0ZU5vZGUobm9kZS5tb2R1bGUsIFtjcmVhdGVOb2RlKG1vZHVsZSwgbm9kZS5jaGlsZHJlbildKV0pO1xuICAgIH07XG4gICAgY29uc3QgYWRkQ2hpbGQgPSAodGFyZ2V0LCBtb2R1bGUsIHByZWNlZGUpID0+IHtcbiAgICAgICAgY29uZmlnID0gdHJhdmVyc2UoY29uZmlnLCB0YXJnZXQsIChub2RlKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGUobm9kZS5tb2R1bGUsIFtcbiAgICAgICAgICAgICAgICAgICAgLi4uKHByZWNlZGUgPyBbY3JlYXRlTm9kZShtb2R1bGUpXSA6IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uKChfYSA9IG5vZGUuY2hpbGRyZW4pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgLi4uKCFwcmVjZWRlID8gW2NyZWF0ZU5vZGUobW9kdWxlKV0gOiBbXSksXG4gICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICBdO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFNpYmxpbmcgPSAodGFyZ2V0LCBtb2R1bGUsIHByZWNlZGUpID0+IHtcbiAgICAgICAgY29uZmlnID0gdHJhdmVyc2UoY29uZmlnLCB0YXJnZXQsIChub2RlKSA9PiBbXG4gICAgICAgICAgICAuLi4ocHJlY2VkZSA/IFtjcmVhdGVOb2RlKG1vZHVsZSldIDogW10pLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIC4uLighcHJlY2VkZSA/IFtjcmVhdGVOb2RlKG1vZHVsZSldIDogW10pLFxuICAgICAgICBdKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE1vZHVsZSA9IChtb2R1bGUpID0+IHtcbiAgICAgICAgYXBwZW5kKE1PRFVMRV9DT05UUk9MTEVSLCBtb2R1bGUpO1xuICAgIH07XG4gICAgY29uc3QgcmVwbGFjZSA9ICh0YXJnZXQsIG1vZHVsZSkgPT4ge1xuICAgICAgICBjb25maWcgPSB0cmF2ZXJzZShjb25maWcsIHRhcmdldCwgKG5vZGUpID0+IFtjcmVhdGVOb2RlKG1vZHVsZSwgbm9kZS5jaGlsZHJlbildKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZSA9ICh0YXJnZXQpID0+IHtcbiAgICAgICAgY29uZmlnID0gdHJhdmVyc2UoY29uZmlnLCB0YXJnZXQsIChub2RlKSA9PiBub2RlLmNoaWxkcmVuKTtcbiAgICB9O1xuICAgIGNvbnN0IGF1Z21lbnQgPSAoYXVnbWVudGF0aW9uKSA9PiB7XG4gICAgICAgIGF1Z21lbnRhdGlvbnMucHVzaChhdWdtZW50YXRpb24pO1xuICAgIH07XG4gICAgcGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pID0+IHtcbiAgICAgICAgcGx1Z2luKHtcbiAgICAgICAgICAgIGNvbnRhaW5zLFxuICAgICAgICAgICAgYWRkUGFyZW50LFxuICAgICAgICAgICAgYXBwZW5kLFxuICAgICAgICAgICAgYWRkQ2hpbGQsXG4gICAgICAgICAgICBhZGRTaWJsaW5nLFxuICAgICAgICAgICAgYWRkTW9kdWxlLFxuICAgICAgICAgICAgcmVwbGFjZSxcbiAgICAgICAgICAgIHJlbW92ZSxcbiAgICAgICAgICAgIGF1Z21lbnQsXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgYXVnbWVudGF0aW9uOiAocHJvcHMpID0+IGF1Z21lbnRhdGlvbnMucmVkdWNlKChhY2MsIGF1Z21lbnRhdGlvbikgPT4gYXVnbWVudGF0aW9uKGFjYyksIHByb3BzKSxcbiAgICB9O1xufVxuXG5jb25zdCBFdmVudHNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZUV2ZW50cyA9IG1ha2VVc2VDb250ZXh0KFwidXNlRXZlbnRzXCIsIFwiRXZlbnRzQ29udGV4dFwiLCBFdmVudHNDb250ZXh0KTtcbmZ1bmN0aW9uIEV2ZW50c1Byb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IFtzdWJzY3JpcHRpb25zXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gKCkgPT4ge1xuICAgICAgICBPYmplY3Qua2V5cyhzdWJzY3JpcHRpb25zKS5mb3JFYWNoKCh0b3BpYykgPT4gZGVsZXRlIHN1YnNjcmlwdGlvbnNbdG9waWNdKTtcbiAgICB9LCBbc3Vic2NyaXB0aW9uc10pO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSAodG9waWMsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSBzdWJzY3JpcHRpb25zW3RvcGljXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGljZSgwLCBzdWJzY3JpcHRpb25zW3RvcGljXS5sZW5ndGgsIC4uLnN1YnNjcmlwdGlvbnNbdG9waWNdLmZpbHRlcigoY2IpID0+IGNiICE9PSBjYWxsYmFjaykpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdWJzY3JpYmUgPSAodG9waWMsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmlwdGlvbnNbdG9waWNdKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uc1t0b3BpY10gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnNbdG9waWNdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHVuc3Vic2NyaWJlKHRvcGljLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHB1Ymxpc2ggPSAoLi4uW3RvcGljLCBldmVudF0pID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIChfYSA9IHN1YnNjcmlwdGlvbnNbdG9waWNdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKGV2ZW50KSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB7IHB1Ymxpc2gsIHN1YnNjcmliZSwgdW5zdWJzY3JpYmUgfTtcbiAgICB9LCBbc3Vic2NyaXB0aW9uc10pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEV2ZW50c0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgY2hpbGRyZW4pO1xufVxuXG5jb25zdCBMaWdodGJveFByb3BzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VMaWdodGJveFByb3BzID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VMaWdodGJveFByb3BzXCIsIFwiTGlnaHRib3hQcm9wc0NvbnRleHRcIiwgTGlnaHRib3hQcm9wc0NvbnRleHQpO1xuZnVuY3Rpb24gTGlnaHRib3hQcm9wc1Byb3ZpZGVyKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveFByb3BzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcHJvcHMgfSwgY2hpbGRyZW4pO1xufVxuXG5jb25zdCBMaWdodGJveFN0YXRlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VMaWdodGJveFN0YXRlID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VMaWdodGJveFN0YXRlXCIsIFwiTGlnaHRib3hTdGF0ZUNvbnRleHRcIiwgTGlnaHRib3hTdGF0ZUNvbnRleHQpO1xuY29uc3QgTGlnaHRib3hEaXNwYXRjaENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlTGlnaHRib3hEaXNwYXRjaCA9IG1ha2VVc2VDb250ZXh0KFwidXNlTGlnaHRib3hEaXNwYXRjaFwiLCBcIkxpZ2h0Ym94RGlzcGF0Y2hDb250ZXh0XCIsIExpZ2h0Ym94RGlzcGF0Y2hDb250ZXh0KTtcbmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInN3aXBlXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2xpZGVzIH0gPSBzdGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IGluY3JlbWVudCA9IChhY3Rpb24gPT09IG51bGwgfHwgYWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhY3Rpb24uaW5jcmVtZW50KSB8fCAwO1xuICAgICAgICAgICAgY29uc3QgZ2xvYmFsSW5kZXggPSBzdGF0ZS5nbG9iYWxJbmRleCArIGluY3JlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGdldFNsaWRlSW5kZXgoZ2xvYmFsSW5kZXgsIHNsaWRlcy5sZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFNsaWRlID0gZ2V0U2xpZGVJZlByZXNlbnQoc2xpZGVzLCBjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gaW5jcmVtZW50IHx8IGFjdGlvbi5kdXJhdGlvblxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBhY3Rpb24uZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGVhc2luZzogYWN0aW9uLmVhc2luZyxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4geyBzbGlkZXMsIGN1cnJlbnRJbmRleCwgZ2xvYmFsSW5kZXgsIGN1cnJlbnRTbGlkZSwgYW5pbWF0aW9uIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInVwZGF0ZVwiOlxuICAgICAgICAgICAgaWYgKGFjdGlvbi5zbGlkZXMgIT09IHN0YXRlLnNsaWRlcyB8fCBhY3Rpb24uaW5kZXggIT09IHN0YXRlLmN1cnJlbnRJbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlczogYWN0aW9uLnNsaWRlcyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEluZGV4OiBhY3Rpb24uaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbEluZGV4OiBhY3Rpb24uaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTbGlkZTogZ2V0U2xpZGVJZlByZXNlbnQoYWN0aW9uLnNsaWRlcywgYWN0aW9uLmluZGV4KSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFVOS05PV05fQUNUSU9OX1RZUEUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIExpZ2h0Ym94U3RhdGVQcm92aWRlcih7IHNsaWRlcywgaW5kZXgsIGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCBbc3RhdGUsIGRpc3BhdGNoXSA9IFJlYWN0LnVzZVJlZHVjZXIocmVkdWNlciwge1xuICAgICAgICBzbGlkZXMsXG4gICAgICAgIGN1cnJlbnRJbmRleDogaW5kZXgsXG4gICAgICAgIGdsb2JhbEluZGV4OiBpbmRleCxcbiAgICAgICAgY3VycmVudFNsaWRlOiBnZXRTbGlkZUlmUHJlc2VudChzbGlkZXMsIGluZGV4KSxcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwidXBkYXRlXCIsIHNsaWRlcywgaW5kZXggfSk7XG4gICAgfSwgW3NsaWRlcywgaW5kZXhdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyAuLi5zdGF0ZSwgc3RhdGUsIGRpc3BhdGNoIH0pLCBbc3RhdGUsIGRpc3BhdGNoXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KExpZ2h0Ym94RGlzcGF0Y2hDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBkaXNwYXRjaCB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpZ2h0Ym94U3RhdGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKSkpO1xufVxuXG5jb25zdCBUaW1lb3V0c0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlVGltZW91dHMgPSBtYWtlVXNlQ29udGV4dChcInVzZVRpbWVvdXRzXCIsIFwiVGltZW91dHNDb250ZXh0XCIsIFRpbWVvdXRzQ29udGV4dCk7XG5mdW5jdGlvbiBUaW1lb3V0c1Byb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IFt0aW1lb3V0c10gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+ICgpID0+IHtcbiAgICAgICAgdGltZW91dHMuZm9yRWFjaCgodGlkKSA9PiB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpZCkpO1xuICAgICAgICB0aW1lb3V0cy5zcGxpY2UoMCwgdGltZW91dHMubGVuZ3RoKTtcbiAgICB9LCBbdGltZW91dHNdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbW92ZVRpbWVvdXQgPSAoaWQpID0+IHtcbiAgICAgICAgICAgIHRpbWVvdXRzLnNwbGljZSgwLCB0aW1lb3V0cy5sZW5ndGgsIC4uLnRpbWVvdXRzLmZpbHRlcigodGlkKSA9PiB0aWQgIT09IGlkKSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNldFRpbWVvdXQgPSAoZm4sIGRlbGF5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICByZW1vdmVUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgICAgdGltZW91dHMucHVzaChpZCk7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNsZWFyVGltZW91dCA9IChpZCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmVUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHsgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0IH07XG4gICAgfSwgW3RpbWVvdXRzXSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGltZW91dHNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgSWNvbkJ1dHRvbiA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gSWNvbkJ1dHRvbih7IGxhYmVsOiBsYWJlbCQxLCBjbGFzc05hbWUsIGljb246IEljb24sIHJlbmRlckljb24sIG9uQ2xpY2ssIHN0eWxlLCAuLi5yZXN0IH0sIHJlZikge1xuICAgIGNvbnN0IHsgc3R5bGVzLCBsYWJlbHMgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyByZWY6IHJlZiwgdHlwZTogXCJidXR0b25cIiwgXCJhcmlhLWxhYmVsXCI6IGxhYmVsKGxhYmVscywgbGFiZWwkMSksIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhFTEVNRU5UX0JVVFRPTiksIGNsYXNzTmFtZSksIG9uQ2xpY2s6IG9uQ2xpY2ssIHN0eWxlOiB7IC4uLnN0eWxlLCAuLi5zdHlsZXMuYnV0dG9uIH0sIC4uLnJlc3QgfSwgcmVuZGVySWNvbiA/IHJlbmRlckljb24oKSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwgeyBjbGFzc05hbWU6IGNzc0NsYXNzKEVMRU1FTlRfSUNPTiksIHN0eWxlOiBzdHlsZXMuaWNvbiB9KSkpO1xufSk7XG5cbmZ1bmN0aW9uIHN2Z0ljb24obmFtZSwgY2hpbGRyZW4pIHtcbiAgICBjb25zdCBpY29uID0gKHByb3BzKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCB7IHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsIHdpZHRoOiBcIjI0XCIsIGhlaWdodDogXCIyNFwiLCBcImFyaWEtaGlkZGVuXCI6IFwidHJ1ZVwiLCBmb2N1c2FibGU6IFwiZmFsc2VcIiwgLi4ucHJvcHMgfSwgY2hpbGRyZW4pKTtcbiAgICBpY29uLmRpc3BsYXlOYW1lID0gbmFtZTtcbiAgICByZXR1cm4gaWNvbjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUljb24obmFtZSwgZ2x5cGgpIHtcbiAgICByZXR1cm4gc3ZnSWNvbihuYW1lLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZ1wiLCB7IGZpbGw6IFwiY3VycmVudENvbG9yXCIgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wIDBoMjR2MjRIMHpcIiwgZmlsbDogXCJub25lXCIgfSksXG4gICAgICAgIGdseXBoKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVJY29uRGlzYWJsZWQobmFtZSwgZ2x5cGgpIHtcbiAgICByZXR1cm4gc3ZnSWNvbihuYW1lLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLCBudWxsLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcIm1hc2tcIiwgeyBpZDogXCJzdHJpa2VcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMCAwaDI0djI0SDB6XCIsIGZpbGw6IFwid2hpdGVcIiB9KSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMEwyNCAyNFwiLCBzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDQgfSkpKSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0wLjcwNzA3IDIuMTIxMzIwTDIxLjg3ODY4MCAyMy4yOTI4ODNcIiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VXaWR0aDogMiB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwgeyBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCBtYXNrOiBcInVybCgjc3RyaWtlKVwiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTAgMGgyNHYyNEgwelwiLCBmaWxsOiBcIm5vbmVcIiB9KSxcbiAgICAgICAgICAgIGdseXBoKSkpO1xufVxuY29uc3QgQ2xvc2VJY29uID0gY3JlYXRlSWNvbihcIkNsb3NlXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyelwiIH0pKTtcbmNvbnN0IFByZXZpb3VzSWNvbiA9IGNyZWF0ZUljb24oXCJQcmV2aW91c1wiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE1LjQxIDcuNDFMMTQgNmwtNiA2IDYgNiAxLjQxLTEuNDFMMTAuODMgMTJ6XCIgfSkpO1xuY29uc3QgTmV4dEljb24gPSBjcmVhdGVJY29uKFwiTmV4dFwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTEwIDZMOC41OSA3LjQxIDEzLjE3IDEybC00LjU4IDQuNTlMMTAgMThsNi02elwiIH0pKTtcbmNvbnN0IExvYWRpbmdJY29uID0gY3JlYXRlSWNvbihcIkxvYWRpbmdcIiwgUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgQXJyYXkuZnJvbSh7IGxlbmd0aDogOCB9KS5tYXAoKF8sIGluZGV4LCBhcnJheSkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaW5lXCIsIHsga2V5OiBpbmRleCwgeDE6IFwiMTJcIiwgeTE6IFwiNi41XCIsIHgyOiBcIjEyXCIsIHkyOiBcIjEuOFwiLCBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZVdpZHRoOiBcIjIuNlwiLCBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsIHN0cm9rZU9wYWNpdHk6ICgxIC8gYXJyYXkubGVuZ3RoKSAqIChpbmRleCArIDEpLCB0cmFuc2Zvcm06IGByb3RhdGUoJHsoMzYwIC8gYXJyYXkubGVuZ3RoKSAqIGluZGV4fSwgMTIsIDEyKWAgfSkpKSkpO1xuY29uc3QgRXJyb3JJY29uID0gY3JlYXRlSWNvbihcIkVycm9yXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMjEuOSwyMS45bC04LjQ5LTguNDlsMCwwTDMuNTksMy41OWwwLDBMMi4xLDIuMUwwLjY5LDMuNTFMMyw1LjgzVjE5YzAsMS4xLDAuOSwyLDIsMmgxMy4xN2wyLjMxLDIuMzFMMjEuOSwyMS45eiBNNSwxOCBsMy41LTQuNWwyLjUsMy4wMUwxMi4xNywxNWwzLDNINXogTTIxLDE4LjE3TDUuODMsM0gxOWMxLjEsMCwyLDAuOSwyLDJWMTguMTd6XCIgfSkpO1xuXG5jb25zdCB1c2VMYXlvdXRFZmZlY3QgPSBoYXNXaW5kb3coKSA/IFJlYWN0LnVzZUxheW91dEVmZmVjdCA6IFJlYWN0LnVzZUVmZmVjdDtcblxuZnVuY3Rpb24gdXNlTW90aW9uUHJlZmVyZW5jZSgpIHtcbiAgICBjb25zdCBbcmVkdWNlTW90aW9uLCBzZXRSZWR1Y2VNb3Rpb25dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IG1lZGlhUXVlcnkgPSAoX2EgPSB3aW5kb3cubWF0Y2hNZWRpYSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwod2luZG93LCBcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCIpO1xuICAgICAgICBzZXRSZWR1Y2VNb3Rpb24obWVkaWFRdWVyeSA9PT0gbnVsbCB8fCBtZWRpYVF1ZXJ5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBtZWRpYVF1ZXJ5Lm1hdGNoZXMpO1xuICAgICAgICBjb25zdCBsaXN0ZW5lciA9IChldmVudCkgPT4gc2V0UmVkdWNlTW90aW9uKGV2ZW50Lm1hdGNoZXMpO1xuICAgICAgICAoX2IgPSBtZWRpYVF1ZXJ5ID09PSBudWxsIHx8IG1lZGlhUXVlcnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwobWVkaWFRdWVyeSwgXCJjaGFuZ2VcIiwgbGlzdGVuZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBtZWRpYVF1ZXJ5ID09PSBudWxsIHx8IG1lZGlhUXVlcnkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG1lZGlhUXVlcnkucmVtb3ZlRXZlbnRMaXN0ZW5lcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwobWVkaWFRdWVyeSwgXCJjaGFuZ2VcIiwgbGlzdGVuZXIpOyB9O1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gcmVkdWNlTW90aW9uO1xufVxuXG5mdW5jdGlvbiBjdXJyZW50VHJhbnNmb3JtYXRpb24obm9kZSkge1xuICAgIGxldCB4ID0gMDtcbiAgICBsZXQgeSA9IDA7XG4gICAgbGV0IHogPSAwO1xuICAgIGNvbnN0IG1hdHJpeCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpLnRyYW5zZm9ybTtcbiAgICBjb25zdCBtYXRjaGVyID0gbWF0cml4Lm1hdGNoKC9tYXRyaXguKlxcKCguKylcXCkvKTtcbiAgICBpZiAobWF0Y2hlcikge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBtYXRjaGVyWzFdLnNwbGl0KFwiLFwiKS5tYXAocGFyc2VJbnQpO1xuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gNikge1xuICAgICAgICAgICAgeCA9IHZhbHVlc1s0XTtcbiAgICAgICAgICAgIHkgPSB2YWx1ZXNbNV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMTYpIHtcbiAgICAgICAgICAgIHggPSB2YWx1ZXNbMTJdO1xuICAgICAgICAgICAgeSA9IHZhbHVlc1sxM107XG4gICAgICAgICAgICB6ID0gdmFsdWVzWzE0XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB4LCB5LCB6IH07XG59XG5mdW5jdGlvbiB1c2VBbmltYXRpb24obm9kZVJlZiwgY29tcHV0ZUFuaW1hdGlvbikge1xuICAgIGNvbnN0IHNuYXBzaG90ID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgYW5pbWF0aW9uID0gUmVhY3QudXNlUmVmKCk7XG4gICAgY29uc3QgcmVkdWNlTW90aW9uID0gdXNlTW90aW9uUHJlZmVyZW5jZSgpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBpZiAobm9kZVJlZi5jdXJyZW50ICYmIHNuYXBzaG90LmN1cnJlbnQgIT09IHVuZGVmaW5lZCAmJiAhcmVkdWNlTW90aW9uKSB7XG4gICAgICAgICAgICBjb25zdCB7IGtleWZyYW1lcywgZHVyYXRpb24sIGVhc2luZywgb25maW5pc2ggfSA9IGNvbXB1dGVBbmltYXRpb24oc25hcHNob3QuY3VycmVudCwgbm9kZVJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBjdXJyZW50VHJhbnNmb3JtYXRpb24obm9kZVJlZi5jdXJyZW50KSkgfHwge307XG4gICAgICAgICAgICBpZiAoa2V5ZnJhbWVzICYmIGR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgKF9hID0gYW5pbWF0aW9uLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb24uY3VycmVudCA9IChfYyA9IChfYiA9IG5vZGVSZWYuY3VycmVudCkuYW5pbWF0ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IsIGtleWZyYW1lcywgeyBkdXJhdGlvbiwgZWFzaW5nIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5jdXJyZW50Lm9uZmluaXNoID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmZpbmlzaCA9PT0gbnVsbCB8fCBvbmZpbmlzaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc25hcHNob3QuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcmVwYXJlQW5pbWF0aW9uOiAoY3VycmVudFNuYXBzaG90KSA9PiB7XG4gICAgICAgICAgICBzbmFwc2hvdC5jdXJyZW50ID0gY3VycmVudFNuYXBzaG90O1xuICAgICAgICB9LFxuICAgICAgICBpc0FuaW1hdGlvblBsYXlpbmc6ICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKChfYSA9IGFuaW1hdGlvbi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGxheVN0YXRlKSA9PT0gXCJydW5uaW5nXCI7IH0sXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gdXNlQ29udGFpbmVyUmVjdCgpIHtcbiAgICBjb25zdCBjb250YWluZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCBbY29udGFpbmVyUmVjdCwgc2V0Q29udGFpbmVyUmVjdF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIGNvbnN0IHNldENvbnRhaW5lclJlZiA9IFJlYWN0LnVzZUNhbGxiYWNrKChub2RlKSA9PiB7XG4gICAgICAgIGNvbnRhaW5lclJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICAgICAgaWYgKG9ic2VydmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVDb250YWluZXJSZWN0ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZSA9ICh2YWx1ZSkgPT4gcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMDtcbiAgICAgICAgICAgICAgICBzZXRDb250YWluZXJSZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQobm9kZS5jbGllbnRXaWR0aCAtIHBhcnNlKHN0eWxlcy5wYWRkaW5nTGVmdCkgLSBwYXJzZShzdHlsZXMucGFkZGluZ1JpZ2h0KSksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChub2RlLmNsaWVudEhlaWdodCAtIHBhcnNlKHN0eWxlcy5wYWRkaW5nVG9wKSAtIHBhcnNlKHN0eWxlcy5wYWRkaW5nQm90dG9tKSksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRDb250YWluZXJSZWN0KHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHVwZGF0ZUNvbnRhaW5lclJlY3QoKTtcbiAgICAgICAgaWYgKG5vZGUgJiYgdHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50ID0gbmV3IFJlc2l6ZU9ic2VydmVyKHVwZGF0ZUNvbnRhaW5lclJlY3QpO1xuICAgICAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudC5vYnNlcnZlKG5vZGUpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIHJldHVybiB7IHNldENvbnRhaW5lclJlZiwgY29udGFpbmVyUmVmLCBjb250YWluZXJSZWN0IH07XG59XG5cbmZ1bmN0aW9uIHVzZURlbGF5KCkge1xuICAgIGNvbnN0IHRpbWVvdXRJZCA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHsgc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0IH0gPSB1c2VUaW1lb3V0cygpO1xuICAgIHJldHVybiBSZWFjdC51c2VDYWxsYmFjaygoY2FsbGJhY2ssIGRlbGF5KSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQuY3VycmVudCk7XG4gICAgICAgIHRpbWVvdXRJZC5jdXJyZW50ID0gc2V0VGltZW91dChjYWxsYmFjaywgZGVsYXkgPiAwID8gZGVsYXkgOiAwKTtcbiAgICB9LCBbc2V0VGltZW91dCwgY2xlYXJUaW1lb3V0XSk7XG59XG5cbmZ1bmN0aW9uIHVzZUV2ZW50Q2FsbGJhY2soZm4pIHtcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYoZm4pO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gZm47XG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKCguLi5hcmdzKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChyZWYsIC4uLmFyZ3MpOyB9LCBbXSk7XG59XG5cbmZ1bmN0aW9uIHNldFJlZihyZWYsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiByZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZWYodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWYpIHtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiB1c2VGb3JrUmVmKHJlZkEsIHJlZkIpIHtcbiAgICByZXR1cm4gUmVhY3QudXNlTWVtbygoKSA9PiByZWZBID09IG51bGwgJiYgcmVmQiA9PSBudWxsXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IChyZWZWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgc2V0UmVmKHJlZkEsIHJlZlZhbHVlKTtcbiAgICAgICAgICAgIHNldFJlZihyZWZCLCByZWZWYWx1ZSk7XG4gICAgICAgIH0sIFtyZWZBLCByZWZCXSk7XG59XG5cbmZ1bmN0aW9uIHVzZUxvc2VGb2N1cyhmb2N1cywgZGlzYWJsZWQgPSBmYWxzZSkge1xuICAgIGNvbnN0IGZvY3VzZWQgPSBSZWFjdC51c2VSZWYoKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzYWJsZWQgJiYgZm9jdXNlZC5jdXJyZW50KSB7XG4gICAgICAgICAgICBmb2N1c2VkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCBbZGlzYWJsZWQsIGZvY3VzXSk7XG4gICAgY29uc3Qgb25Gb2N1cyA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgZm9jdXNlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3Qgb25CbHVyID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBmb2N1c2VkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9LCBbXSk7XG4gICAgcmV0dXJuIHsgb25Gb2N1cywgb25CbHVyIH07XG59XG5cbmZ1bmN0aW9uIHVzZVJUTCgpIHtcbiAgICBjb25zdCBbaXNSVEwsIHNldElzUlRMXSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRJc1JUTCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5kaXJlY3Rpb24gPT09IFwicnRsXCIpO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gaXNSVEw7XG59XG5cbmZ1bmN0aW9uIHVzZVNlbnNvcnMoKSB7XG4gICAgY29uc3QgW3N1YnNjcmliZXJzXSA9IFJlYWN0LnVzZVN0YXRlKHt9KTtcbiAgICBjb25zdCBub3RpZnlTdWJzY3JpYmVycyA9IFJlYWN0LnVzZUNhbGxiYWNrKCh0eXBlLCBldmVudCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHN1YnNjcmliZXJzW3R5cGVdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcbiAgICAgICAgICAgIGlmICghZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtzdWJzY3JpYmVyc10pO1xuICAgIGNvbnN0IHJlZ2lzdGVyU2Vuc29ycyA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgb25Qb2ludGVyRG93bjogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9QT0lOVEVSX0RPV04sIGV2ZW50KSxcbiAgICAgICAgb25Qb2ludGVyTW92ZTogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9QT0lOVEVSX01PVkUsIGV2ZW50KSxcbiAgICAgICAgb25Qb2ludGVyVXA6IChldmVudCkgPT4gbm90aWZ5U3Vic2NyaWJlcnMoRVZFTlRfT05fUE9JTlRFUl9VUCwgZXZlbnQpLFxuICAgICAgICBvblBvaW50ZXJMZWF2ZTogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9QT0lOVEVSX0xFQVZFLCBldmVudCksXG4gICAgICAgIG9uUG9pbnRlckNhbmNlbDogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9QT0lOVEVSX0NBTkNFTCwgZXZlbnQpLFxuICAgICAgICBvbktleURvd246IChldmVudCkgPT4gbm90aWZ5U3Vic2NyaWJlcnMoRVZFTlRfT05fS0VZX0RPV04sIGV2ZW50KSxcbiAgICAgICAgb25LZXlVcDogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9LRVlfVVAsIGV2ZW50KSxcbiAgICAgICAgb25XaGVlbDogKGV2ZW50KSA9PiBub3RpZnlTdWJzY3JpYmVycyhFVkVOVF9PTl9XSEVFTCwgZXZlbnQpLFxuICAgIH0pLCBbbm90aWZ5U3Vic2NyaWJlcnNdKTtcbiAgICBjb25zdCBzdWJzY3JpYmVTZW5zb3JzID0gUmVhY3QudXNlQ2FsbGJhY2soKHR5cGUsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIGlmICghc3Vic2NyaWJlcnNbdHlwZV0pIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXJzW3R5cGVdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgc3Vic2NyaWJlcnNbdHlwZV0udW5zaGlmdChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBzdWJzY3JpYmVyc1t0eXBlXTtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKDAsIGxpc3RlbmVycy5sZW5ndGgsIC4uLmxpc3RlbmVycy5maWx0ZXIoKGVsKSA9PiBlbCAhPT0gY2FsbGJhY2spKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9LCBbc3Vic2NyaWJlcnNdKTtcbiAgICByZXR1cm4geyByZWdpc3RlclNlbnNvcnMsIHN1YnNjcmliZVNlbnNvcnMgfTtcbn1cblxuZnVuY3Rpb24gdXNlVGhyb3R0bGUoY2FsbGJhY2ssIGRlbGF5KSB7XG4gICAgY29uc3QgbGFzdENhbGxiYWNrVGltZSA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBkZWxheUNhbGxiYWNrID0gdXNlRGVsYXkoKTtcbiAgICBjb25zdCBleGVjdXRlQ2FsbGJhY2sgPSB1c2VFdmVudENhbGxiYWNrKCguLi5hcmdzKSA9PiB7XG4gICAgICAgIGxhc3RDYWxsYmFja1RpbWUuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgICAgIGNhbGxiYWNrKGFyZ3MpO1xuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdC51c2VDYWxsYmFjaygoLi4uYXJncykgPT4ge1xuICAgICAgICBkZWxheUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgIGV4ZWN1dGVDYWxsYmFjayhhcmdzKTtcbiAgICAgICAgfSwgZGVsYXkgLSAoRGF0ZS5ub3coKSAtIGxhc3RDYWxsYmFja1RpbWUuY3VycmVudCkpO1xuICAgIH0sIFtkZWxheSwgZXhlY3V0ZUNhbGxiYWNrLCBkZWxheUNhbGxiYWNrXSk7XG59XG5cbmNvbnN0IHNsaWRlUHJlZml4ID0gbWFrZUNvbXBvc2VQcmVmaXgoXCJzbGlkZVwiKTtcbmNvbnN0IHNsaWRlSW1hZ2VQcmVmaXggPSBtYWtlQ29tcG9zZVByZWZpeChcInNsaWRlX2ltYWdlXCIpO1xuZnVuY3Rpb24gSW1hZ2VTbGlkZSh7IHNsaWRlOiBpbWFnZSwgb2Zmc2V0LCByZW5kZXIsIHJlY3QsIGltYWdlRml0LCBpbWFnZVByb3BzLCBvbkNsaWNrLCBvbkxvYWQsIHN0eWxlLCB9KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgIGNvbnN0IFtzdGF0dXMsIHNldFN0YXR1c10gPSBSZWFjdC51c2VTdGF0ZShTTElERV9TVEFUVVNfTE9BRElORyk7XG4gICAgY29uc3QgeyBwdWJsaXNoIH0gPSB1c2VFdmVudHMoKTtcbiAgICBjb25zdCB7IHNldFRpbWVvdXQgfSA9IHVzZVRpbWVvdXRzKCk7XG4gICAgY29uc3QgaW1hZ2VSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgICAgICAgICAgcHVibGlzaChhY3RpdmVTbGlkZVN0YXR1cyhzdGF0dXMpKTtcbiAgICAgICAgfVxuICAgIH0sIFtvZmZzZXQsIHN0YXR1cywgcHVibGlzaF0pO1xuICAgIGNvbnN0IGhhbmRsZUxvYWRpbmcgPSB1c2VFdmVudENhbGxiYWNrKChpbWcpID0+IHtcbiAgICAgICAgKFwiZGVjb2RlXCIgaW4gaW1nID8gaW1nLmRlY29kZSgpIDogUHJvbWlzZS5yZXNvbHZlKCkpXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4geyB9KVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpbWcucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFN0YXR1cyhTTElERV9TVEFUVVNfQ09NUExFVEUpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgb25Mb2FkID09PSBudWxsIHx8IG9uTG9hZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25Mb2FkKGltZyk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29uc3Qgc2V0SW1hZ2VSZWYgPSBSZWFjdC51c2VDYWxsYmFjaygoaW1nKSA9PiB7XG4gICAgICAgIGltYWdlUmVmLmN1cnJlbnQgPSBpbWc7XG4gICAgICAgIGlmIChpbWcgPT09IG51bGwgfHwgaW1nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbWcuY29tcGxldGUpIHtcbiAgICAgICAgICAgIGhhbmRsZUxvYWRpbmcoaW1nKTtcbiAgICAgICAgfVxuICAgIH0sIFtoYW5kbGVMb2FkaW5nXSk7XG4gICAgY29uc3QgaGFuZGxlT25Mb2FkID0gUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGhhbmRsZUxvYWRpbmcoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgfSwgW2hhbmRsZUxvYWRpbmddKTtcbiAgICBjb25zdCBvbkVycm9yID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRTdGF0dXMoU0xJREVfU1RBVFVTX0VSUk9SKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgY292ZXIgPSBpc0ltYWdlRml0Q292ZXIoaW1hZ2UsIGltYWdlRml0KTtcbiAgICBjb25zdCBub25JbmZpbml0ZSA9ICh2YWx1ZSwgZmFsbGJhY2spID0+IChOdW1iZXIuaXNGaW5pdGUodmFsdWUpID8gdmFsdWUgOiBmYWxsYmFjayk7XG4gICAgY29uc3QgbWF4V2lkdGggPSBub25JbmZpbml0ZShNYXRoLm1heCguLi4oKF9iID0gKF9hID0gaW1hZ2Uuc3JjU2V0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKCh4KSA9PiB4LndpZHRoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10pLmNvbmNhdChpbWFnZS53aWR0aCA/IFtpbWFnZS53aWR0aF0gOiBbXSkuZmlsdGVyKEJvb2xlYW4pKSwgKChfYyA9IGltYWdlUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5uYXR1cmFsV2lkdGgpIHx8IDApO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IG5vbkluZmluaXRlKE1hdGgubWF4KC4uLigoX2UgPSAoX2QgPSBpbWFnZS5zcmNTZXQpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5tYXAoKHgpID0+IHguaGVpZ2h0KSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogW10pLmNvbmNhdChpbWFnZS5oZWlnaHQgPyBbaW1hZ2UuaGVpZ2h0XSA6IFtdKS5maWx0ZXIoQm9vbGVhbikpLCAoKF9mID0gaW1hZ2VSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLm5hdHVyYWxIZWlnaHQpIHx8IDApO1xuICAgIGNvbnN0IGRlZmF1bHRTdHlsZSA9IG1heFdpZHRoICYmIG1heEhlaWdodFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIG1heFdpZHRoOiBgbWluKCR7bWF4V2lkdGh9cHgsIDEwMCUpYCxcbiAgICAgICAgICAgIG1heEhlaWdodDogYG1pbigke21heEhlaWdodH1weCwgMTAwJSlgLFxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgbWF4V2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgbWF4SGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgfTtcbiAgICBjb25zdCBzcmNTZXQgPSAoX2cgPSBpbWFnZS5zcmNTZXQpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5zb3J0KChhLCBiKSA9PiBhLndpZHRoIC0gYi53aWR0aCkubWFwKChpdGVtKSA9PiBgJHtpdGVtLnNyY30gJHtpdGVtLndpZHRofXdgKS5qb2luKFwiLCBcIik7XG4gICAgY29uc3QgZXN0aW1hdGVBY3R1YWxXaWR0aCA9ICgpID0+IHJlY3QgJiYgIWNvdmVyICYmIGltYWdlLndpZHRoICYmIGltYWdlLmhlaWdodCA/IChyZWN0LmhlaWdodCAvIGltYWdlLmhlaWdodCkgKiBpbWFnZS53aWR0aCA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgY29uc3Qgc2l6ZXMgPSBzcmNTZXQgJiYgcmVjdCAmJiBoYXNXaW5kb3coKSA/IGAke01hdGgucm91bmQoTWF0aC5taW4oZXN0aW1hdGVBY3R1YWxXaWR0aCgpLCByZWN0LndpZHRoKSl9cHhgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHsgc3R5bGU6IGltYWdlUHJvcHNTdHlsZSwgY2xhc3NOYW1lOiBpbWFnZVByb3BzQ2xhc3NOYW1lLCAuLi5yZXN0SW1hZ2VQcm9wcyB9ID0gaW1hZ2VQcm9wcyB8fCB7fTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyByZWY6IHNldEltYWdlUmVmLCBvbkxvYWQ6IGhhbmRsZU9uTG9hZCwgb25FcnJvcjogb25FcnJvciwgb25DbGljazogb25DbGljaywgZHJhZ2dhYmxlOiBmYWxzZSwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKHNsaWRlSW1hZ2VQcmVmaXgoKSksIGNvdmVyICYmIGNzc0NsYXNzKHNsaWRlSW1hZ2VQcmVmaXgoXCJjb3ZlclwiKSksIHN0YXR1cyAhPT0gU0xJREVfU1RBVFVTX0NPTVBMRVRFICYmIGNzc0NsYXNzKHNsaWRlSW1hZ2VQcmVmaXgoXCJsb2FkaW5nXCIpKSwgaW1hZ2VQcm9wc0NsYXNzTmFtZSksIHN0eWxlOiB7IC4uLmRlZmF1bHRTdHlsZSwgLi4uc3R5bGUsIC4uLmltYWdlUHJvcHNTdHlsZSB9LCAuLi5yZXN0SW1hZ2VQcm9wcywgYWx0OiBpbWFnZS5hbHQsIHNpemVzOiBzaXplcywgc3JjU2V0OiBzcmNTZXQsIHNyYzogaW1hZ2Uuc3JjIH0pLFxuICAgICAgICBzdGF0dXMgIT09IFNMSURFX1NUQVRVU19DT01QTEVURSAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY3NzQ2xhc3Moc2xpZGVQcmVmaXgoU0xJREVfU1RBVFVTX1BMQUNFSE9MREVSKSkgfSxcbiAgICAgICAgICAgIHN0YXR1cyA9PT0gU0xJREVfU1RBVFVTX0xPQURJTkcgJiZcbiAgICAgICAgICAgICAgICAoKHJlbmRlciA9PT0gbnVsbCB8fCByZW5kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlbmRlci5pY29uTG9hZGluZykgPyAocmVuZGVyLmljb25Mb2FkaW5nKCkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZ0ljb24sIHsgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKEVMRU1FTlRfSUNPTiksIGNzc0NsYXNzKHNsaWRlUHJlZml4KFNMSURFX1NUQVRVU19MT0FESU5HKSkpIH0pKSksXG4gICAgICAgICAgICBzdGF0dXMgPT09IFNMSURFX1NUQVRVU19FUlJPUiAmJlxuICAgICAgICAgICAgICAgICgocmVuZGVyID09PSBudWxsIHx8IHJlbmRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVuZGVyLmljb25FcnJvcikgPyAocmVuZGVyLmljb25FcnJvcigpKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KEVycm9ySWNvbiwgeyBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoRUxFTUVOVF9JQ09OKSwgY3NzQ2xhc3Moc2xpZGVQcmVmaXgoU0xJREVfU1RBVFVTX0VSUk9SKSkpIH0pKSkpKSkpO1xufVxuXG52YXIgU3dpcGVTdGF0ZTtcbihmdW5jdGlvbiAoU3dpcGVTdGF0ZSkge1xuICAgIFN3aXBlU3RhdGVbU3dpcGVTdGF0ZVtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIFN3aXBlU3RhdGVbU3dpcGVTdGF0ZVtcIlNXSVBFXCJdID0gMV0gPSBcIlNXSVBFXCI7XG4gICAgU3dpcGVTdGF0ZVtTd2lwZVN0YXRlW1wiUFVMTFwiXSA9IDJdID0gXCJQVUxMXCI7XG4gICAgU3dpcGVTdGF0ZVtTd2lwZVN0YXRlW1wiQU5JTUFUSU9OXCJdID0gM10gPSBcIkFOSU1BVElPTlwiO1xufSkoU3dpcGVTdGF0ZSB8fCAoU3dpcGVTdGF0ZSA9IHt9KSk7XG5cbmZ1bmN0aW9uIHVzZVBvaW50ZXJFdmVudHMoc3Vic2NyaWJlU2Vuc29ycywgb25Qb2ludGVyRG93biwgb25Qb2ludGVyTW92ZSwgb25Qb2ludGVyVXAsIGRpc2FibGVkKSB7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+ICFkaXNhYmxlZFxuICAgICAgICA/IGNsZWFudXAoc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9QT0lOVEVSX0RPV04sIG9uUG9pbnRlckRvd24pLCBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX1BPSU5URVJfTU9WRSwgb25Qb2ludGVyTW92ZSksIHN1YnNjcmliZVNlbnNvcnMoRVZFTlRfT05fUE9JTlRFUl9VUCwgb25Qb2ludGVyVXApLCBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX1BPSU5URVJfTEVBVkUsIG9uUG9pbnRlclVwKSwgc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9QT0lOVEVSX0NBTkNFTCwgb25Qb2ludGVyVXApKVxuICAgICAgICA6ICgpID0+IHsgfSwgW3N1YnNjcmliZVNlbnNvcnMsIG9uUG9pbnRlckRvd24sIG9uUG9pbnRlck1vdmUsIG9uUG9pbnRlclVwLCBkaXNhYmxlZF0pO1xufVxuXG52YXIgR2VzdHVyZTtcbihmdW5jdGlvbiAoR2VzdHVyZSkge1xuICAgIEdlc3R1cmVbR2VzdHVyZVtcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIEdlc3R1cmVbR2VzdHVyZVtcIlNXSVBFXCJdID0gMV0gPSBcIlNXSVBFXCI7XG4gICAgR2VzdHVyZVtHZXN0dXJlW1wiUFVMTFwiXSA9IDJdID0gXCJQVUxMXCI7XG59KShHZXN0dXJlIHx8IChHZXN0dXJlID0ge30pKTtcbmNvbnN0IFNXSVBFX1RIUkVTSE9MRCA9IDMwO1xuZnVuY3Rpb24gdXNlUG9pbnRlclN3aXBlKHN1YnNjcmliZVNlbnNvcnMsIGlzU3dpcGVWYWxpZCwgY29udGFpbmVyV2lkdGgsIHN3aXBlQW5pbWF0aW9uRHVyYXRpb24sIG9uU3dpcGVTdGFydCwgb25Td2lwZVByb2dyZXNzLCBvblN3aXBlRmluaXNoLCBvblN3aXBlQ2FuY2VsLCBwdWxsVXBFbmFibGVkLCBwdWxsRG93bkVuYWJsZWQsIG9uUHVsbFN0YXJ0LCBvblB1bGxQcm9ncmVzcywgb25QdWxsRmluaXNoLCBvblB1bGxDYW5jZWwpIHtcbiAgICBjb25zdCBvZmZzZXQgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgcG9pbnRlcnMgPSBSZWFjdC51c2VSZWYoW10pO1xuICAgIGNvbnN0IGFjdGl2ZVBvaW50ZXIgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgZ2VzdHVyZSA9IFJlYWN0LnVzZVJlZihHZXN0dXJlLk5PTkUpO1xuICAgIGNvbnN0IGNsZWFyUG9pbnRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlUG9pbnRlci5jdXJyZW50ID09PSBldmVudC5wb2ludGVySWQpIHtcbiAgICAgICAgICAgIGFjdGl2ZVBvaW50ZXIuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGdlc3R1cmUuY3VycmVudCA9IEdlc3R1cmUuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50UG9pbnRlcnMgPSBwb2ludGVycy5jdXJyZW50O1xuICAgICAgICBjdXJyZW50UG9pbnRlcnMuc3BsaWNlKDAsIGN1cnJlbnRQb2ludGVycy5sZW5ndGgsIC4uLmN1cnJlbnRQb2ludGVycy5maWx0ZXIoKHApID0+IHAucG9pbnRlcklkICE9PSBldmVudC5wb2ludGVySWQpKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgYWRkUG9pbnRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjbGVhclBvaW50ZXIoZXZlbnQpO1xuICAgICAgICBldmVudC5wZXJzaXN0KCk7XG4gICAgICAgIHBvaW50ZXJzLmN1cnJlbnQucHVzaChldmVudCk7XG4gICAgfSwgW2NsZWFyUG9pbnRlcl0pO1xuICAgIGNvbnN0IG9uUG9pbnRlckRvd24gPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBhZGRQb2ludGVyKGV2ZW50KTtcbiAgICB9KTtcbiAgICBjb25zdCBleGNlZWRzUHVsbFRocmVzaG9sZCA9ICh2YWx1ZSwgdGhyZXNob2xkKSA9PiAocHVsbERvd25FbmFibGVkICYmIHZhbHVlID4gdGhyZXNob2xkKSB8fCAocHVsbFVwRW5hYmxlZCAmJiB2YWx1ZSA8IC10aHJlc2hvbGQpO1xuICAgIGNvbnN0IG9uUG9pbnRlclVwID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKHBvaW50ZXJzLmN1cnJlbnQuZmluZCgoeCkgPT4geC5wb2ludGVySWQgPT09IGV2ZW50LnBvaW50ZXJJZCkgJiYgYWN0aXZlUG9pbnRlci5jdXJyZW50ID09PSBldmVudC5wb2ludGVySWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZS5jdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE9mZnNldCA9IG9mZnNldC5jdXJyZW50O1xuICAgICAgICAgICAgaWYgKGdlc3R1cmUuY3VycmVudCA9PT0gR2VzdHVyZS5TV0lQRSkge1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjdXJyZW50T2Zmc2V0KSA+IDAuMyAqIGNvbnRhaW5lcldpZHRoIHx8XG4gICAgICAgICAgICAgICAgICAgIChNYXRoLmFicyhjdXJyZW50T2Zmc2V0KSA+IDUgJiYgZHVyYXRpb24gPCBzd2lwZUFuaW1hdGlvbkR1cmF0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBvblN3aXBlRmluaXNoKGN1cnJlbnRPZmZzZXQsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9uU3dpcGVDYW5jZWwoY3VycmVudE9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ2VzdHVyZS5jdXJyZW50ID09PSBHZXN0dXJlLlBVTEwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXhjZWVkc1B1bGxUaHJlc2hvbGQoY3VycmVudE9mZnNldCwgMiAqIFNXSVBFX1RIUkVTSE9MRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgb25QdWxsRmluaXNoKGN1cnJlbnRPZmZzZXQsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUHVsbENhbmNlbChjdXJyZW50T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmZzZXQuY3VycmVudCA9IDA7XG4gICAgICAgICAgICBnZXN0dXJlLmN1cnJlbnQgPSBHZXN0dXJlLk5PTkU7XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJQb2ludGVyKGV2ZW50KTtcbiAgICB9KTtcbiAgICBjb25zdCBvblBvaW50ZXJNb3ZlID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgcG9pbnRlciA9IHBvaW50ZXJzLmN1cnJlbnQuZmluZCgocCkgPT4gcC5wb2ludGVySWQgPT09IGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgIGlmIChwb2ludGVyKSB7XG4gICAgICAgICAgICBjb25zdCBpc0N1cnJlbnRQb2ludGVyID0gYWN0aXZlUG9pbnRlci5jdXJyZW50ID09PSBldmVudC5wb2ludGVySWQ7XG4gICAgICAgICAgICBpZiAoZXZlbnQuYnV0dG9ucyA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0N1cnJlbnRQb2ludGVyICYmIG9mZnNldC5jdXJyZW50ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uUG9pbnRlclVwKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyUG9pbnRlcihwb2ludGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGVsdGFYID0gZXZlbnQuY2xpZW50WCAtIHBvaW50ZXIuY2xpZW50WDtcbiAgICAgICAgICAgIGNvbnN0IGRlbHRhWSA9IGV2ZW50LmNsaWVudFkgLSBwb2ludGVyLmNsaWVudFk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlUG9pbnRlci5jdXJyZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydEdlc3R1cmUgPSAobmV3R2VzdHVyZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBhZGRQb2ludGVyKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlUG9pbnRlci5jdXJyZW50ID0gZXZlbnQucG9pbnRlcklkO1xuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWUuY3VycmVudCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgIGdlc3R1cmUuY3VycmVudCA9IG5ld0dlc3R1cmU7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGFYKSA+IE1hdGguYWJzKGRlbHRhWSkgJiYgTWF0aC5hYnMoZGVsdGFYKSA+IFNXSVBFX1RIUkVTSE9MRCAmJiBpc1N3aXBlVmFsaWQoZGVsdGFYKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydEdlc3R1cmUoR2VzdHVyZS5TV0lQRSk7XG4gICAgICAgICAgICAgICAgICAgIG9uU3dpcGVTdGFydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkZWx0YVkpID4gTWF0aC5hYnMoZGVsdGFYKSAmJiBleGNlZWRzUHVsbFRocmVzaG9sZChkZWx0YVksIFNXSVBFX1RIUkVTSE9MRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRHZXN0dXJlKEdlc3R1cmUuUFVMTCk7XG4gICAgICAgICAgICAgICAgICAgIG9uUHVsbFN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNDdXJyZW50UG9pbnRlcikge1xuICAgICAgICAgICAgICAgIGlmIChnZXN0dXJlLmN1cnJlbnQgPT09IEdlc3R1cmUuU1dJUEUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0LmN1cnJlbnQgPSBkZWx0YVg7XG4gICAgICAgICAgICAgICAgICAgIG9uU3dpcGVQcm9ncmVzcyhkZWx0YVgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChnZXN0dXJlLmN1cnJlbnQgPT09IEdlc3R1cmUuUFVMTCkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQuY3VycmVudCA9IGRlbHRhWTtcbiAgICAgICAgICAgICAgICAgICAgb25QdWxsUHJvZ3Jlc3MoZGVsdGFZKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VQb2ludGVyRXZlbnRzKHN1YnNjcmliZVNlbnNvcnMsIG9uUG9pbnRlckRvd24sIG9uUG9pbnRlck1vdmUsIG9uUG9pbnRlclVwKTtcbn1cblxuZnVuY3Rpb24gdXNlUHJldmVudFdoZWVsRGVmYXVsdHMoeyBwcmV2ZW50RGVmYXVsdFdoZWVsWCwgcHJldmVudERlZmF1bHRXaGVlbFksIH0pIHtcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgbGlzdGVuZXIgPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBob3Jpem9udGFsID0gTWF0aC5hYnMoZXZlbnQuZGVsdGFYKSA+IE1hdGguYWJzKGV2ZW50LmRlbHRhWSk7XG4gICAgICAgIGlmICgoaG9yaXpvbnRhbCAmJiBwcmV2ZW50RGVmYXVsdFdoZWVsWCkgfHwgKCFob3Jpem9udGFsICYmIHByZXZlbnREZWZhdWx0V2hlZWxZKSB8fCBldmVudC5jdHJsS2V5KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKChub2RlKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIGxpc3RlbmVyLCB7IHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgKF9hID0gcmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICB9LCBbbGlzdGVuZXJdKTtcbn1cblxuZnVuY3Rpb24gdXNlV2hlZWxTd2lwZShzd2lwZVN0YXRlLCBzdWJzY3JpYmVTZW5zb3JzLCBpc1N3aXBlVmFsaWQsIGNvbnRhaW5lcldpZHRoLCBzd2lwZUFuaW1hdGlvbkR1cmF0aW9uLCBvblN3aXBlU3RhcnQsIG9uU3dpcGVQcm9ncmVzcywgb25Td2lwZUZpbmlzaCwgb25Td2lwZUNhbmNlbCkge1xuICAgIGNvbnN0IG9mZnNldCA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBpbnRlbnQgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgaW50ZW50Q2xlYW51cCA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHJlc2V0Q2xlYW51cCA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHdoZWVsUmVzaWR1YWxNb21lbnR1bSA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgeyBzZXRUaW1lb3V0LCBjbGVhclRpbWVvdXQgfSA9IHVzZVRpbWVvdXRzKCk7XG4gICAgY29uc3QgY2FuY2VsU3dpcGVJbnRlbnRDbGVhbnVwID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoaW50ZW50Q2xlYW51cC5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaW50ZW50Q2xlYW51cC5jdXJyZW50KTtcbiAgICAgICAgICAgIGludGVudENsZWFudXAuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH0sIFtjbGVhclRpbWVvdXRdKTtcbiAgICBjb25zdCBjYW5jZWxTd2lwZVJlc2V0Q2xlYW51cCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHJlc2V0Q2xlYW51cC5jdXJyZW50KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQocmVzZXRDbGVhbnVwLmN1cnJlbnQpO1xuICAgICAgICAgICAgcmVzZXRDbGVhbnVwLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9LCBbY2xlYXJUaW1lb3V0XSk7XG4gICAgY29uc3QgaGFuZGxlQ2xlYW51cCA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoc3dpcGVTdGF0ZSAhPT0gU3dpcGVTdGF0ZS5TV0lQRSkge1xuICAgICAgICAgICAgb2Zmc2V0LmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgc3RhcnRUaW1lLmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgY2FuY2VsU3dpcGVJbnRlbnRDbGVhbnVwKCk7XG4gICAgICAgICAgICBjYW5jZWxTd2lwZVJlc2V0Q2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGhhbmRsZUNsZWFudXAsIFtzd2lwZVN0YXRlLCBoYW5kbGVDbGVhbnVwXSk7XG4gICAgY29uc3QgaGFuZGxlQ2FuY2VsU3dpcGUgPSB1c2VFdmVudENhbGxiYWNrKChjdXJyZW50U3dpcGVPZmZzZXQpID0+IHtcbiAgICAgICAgcmVzZXRDbGVhbnVwLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChvZmZzZXQuY3VycmVudCA9PT0gY3VycmVudFN3aXBlT2Zmc2V0KSB7XG4gICAgICAgICAgICBvblN3aXBlQ2FuY2VsKG9mZnNldC5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG9uV2hlZWwgPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY3RybEtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyhldmVudC5kZWx0YVkpID4gTWF0aC5hYnMoZXZlbnQuZGVsdGFYKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzd2lwZVN0YXRlID09PSBTd2lwZVN0YXRlLk5PTkUpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhldmVudC5kZWx0YVgpIDw9IDEuMiAqIE1hdGguYWJzKHdoZWVsUmVzaWR1YWxNb21lbnR1bS5jdXJyZW50KSkge1xuICAgICAgICAgICAgICAgIHdoZWVsUmVzaWR1YWxNb21lbnR1bS5jdXJyZW50ID0gZXZlbnQuZGVsdGFYO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNTd2lwZVZhbGlkKC1ldmVudC5kZWx0YVgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW50ZW50LmN1cnJlbnQgKz0gZXZlbnQuZGVsdGFYO1xuICAgICAgICAgICAgY2FuY2VsU3dpcGVJbnRlbnRDbGVhbnVwKCk7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW50ZW50LmN1cnJlbnQpID4gMzApIHtcbiAgICAgICAgICAgICAgICBpbnRlbnQuY3VycmVudCA9IDA7XG4gICAgICAgICAgICAgICAgd2hlZWxSZXNpZHVhbE1vbWVudHVtLmN1cnJlbnQgPSAwO1xuICAgICAgICAgICAgICAgIHN0YXJ0VGltZS5jdXJyZW50ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBvblN3aXBlU3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTd2lwZUludGVudCA9IGludGVudC5jdXJyZW50O1xuICAgICAgICAgICAgICAgIGludGVudENsZWFudXAuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbnRlbnRDbGVhbnVwLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3dpcGVJbnRlbnQgPT09IGludGVudC5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlbnQuY3VycmVudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBzd2lwZUFuaW1hdGlvbkR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzd2lwZVN0YXRlID09PSBTd2lwZVN0YXRlLlNXSVBFKSB7XG4gICAgICAgICAgICBsZXQgbmV3U3dpcGVPZmZzZXQgPSBvZmZzZXQuY3VycmVudCAtIGV2ZW50LmRlbHRhWDtcbiAgICAgICAgICAgIG5ld1N3aXBlT2Zmc2V0ID0gTWF0aC5taW4oTWF0aC5hYnMobmV3U3dpcGVPZmZzZXQpLCBjb250YWluZXJXaWR0aCkgKiBNYXRoLnNpZ24obmV3U3dpcGVPZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0LmN1cnJlbnQgPSBuZXdTd2lwZU9mZnNldDtcbiAgICAgICAgICAgIG9uU3dpcGVQcm9ncmVzcyhuZXdTd2lwZU9mZnNldCk7XG4gICAgICAgICAgICBjYW5jZWxTd2lwZVJlc2V0Q2xlYW51cCgpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKG5ld1N3aXBlT2Zmc2V0KSA+IDAuMiAqIGNvbnRhaW5lcldpZHRoKSB7XG4gICAgICAgICAgICAgICAgd2hlZWxSZXNpZHVhbE1vbWVudHVtLmN1cnJlbnQgPSBldmVudC5kZWx0YVg7XG4gICAgICAgICAgICAgICAgb25Td2lwZUZpbmlzaChuZXdTd2lwZU9mZnNldCwgRGF0ZS5ub3coKSAtIHN0YXJ0VGltZS5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNldENsZWFudXAuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlQ2FuY2VsU3dpcGUobmV3U3dpcGVPZmZzZXQpLCAyICogc3dpcGVBbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aGVlbFJlc2lkdWFsTW9tZW50dW0uY3VycmVudCA9IGV2ZW50LmRlbHRhWDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX1dIRUVMLCBvbldoZWVsKSwgW3N1YnNjcmliZVNlbnNvcnMsIG9uV2hlZWxdKTtcbn1cblxuY29uc3QgY3NzQ29udGFpbmVyUHJlZml4ID0gbWFrZUNvbXBvc2VQcmVmaXgoXCJjb250YWluZXJcIik7XG5jb25zdCBDb250cm9sbGVyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VDb250cm9sbGVyID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VDb250cm9sbGVyXCIsIFwiQ29udHJvbGxlckNvbnRleHRcIiwgQ29udHJvbGxlckNvbnRleHQpO1xuZnVuY3Rpb24gQ29udHJvbGxlcih7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHsgY2Fyb3VzZWwsIGFuaW1hdGlvbiwgY29udHJvbGxlciwgb24sIHN0eWxlcywgcmVuZGVyIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGNsb3NlT25QdWxsVXAsIGNsb3NlT25QdWxsRG93biwgcHJldmVudERlZmF1bHRXaGVlbFgsIHByZXZlbnREZWZhdWx0V2hlZWxZIH0gPSBjb250cm9sbGVyO1xuICAgIGNvbnN0IFt0b29sYmFyV2lkdGgsIHNldFRvb2xiYXJXaWR0aF0gPSBSZWFjdC51c2VTdGF0ZSgpO1xuICAgIGNvbnN0IHN0YXRlID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlTGlnaHRib3hEaXNwYXRjaCgpO1xuICAgIGNvbnN0IFtzd2lwZVN0YXRlLCBzZXRTd2lwZVN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKFN3aXBlU3RhdGUuTk9ORSk7XG4gICAgY29uc3Qgc3dpcGVPZmZzZXQgPSBSZWFjdC51c2VSZWYoMCk7XG4gICAgY29uc3QgcHVsbE9mZnNldCA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBwdWxsT3BhY2l0eSA9IFJlYWN0LnVzZVJlZigxKTtcbiAgICBjb25zdCB7IHJlZ2lzdGVyU2Vuc29ycywgc3Vic2NyaWJlU2Vuc29ycyB9ID0gdXNlU2Vuc29ycygpO1xuICAgIGNvbnN0IHsgc3Vic2NyaWJlLCBwdWJsaXNoIH0gPSB1c2VFdmVudHMoKTtcbiAgICBjb25zdCBjbGVhbnVwQW5pbWF0aW9uSW5jcmVtZW50ID0gdXNlRGVsYXkoKTtcbiAgICBjb25zdCBjbGVhbnVwU3dpcGVPZmZzZXQgPSB1c2VEZWxheSgpO1xuICAgIGNvbnN0IGNsZWFudXBQdWxsT2Zmc2V0ID0gdXNlRGVsYXkoKTtcbiAgICBjb25zdCB7IGNvbnRhaW5lclJlZiwgc2V0Q29udGFpbmVyUmVmLCBjb250YWluZXJSZWN0IH0gPSB1c2VDb250YWluZXJSZWN0KCk7XG4gICAgY29uc3QgaGFuZGxlQ29udGFpbmVyUmVmID0gdXNlRm9ya1JlZih1c2VQcmV2ZW50V2hlZWxEZWZhdWx0cyh7IHByZXZlbnREZWZhdWx0V2hlZWxYLCBwcmV2ZW50RGVmYXVsdFdoZWVsWSB9KSwgc2V0Q29udGFpbmVyUmVmKTtcbiAgICBjb25zdCBjYXJvdXNlbFJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBzZXRDYXJvdXNlbFJlZiA9IHVzZUZvcmtSZWYoY2Fyb3VzZWxSZWYsIHVuZGVmaW5lZCk7XG4gICAgY29uc3QgaXNSVEwgPSB1c2VSVEwoKTtcbiAgICBjb25zdCBydGwgPSAodmFsdWUpID0+IChpc1JUTCA/IC0xIDogMSkgKiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiID8gdmFsdWUgOiAxKTtcbiAgICBjb25zdCBmb2N1cyA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBjb250YWluZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7IH0pO1xuICAgIGNvbnN0IGdldExpZ2h0Ym94UHJvcHMgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHByb3BzKTtcbiAgICBjb25zdCBnZXRMaWdodGJveFN0YXRlID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiBzdGF0ZSk7XG4gICAgY29uc3QgcHJldiA9IFJlYWN0LnVzZUNhbGxiYWNrKChwYXJhbXMpID0+IHB1Ymxpc2goQUNUSU9OX1BSRVYsIHBhcmFtcyksIFtwdWJsaXNoXSk7XG4gICAgY29uc3QgbmV4dCA9IFJlYWN0LnVzZUNhbGxiYWNrKChwYXJhbXMpID0+IHB1Ymxpc2goQUNUSU9OX05FWFQsIHBhcmFtcyksIFtwdWJsaXNoXSk7XG4gICAgY29uc3QgY2xvc2UgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBwdWJsaXNoKEFDVElPTl9DTE9TRSksIFtwdWJsaXNoXSk7XG4gICAgY29uc3QgaXNTd2lwZVZhbGlkID0gKG9mZnNldCkgPT4gIShjYXJvdXNlbC5maW5pdGUgJiZcbiAgICAgICAgKChydGwob2Zmc2V0KSA+IDAgJiYgc3RhdGUuY3VycmVudEluZGV4ID09PSAwKSB8fFxuICAgICAgICAgICAgKHJ0bChvZmZzZXQpIDwgMCAmJiBzdGF0ZS5jdXJyZW50SW5kZXggPT09IHN0YXRlLnNsaWRlcy5sZW5ndGggLSAxKSkpO1xuICAgIGNvbnN0IHNldFN3aXBlT2Zmc2V0ID0gKG9mZnNldCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHN3aXBlT2Zmc2V0LmN1cnJlbnQgPSBvZmZzZXQ7XG4gICAgICAgIChfYSA9IGNvbnRhaW5lclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3R5bGUuc2V0UHJvcGVydHkoY3NzVmFyKFwic3dpcGVfb2Zmc2V0XCIpLCBgJHtNYXRoLnJvdW5kKG9mZnNldCl9cHhgKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldFB1bGxPZmZzZXQgPSAob2Zmc2V0KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHB1bGxPZmZzZXQuY3VycmVudCA9IG9mZnNldDtcbiAgICAgICAgcHVsbE9wYWNpdHkuY3VycmVudCA9ICgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0aHJlc2hvbGQgPSA2MDtcbiAgICAgICAgICAgIGNvbnN0IG1pbk9wYWNpdHkgPSAwLjU7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXRWYWx1ZSA9ICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNsb3NlT25QdWxsRG93biAmJiBvZmZzZXQgPiAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChjbG9zZU9uUHVsbFVwICYmIG9mZnNldCA8IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtb2Zmc2V0O1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChyb3VuZCgxIC0gKG9mZnNldFZhbHVlIC8gdGhyZXNob2xkKSAqICgxIC0gbWluT3BhY2l0eSksIDIpLCBtaW5PcGFjaXR5KSwgMSk7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIChfYSA9IGNvbnRhaW5lclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3R5bGUuc2V0UHJvcGVydHkoY3NzVmFyKFwicHVsbF9vZmZzZXRcIiksIGAke01hdGgucm91bmQob2Zmc2V0KX1weGApO1xuICAgICAgICAoX2IgPSBjb250YWluZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnN0eWxlLnNldFByb3BlcnR5KGNzc1ZhcihcInB1bGxfb3BhY2l0eVwiKSwgYCR7cHVsbE9wYWNpdHkuY3VycmVudH1gKTtcbiAgICB9O1xuICAgIGNvbnN0IHsgcHJlcGFyZUFuaW1hdGlvbjogcHJlcGFyZVB1bGxBbmltYXRpb24gfSA9IHVzZUFuaW1hdGlvbihjYXJvdXNlbFJlZiwgKHNuYXBzaG90LCByZWN0LCB0cmFuc2xhdGUpID0+IHtcbiAgICAgICAgaWYgKGNhcm91c2VsUmVmLmN1cnJlbnQgJiYgY29udGFpbmVyUmVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBrZXlmcmFtZXM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKDAsICR7c25hcHNob3QucmVjdC55IC0gcmVjdC55ICsgdHJhbnNsYXRlLnl9cHgpYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHNuYXBzaG90Lm9wYWNpdHksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgwLCAwKVwiLCBvcGFjaXR5OiAxIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogc25hcHNob3QuZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZWFzaW5nOiBhbmltYXRpb24uZWFzaW5nLmZhZGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgY29uc3QgcHVsbCA9IChvZmZzZXQsIGNhbmNlbCkgPT4ge1xuICAgICAgICBpZiAoY2xvc2VPblB1bGxVcCB8fCBjbG9zZU9uUHVsbERvd24pIHtcbiAgICAgICAgICAgIHNldFB1bGxPZmZzZXQob2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBpZiAoY2Fyb3VzZWxSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gYW5pbWF0aW9uLmZhZGUgKiAoY2FuY2VsID8gMiA6IDEpO1xuICAgICAgICAgICAgICAgIHByZXBhcmVQdWxsQW5pbWF0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgcmVjdDogY2Fyb3VzZWxSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogcHVsbE9wYWNpdHkuY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhbnVwUHVsbE9mZnNldCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UHVsbE9mZnNldCgwKTtcbiAgICAgICAgICAgICAgICBzZXRTd2lwZVN0YXRlKFN3aXBlU3RhdGUuTk9ORSk7XG4gICAgICAgICAgICB9LCBkdXJhdGlvbik7XG4gICAgICAgICAgICBzZXRTd2lwZVN0YXRlKFN3aXBlU3RhdGUuQU5JTUFUSU9OKTtcbiAgICAgICAgICAgIGlmICghY2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgeyBwcmVwYXJlQW5pbWF0aW9uLCBpc0FuaW1hdGlvblBsYXlpbmcgfSA9IHVzZUFuaW1hdGlvbihjYXJvdXNlbFJlZiwgKHNuYXBzaG90LCByZWN0LCB0cmFuc2xhdGUpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoY2Fyb3VzZWxSZWYuY3VycmVudCAmJiBjb250YWluZXJSZWN0ICYmICgoX2EgPSBzdGF0ZS5hbmltYXRpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFNwYWNpbmcgPSBwYXJzZUxlbmd0aFBlcmNlbnRhZ2UoY2Fyb3VzZWwuc3BhY2luZyk7XG4gICAgICAgICAgICBjb25zdCBzcGFjaW5nVmFsdWUgPSAocGFyc2VkU3BhY2luZy5wZXJjZW50ID8gKHBhcnNlZFNwYWNpbmcucGVyY2VudCAqIGNvbnRhaW5lclJlY3Qud2lkdGgpIC8gMTAwIDogcGFyc2VkU3BhY2luZy5waXhlbCkgfHwgMDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5ZnJhbWVzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3J0bChzdGF0ZS5nbG9iYWxJbmRleCAtIHNuYXBzaG90LmluZGV4KSAqIChjb250YWluZXJSZWN0LndpZHRoICsgc3BhY2luZ1ZhbHVlKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc25hcHNob3QucmVjdC54IC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWN0LnggK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZS54fXB4LCAwKWAsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgwLCAwKVwiIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogc3RhdGUuYW5pbWF0aW9uLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZzogc3RhdGUuYW5pbWF0aW9uLmVhc2luZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBjb25zdCBzd2lwZSA9IHVzZUV2ZW50Q2FsbGJhY2soKGFjdGlvbikgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjdXJyZW50U3dpcGVPZmZzZXQgPSBhY3Rpb24ub2Zmc2V0IHx8IDA7XG4gICAgICAgIGNvbnN0IHN3aXBlRHVyYXRpb24gPSAhY3VycmVudFN3aXBlT2Zmc2V0ID8gKF9hID0gYW5pbWF0aW9uLm5hdmlnYXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGFuaW1hdGlvbi5zd2lwZSA6IGFuaW1hdGlvbi5zd2lwZTtcbiAgICAgICAgY29uc3Qgc3dpcGVFYXNpbmcgPSAhY3VycmVudFN3aXBlT2Zmc2V0ICYmICFpc0FuaW1hdGlvblBsYXlpbmcoKSA/IGFuaW1hdGlvbi5lYXNpbmcubmF2aWdhdGlvbiA6IGFuaW1hdGlvbi5lYXNpbmcuc3dpcGU7XG4gICAgICAgIGxldCB7IGRpcmVjdGlvbiB9ID0gYWN0aW9uO1xuICAgICAgICBjb25zdCBjb3VudCA9IChfYiA9IGFjdGlvbi5jb3VudCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMTtcbiAgICAgICAgbGV0IG5ld1N3aXBlU3RhdGUgPSBTd2lwZVN0YXRlLkFOSU1BVElPTjtcbiAgICAgICAgbGV0IG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPSBzd2lwZUR1cmF0aW9uICogY291bnQ7XG4gICAgICAgIGlmICghZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lclJlY3QgPT09IG51bGwgfHwgY29udGFpbmVyUmVjdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29udGFpbmVyUmVjdC53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gYWN0aW9uLmR1cmF0aW9uIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFRpbWUgPSBjb250YWluZXJXaWR0aFxuICAgICAgICAgICAgICAgID8gKHN3aXBlRHVyYXRpb24gLyBjb250YWluZXJXaWR0aCkgKiBNYXRoLmFicyhjdXJyZW50U3dpcGVPZmZzZXQpXG4gICAgICAgICAgICAgICAgOiBzd2lwZUR1cmF0aW9uO1xuICAgICAgICAgICAgaWYgKGNvdW50ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsYXBzZWRUaW1lIDwgZXhwZWN0ZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgKG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gLyBleHBlY3RlZFRpbWUpICogTWF0aC5tYXgoZWxhcHNlZFRpbWUsIGV4cGVjdGVkVGltZSAvIDUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgIChzd2lwZUR1cmF0aW9uIC8gY29udGFpbmVyV2lkdGgpICogKGNvbnRhaW5lcldpZHRoIC0gTWF0aC5hYnMoY3VycmVudFN3aXBlT2Zmc2V0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IHJ0bChjdXJyZW50U3dpcGVPZmZzZXQpID4gMCA/IEFDVElPTl9QUkVWIDogQUNUSU9OX05FWFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTd2lwZUFuaW1hdGlvbkR1cmF0aW9uID0gc3dpcGVEdXJhdGlvbiAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluY3JlbWVudCA9IDA7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IEFDVElPTl9QUkVWKSB7XG4gICAgICAgICAgICBpZiAoaXNTd2lwZVZhbGlkKHJ0bCgxKSkpIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnQgPSAtY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTd2lwZVN0YXRlID0gU3dpcGVTdGF0ZS5OT05FO1xuICAgICAgICAgICAgICAgIG5ld1N3aXBlQW5pbWF0aW9uRHVyYXRpb24gPSBzd2lwZUR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gQUNUSU9OX05FWFQpIHtcbiAgICAgICAgICAgIGlmIChpc1N3aXBlVmFsaWQocnRsKC0xKSkpIHtcbiAgICAgICAgICAgICAgICBpbmNyZW1lbnQgPSBjb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld1N3aXBlU3RhdGUgPSBTd2lwZVN0YXRlLk5PTkU7XG4gICAgICAgICAgICAgICAgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbiA9IHN3aXBlRHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbiA9IE1hdGgucm91bmQobmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgIGNsZWFudXBTd2lwZU9mZnNldCgoKSA9PiB7XG4gICAgICAgICAgICBzZXRTd2lwZU9mZnNldCgwKTtcbiAgICAgICAgICAgIHNldFN3aXBlU3RhdGUoU3dpcGVTdGF0ZS5OT05FKTtcbiAgICAgICAgfSwgbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbik7XG4gICAgICAgIGlmIChjYXJvdXNlbFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBwcmVwYXJlQW5pbWF0aW9uKHtcbiAgICAgICAgICAgICAgICByZWN0OiBjYXJvdXNlbFJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgICAgIGluZGV4OiBzdGF0ZS5nbG9iYWxJbmRleCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNldFN3aXBlU3RhdGUobmV3U3dpcGVTdGF0ZSk7XG4gICAgICAgIHB1Ymxpc2goQUNUSU9OX1NXSVBFLCB7XG4gICAgICAgICAgICB0eXBlOiBcInN3aXBlXCIsXG4gICAgICAgICAgICBpbmNyZW1lbnQsXG4gICAgICAgICAgICBkdXJhdGlvbjogbmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogc3dpcGVFYXNpbmcsXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICgoKF9hID0gc3RhdGUuYW5pbWF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaW5jcmVtZW50KSAmJiAoKF9iID0gc3RhdGUuYW5pbWF0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZHVyYXRpb24pKSB7XG4gICAgICAgICAgICBjbGVhbnVwQW5pbWF0aW9uSW5jcmVtZW50KCgpID0+IGRpc3BhdGNoKHsgdHlwZTogXCJzd2lwZVwiLCBpbmNyZW1lbnQ6IDAgfSksIHN0YXRlLmFuaW1hdGlvbi5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9LCBbc3RhdGUuYW5pbWF0aW9uLCBkaXNwYXRjaCwgY2xlYW51cEFuaW1hdGlvbkluY3JlbWVudF0pO1xuICAgIGNvbnN0IHN3aXBlUGFyYW1zID0gW1xuICAgICAgICBzdWJzY3JpYmVTZW5zb3JzLFxuICAgICAgICBpc1N3aXBlVmFsaWQsXG4gICAgICAgIChjb250YWluZXJSZWN0ID09PSBudWxsIHx8IGNvbnRhaW5lclJlY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRhaW5lclJlY3Qud2lkdGgpIHx8IDAsXG4gICAgICAgIGFuaW1hdGlvbi5zd2lwZSxcbiAgICAgICAgKCkgPT4gc2V0U3dpcGVTdGF0ZShTd2lwZVN0YXRlLlNXSVBFKSxcbiAgICAgICAgKG9mZnNldCkgPT4gc2V0U3dpcGVPZmZzZXQob2Zmc2V0KSxcbiAgICAgICAgKG9mZnNldCwgZHVyYXRpb24pID0+IHN3aXBlKHsgb2Zmc2V0LCBkdXJhdGlvbiwgY291bnQ6IDEgfSksXG4gICAgICAgIChvZmZzZXQpID0+IHN3aXBlKHsgb2Zmc2V0LCBjb3VudDogMCB9KSxcbiAgICBdO1xuICAgIGNvbnN0IHB1bGxQYXJhbXMgPSBbXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGlmIChjbG9zZU9uUHVsbERvd24pIHtcbiAgICAgICAgICAgICAgICBzZXRTd2lwZVN0YXRlKFN3aXBlU3RhdGUuUFVMTCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChvZmZzZXQpID0+IHNldFB1bGxPZmZzZXQob2Zmc2V0KSxcbiAgICAgICAgKG9mZnNldCkgPT4gcHVsbChvZmZzZXQpLFxuICAgICAgICAob2Zmc2V0KSA9PiBwdWxsKG9mZnNldCwgdHJ1ZSksXG4gICAgXTtcbiAgICB1c2VQb2ludGVyU3dpcGUoLi4uc3dpcGVQYXJhbXMsIGNsb3NlT25QdWxsVXAsIGNsb3NlT25QdWxsRG93biwgLi4ucHVsbFBhcmFtcyk7XG4gICAgdXNlV2hlZWxTd2lwZShzd2lwZVN0YXRlLCAuLi5zd2lwZVBhcmFtcyk7XG4gICAgY29uc3QgZm9jdXNPbk1vdW50ID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChjb250cm9sbGVyLmZvY3VzKSB7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y3NzQ2xhc3MoTU9EVUxFX1BPUlRBTCl9IC4ke2Nzc0NsYXNzKGNzc0NvbnRhaW5lclByZWZpeCgpKX1gKSkge1xuICAgICAgICAgICAgICAgIGZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoZm9jdXNPbk1vdW50LCBbZm9jdXNPbk1vdW50XSk7XG4gICAgY29uc3Qgb25WaWV3Q2FsbGJhY2sgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSBvbi52aWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbiwgeyBpbmRleDogc3RhdGUuY3VycmVudEluZGV4IH0pO1xuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChvblZpZXdDYWxsYmFjaywgW3N0YXRlLmdsb2JhbEluZGV4LCBvblZpZXdDYWxsYmFja10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiBjbGVhbnVwKHN1YnNjcmliZShBQ1RJT05fUFJFViwgKGFjdGlvbikgPT4gc3dpcGUoeyBkaXJlY3Rpb246IEFDVElPTl9QUkVWLCAuLi5hY3Rpb24gfSkpLCBzdWJzY3JpYmUoQUNUSU9OX05FWFQsIChhY3Rpb24pID0+IHN3aXBlKHsgZGlyZWN0aW9uOiBBQ1RJT05fTkVYVCwgLi4uYWN0aW9uIH0pKSwgc3Vic2NyaWJlKEFDVElPTl9TV0lQRSwgKGFjdGlvbikgPT4gZGlzcGF0Y2goYWN0aW9uKSkpLCBbc3Vic2NyaWJlLCBzd2lwZSwgZGlzcGF0Y2hdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiAoe1xuICAgICAgICBwcmV2LFxuICAgICAgICBuZXh0LFxuICAgICAgICBjbG9zZSxcbiAgICAgICAgZm9jdXMsXG4gICAgICAgIHNsaWRlUmVjdDogY29udGFpbmVyUmVjdCA/IGNvbXB1dGVTbGlkZVJlY3QoY29udGFpbmVyUmVjdCwgY2Fyb3VzZWwucGFkZGluZykgOiB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSxcbiAgICAgICAgY29udGFpbmVyUmVjdDogY29udGFpbmVyUmVjdCB8fCB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfSxcbiAgICAgICAgc3Vic2NyaWJlU2Vuc29ycyxcbiAgICAgICAgY29udGFpbmVyUmVmLFxuICAgICAgICBzZXRDYXJvdXNlbFJlZixcbiAgICAgICAgdG9vbGJhcldpZHRoLFxuICAgICAgICBzZXRUb29sYmFyV2lkdGgsXG4gICAgfSksIFtcbiAgICAgICAgcHJldixcbiAgICAgICAgbmV4dCxcbiAgICAgICAgY2xvc2UsXG4gICAgICAgIGZvY3VzLFxuICAgICAgICBzdWJzY3JpYmVTZW5zb3JzLFxuICAgICAgICBjb250YWluZXJSZWN0LFxuICAgICAgICBjb250YWluZXJSZWYsXG4gICAgICAgIHNldENhcm91c2VsUmVmLFxuICAgICAgICB0b29sYmFyV2lkdGgsXG4gICAgICAgIHNldFRvb2xiYXJXaWR0aCxcbiAgICAgICAgY2Fyb3VzZWwucGFkZGluZyxcbiAgICBdKTtcbiAgICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKGNvbnRyb2xsZXIucmVmLCAoKSA9PiAoe1xuICAgICAgICBwcmV2LFxuICAgICAgICBuZXh0LFxuICAgICAgICBjbG9zZSxcbiAgICAgICAgZm9jdXMsXG4gICAgICAgIGdldExpZ2h0Ym94UHJvcHMsXG4gICAgICAgIGdldExpZ2h0Ym94U3RhdGUsXG4gICAgfSksIFtwcmV2LCBuZXh0LCBjbG9zZSwgZm9jdXMsIGdldExpZ2h0Ym94UHJvcHMsIGdldExpZ2h0Ym94U3RhdGVdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGhhbmRsZUNvbnRhaW5lclJlZiwgY2xhc3NOYW1lOiBjbHN4KGNzc0NsYXNzKGNzc0NvbnRhaW5lclByZWZpeCgpKSwgY3NzQ2xhc3MoQ0xBU1NfRkxFWF9DRU5URVIpKSwgc3R5bGU6IHtcbiAgICAgICAgICAgIC4uLihzd2lwZVN0YXRlID09PSBTd2lwZVN0YXRlLlNXSVBFXG4gICAgICAgICAgICAgICAgPyB7IFtjc3NWYXIoXCJzd2lwZV9vZmZzZXRcIildOiBgJHtNYXRoLnJvdW5kKHN3aXBlT2Zmc2V0LmN1cnJlbnQpfXB4YCB9XG4gICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihzd2lwZVN0YXRlID09PSBTd2lwZVN0YXRlLlBVTExcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgW2Nzc1ZhcihcInB1bGxfb2Zmc2V0XCIpXTogYCR7TWF0aC5yb3VuZChwdWxsT2Zmc2V0LmN1cnJlbnQpfXB4YCxcbiAgICAgICAgICAgICAgICAgICAgW2Nzc1ZhcihcInB1bGxfb3BhY2l0eVwiKV06IGAke3B1bGxPcGFjaXR5LmN1cnJlbnR9YCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihjb250cm9sbGVyLnRvdWNoQWN0aW9uICE9PSBcIm5vbmVcIiA/IHsgW2Nzc1ZhcihcImNvbnRyb2xsZXJfdG91Y2hfYWN0aW9uXCIpXTogY29udHJvbGxlci50b3VjaEFjdGlvbiB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi5zdHlsZXMuY29udGFpbmVyLFxuICAgICAgICB9LCAuLi4oY29udHJvbGxlci5hcmlhID8geyByb2xlOiBcInByZXNlbnRhdGlvblwiLCBcImFyaWEtbGl2ZVwiOiBcInBvbGl0ZVwiIH0gOiBudWxsKSwgdGFiSW5kZXg6IC0xLCAuLi5yZWdpc3RlclNlbnNvcnMgfSwgY29udGFpbmVyUmVjdCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChDb250cm9sbGVyQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LFxuICAgICAgICBjaGlsZHJlbiwgKF9hID0gcmVuZGVyLmNvbnRyb2xzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDpcbiAgICAgICAgX2EuY2FsbChyZW5kZXIpKSkpKTtcbn1cbmNvbnN0IENvbnRyb2xsZXJNb2R1bGUgPSBjcmVhdGVNb2R1bGUoTU9EVUxFX0NPTlRST0xMRVIsIENvbnRyb2xsZXIpO1xuXG5mdW5jdGlvbiBjc3NQcmVmaXgkMih2YWx1ZSkge1xuICAgIHJldHVybiBjb21wb3NlUHJlZml4KE1PRFVMRV9DQVJPVVNFTCwgdmFsdWUpO1xufVxuZnVuY3Rpb24gY3NzU2xpZGVQcmVmaXgodmFsdWUpIHtcbiAgICByZXR1cm4gY29tcG9zZVByZWZpeChcInNsaWRlXCIsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIENhcm91c2VsU2xpZGUoeyBzbGlkZSwgb2Zmc2V0IH0pIHtcbiAgICBjb25zdCBjb250YWluZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyBjdXJyZW50SW5kZXggfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCB7IHNsaWRlUmVjdCwgY2xvc2UgfSA9IHVzZUNvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB7IHJlbmRlciwgY2Fyb3VzZWw6IHsgaW1hZ2VGaXQsIGltYWdlUHJvcHMgfSwgb246IHsgY2xpY2s6IG9uQ2xpY2sgfSwgY29udHJvbGxlcjogeyBjbG9zZU9uQmFja2Ryb3BDbGljayB9LCBzdHlsZXM6IHsgc2xpZGU6IHN0eWxlIH0sIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3QgcmVuZGVyU2xpZGUgPSAoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgbGV0IHJlbmRlcmVkID0gKF9hID0gcmVuZGVyLnNsaWRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChyZW5kZXIsIHsgc2xpZGUsIG9mZnNldCwgcmVjdDogc2xpZGVSZWN0IH0pO1xuICAgICAgICBpZiAoIXJlbmRlcmVkICYmIGlzSW1hZ2VTbGlkZShzbGlkZSkpIHtcbiAgICAgICAgICAgIHJlbmRlcmVkID0gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoSW1hZ2VTbGlkZSwgeyBzbGlkZTogc2xpZGUsIG9mZnNldDogb2Zmc2V0LCByZW5kZXI6IHJlbmRlciwgcmVjdDogc2xpZGVSZWN0LCBpbWFnZUZpdDogaW1hZ2VGaXQsIGltYWdlUHJvcHM6IGltYWdlUHJvcHMsIG9uQ2xpY2s6IG9mZnNldCA9PT0gMCA/ICgpID0+IG9uQ2xpY2sgPT09IG51bGwgfHwgb25DbGljayA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25DbGljayh7IGluZGV4OiBjdXJyZW50SW5kZXggfSkgOiB1bmRlZmluZWQgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW5kZXJlZCA/IChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAoX2IgPSByZW5kZXIuc2xpZGVIZWFkZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOlxuICAgICAgICAgICAgX2IuY2FsbChyZW5kZXIsIHsgc2xpZGUgfSksXG4gICAgICAgICAgICAoKF9jID0gcmVuZGVyLnNsaWRlQ29udGFpbmVyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAoKHsgY2hpbGRyZW4gfSkgPT4gY2hpbGRyZW4pKSh7IHNsaWRlLCBjaGlsZHJlbjogcmVuZGVyZWQgfSksIChfZCA9IHJlbmRlci5zbGlkZUZvb3RlcikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6XG4gICAgICAgICAgICBfZC5jYWxsKHJlbmRlciwgeyBzbGlkZSB9KSkpIDogbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZUJhY2tkcm9wQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gZXZlbnQudGFyZ2V0IDogdW5kZWZpbmVkO1xuICAgICAgICBpZiAoY2xvc2VPbkJhY2tkcm9wQ2xpY2sgJiZcbiAgICAgICAgICAgIHRhcmdldCAmJlxuICAgICAgICAgICAgY29udGFpbmVyICYmXG4gICAgICAgICAgICAodGFyZ2V0ID09PSBjb250YWluZXIgfHxcbiAgICAgICAgICAgICAgICAoQXJyYXkuZnJvbShjb250YWluZXIuY2hpbGRyZW4pLmZpbmQoKHgpID0+IHggPT09IHRhcmdldCkgJiZcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhjc3NDbGFzcyhDTEFTU19TTElERV9XUkFQUEVSKSkpKSkge1xuICAgICAgICAgICAgY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBjb250YWluZXJSZWYsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhjc3NTbGlkZVByZWZpeCgpKSwgb2Zmc2V0ID09PSAwICYmIGNzc0NsYXNzKGNzc1NsaWRlUHJlZml4KFwiY3VycmVudFwiKSksIGNzc0NsYXNzKENMQVNTX0ZMRVhfQ0VOVEVSKSksIG9uQ2xpY2s6IGhhbmRsZUJhY2tkcm9wQ2xpY2ssIHN0eWxlOiBzdHlsZSB9LCByZW5kZXJTbGlkZSgpKSk7XG59XG5mdW5jdGlvbiBQbGFjZWhvbGRlcigpIHtcbiAgICBjb25zdCBzdHlsZSA9IHVzZUxpZ2h0Ym94UHJvcHMoKS5zdHlsZXMuc2xpZGU7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNzc0NsYXNzKFwic2xpZGVcIiksIHN0eWxlOiBzdHlsZSB9KTtcbn1cbmZ1bmN0aW9uIENhcm91c2VsKHsgY2Fyb3VzZWwgfSkge1xuICAgIGNvbnN0IHsgc2xpZGVzLCBjdXJyZW50SW5kZXgsIGdsb2JhbEluZGV4IH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgeyBzZXRDYXJvdXNlbFJlZiB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IHNwYWNpbmdWYWx1ZSA9IHBhcnNlTGVuZ3RoUGVyY2VudGFnZShjYXJvdXNlbC5zcGFjaW5nKTtcbiAgICBjb25zdCBwYWRkaW5nVmFsdWUgPSBwYXJzZUxlbmd0aFBlcmNlbnRhZ2UoY2Fyb3VzZWwucGFkZGluZyk7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICBjb25zdCBwcmVsb2FkID0gY2FsY3VsYXRlUHJlbG9hZChjYXJvdXNlbCwgc2xpZGVzLCAxKTtcbiAgICBpZiAoaGFzU2xpZGVzKHNsaWRlcykpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGN1cnJlbnRJbmRleCAtIHByZWxvYWQ7IGkgPCBjdXJyZW50SW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZ2xvYmFsSW5kZXggKyBpIC0gY3VycmVudEluZGV4O1xuICAgICAgICAgICAgaXRlbXMucHVzaCghY2Fyb3VzZWwuZmluaXRlIHx8IGkgPj0gMCA/IChSZWFjdC5jcmVhdGVFbGVtZW50KENhcm91c2VsU2xpZGUsIHsga2V5OiBrZXksIHNsaWRlOiBzbGlkZXNbKGkgKyBwcmVsb2FkICogc2xpZGVzLmxlbmd0aCkgJSBzbGlkZXMubGVuZ3RoXSwgb2Zmc2V0OiBpIC0gY3VycmVudEluZGV4IH0pKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KFBsYWNlaG9sZGVyLCB7IGtleToga2V5IH0pKSk7XG4gICAgICAgIH1cbiAgICAgICAgaXRlbXMucHVzaChSZWFjdC5jcmVhdGVFbGVtZW50KENhcm91c2VsU2xpZGUsIHsga2V5OiBnbG9iYWxJbmRleCwgc2xpZGU6IHNsaWRlc1tjdXJyZW50SW5kZXhdLCBvZmZzZXQ6IDAgfSkpO1xuICAgICAgICBmb3IgKGxldCBpID0gY3VycmVudEluZGV4ICsgMTsgaSA8PSBjdXJyZW50SW5kZXggKyBwcmVsb2FkOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGdsb2JhbEluZGV4ICsgaSAtIGN1cnJlbnRJbmRleDtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goIWNhcm91c2VsLmZpbml0ZSB8fCBpIDw9IHNsaWRlcy5sZW5ndGggLSAxID8gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2Fyb3VzZWxTbGlkZSwgeyBrZXk6IGtleSwgc2xpZGU6IHNsaWRlc1tpICUgc2xpZGVzLmxlbmd0aF0sIG9mZnNldDogaSAtIGN1cnJlbnRJbmRleCB9KSkgOiAoUmVhY3QuY3JlYXRlRWxlbWVudChQbGFjZWhvbGRlciwgeyBrZXk6IGtleSB9KSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogc2V0Q2Fyb3VzZWxSZWYsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhjc3NQcmVmaXgkMigpKSwgaXRlbXMubGVuZ3RoID4gMCAmJiBjc3NDbGFzcyhjc3NQcmVmaXgkMihcIndpdGhfc2xpZGVzXCIpKSksIHN0eWxlOiB7XG4gICAgICAgICAgICBbYCR7Y3NzVmFyKGNzc1ByZWZpeCQyKFwic2xpZGVzX2NvdW50XCIpKX1gXTogaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgW2Ake2Nzc1Zhcihjc3NQcmVmaXgkMihcInNwYWNpbmdfcHhcIikpfWBdOiBzcGFjaW5nVmFsdWUucGl4ZWwgfHwgMCxcbiAgICAgICAgICAgIFtgJHtjc3NWYXIoY3NzUHJlZml4JDIoXCJzcGFjaW5nX3BlcmNlbnRcIikpfWBdOiBzcGFjaW5nVmFsdWUucGVyY2VudCB8fCAwLFxuICAgICAgICAgICAgW2Ake2Nzc1Zhcihjc3NQcmVmaXgkMihcInBhZGRpbmdfcHhcIikpfWBdOiBwYWRkaW5nVmFsdWUucGl4ZWwgfHwgMCxcbiAgICAgICAgICAgIFtgJHtjc3NWYXIoY3NzUHJlZml4JDIoXCJwYWRkaW5nX3BlcmNlbnRcIikpfWBdOiBwYWRkaW5nVmFsdWUucGVyY2VudCB8fCAwLFxuICAgICAgICB9IH0sIGl0ZW1zKSk7XG59XG5jb25zdCBDYXJvdXNlbE1vZHVsZSA9IGNyZWF0ZU1vZHVsZShNT0RVTEVfQ0FST1VTRUwsIENhcm91c2VsKTtcblxuZnVuY3Rpb24gdXNlTmF2aWdhdGlvblN0YXRlKCkge1xuICAgIGNvbnN0IHsgY2Fyb3VzZWwgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCB7IHNsaWRlcywgY3VycmVudEluZGV4IH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgcHJldkRpc2FibGVkID0gc2xpZGVzLmxlbmd0aCA9PT0gMCB8fCAoY2Fyb3VzZWwuZmluaXRlICYmIGN1cnJlbnRJbmRleCA9PT0gMCk7XG4gICAgY29uc3QgbmV4dERpc2FibGVkID0gc2xpZGVzLmxlbmd0aCA9PT0gMCB8fCAoY2Fyb3VzZWwuZmluaXRlICYmIGN1cnJlbnRJbmRleCA9PT0gc2xpZGVzLmxlbmd0aCAtIDEpO1xuICAgIHJldHVybiB7IHByZXZEaXNhYmxlZCwgbmV4dERpc2FibGVkIH07XG59XG5cbmZ1bmN0aW9uIHVzZUtleWJvYXJkTmF2aWdhdGlvbihzdWJzY3JpYmVTZW5zb3JzKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGlzUlRMID0gdXNlUlRMKCk7XG4gICAgY29uc3QgeyBwdWJsaXNoIH0gPSB1c2VFdmVudHMoKTtcbiAgICBjb25zdCB7IGFuaW1hdGlvbiB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHsgcHJldkRpc2FibGVkLCBuZXh0RGlzYWJsZWQgfSA9IHVzZU5hdmlnYXRpb25TdGF0ZSgpO1xuICAgIGNvbnN0IHRocm90dGxlID0gKChfYSA9IGFuaW1hdGlvbi5uYXZpZ2F0aW9uKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBhbmltYXRpb24uc3dpcGUpIC8gMjtcbiAgICBjb25zdCBwcmV2ID0gdXNlVGhyb3R0bGUoKCkgPT4gcHVibGlzaChBQ1RJT05fUFJFViksIHRocm90dGxlKTtcbiAgICBjb25zdCBuZXh0ID0gdXNlVGhyb3R0bGUoKCkgPT4gcHVibGlzaChBQ1RJT05fTkVYVCksIHRocm90dGxlKTtcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgc3dpdGNoIChldmVudC5rZXkpIHtcbiAgICAgICAgICAgIGNhc2UgVktfRVNDQVBFOlxuICAgICAgICAgICAgICAgIHB1Ymxpc2goQUNUSU9OX0NMT1NFKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVktfQVJST1dfTEVGVDpcbiAgICAgICAgICAgICAgICBpZiAoIShpc1JUTCA/IG5leHREaXNhYmxlZCA6IHByZXZEaXNhYmxlZCkpXG4gICAgICAgICAgICAgICAgICAgIChpc1JUTCA/IG5leHQgOiBwcmV2KSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBWS19BUlJPV19SSUdIVDpcbiAgICAgICAgICAgICAgICBpZiAoIShpc1JUTCA/IHByZXZEaXNhYmxlZCA6IG5leHREaXNhYmxlZCkpXG4gICAgICAgICAgICAgICAgICAgIChpc1JUTCA/IHByZXYgOiBuZXh0KSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiBzdWJzY3JpYmVTZW5zb3JzKEVWRU5UX09OX0tFWV9ET1dOLCBoYW5kbGVLZXlEb3duKSwgW3N1YnNjcmliZVNlbnNvcnMsIGhhbmRsZUtleURvd25dKTtcbn1cblxuZnVuY3Rpb24gTmF2aWdhdGlvbkJ1dHRvbih7IGxhYmVsLCBpY29uLCByZW5kZXJJY29uLCBhY3Rpb24sIG9uQ2xpY2ssIGRpc2FibGVkLCBzdHlsZSB9KSB7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgbGFiZWw6IGxhYmVsLCBpY29uOiBpY29uLCByZW5kZXJJY29uOiByZW5kZXJJY29uLCBjbGFzc05hbWU6IGNzc0NsYXNzKGBuYXZpZ2F0aW9uXyR7YWN0aW9ufWApLCBkaXNhYmxlZDogZGlzYWJsZWQsIG9uQ2xpY2s6IG9uQ2xpY2ssIHN0eWxlOiBzdHlsZSwgLi4udXNlTG9zZUZvY3VzKHVzZUNvbnRyb2xsZXIoKS5mb2N1cywgZGlzYWJsZWQpIH0pKTtcbn1cbmZ1bmN0aW9uIE5hdmlnYXRpb24oeyByZW5kZXI6IHsgYnV0dG9uUHJldiwgYnV0dG9uTmV4dCwgaWNvblByZXYsIGljb25OZXh0IH0sIHN0eWxlcyB9KSB7XG4gICAgY29uc3QgeyBwcmV2LCBuZXh0LCBzdWJzY3JpYmVTZW5zb3JzIH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgeyBwcmV2RGlzYWJsZWQsIG5leHREaXNhYmxlZCB9ID0gdXNlTmF2aWdhdGlvblN0YXRlKCk7XG4gICAgdXNlS2V5Ym9hcmROYXZpZ2F0aW9uKHN1YnNjcmliZVNlbnNvcnMpO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgYnV0dG9uUHJldiA/IChidXR0b25QcmV2KCkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2aWdhdGlvbkJ1dHRvbiwgeyBsYWJlbDogXCJQcmV2aW91c1wiLCBhY3Rpb246IEFDVElPTl9QUkVWLCBpY29uOiBQcmV2aW91c0ljb24sIHJlbmRlckljb246IGljb25QcmV2LCBzdHlsZTogc3R5bGVzLm5hdmlnYXRpb25QcmV2LCBkaXNhYmxlZDogcHJldkRpc2FibGVkLCBvbkNsaWNrOiBwcmV2IH0pKSxcbiAgICAgICAgYnV0dG9uTmV4dCA/IChidXR0b25OZXh0KCkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTmF2aWdhdGlvbkJ1dHRvbiwgeyBsYWJlbDogXCJOZXh0XCIsIGFjdGlvbjogQUNUSU9OX05FWFQsIGljb246IE5leHRJY29uLCByZW5kZXJJY29uOiBpY29uTmV4dCwgc3R5bGU6IHN0eWxlcy5uYXZpZ2F0aW9uTmV4dCwgZGlzYWJsZWQ6IG5leHREaXNhYmxlZCwgb25DbGljazogbmV4dCB9KSkpKTtcbn1cbmNvbnN0IE5hdmlnYXRpb25Nb2R1bGUgPSBjcmVhdGVNb2R1bGUoTU9EVUxFX05BVklHQVRJT04sIE5hdmlnYXRpb24pO1xuXG5jb25zdCBub1Njcm9sbCA9IGNzc0NsYXNzKENMQVNTX05PX1NDUk9MTCk7XG5jb25zdCBub1Njcm9sbFBhZGRpbmcgPSBjc3NDbGFzcyhDTEFTU19OT19TQ1JPTExfUEFERElORyk7XG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gXCJzdHlsZVwiIGluIGVsZW1lbnQ7XG59XG5mdW5jdGlvbiBwYWRTY3JvbGxiYXIoZWxlbWVudCwgcGFkZGluZywgcnRsKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3QgcHJvcGVydHkgPSBydGwgPyBcInBhZGRpbmctbGVmdFwiIDogXCJwYWRkaW5nLXJpZ2h0XCI7XG4gICAgY29uc3QgY29tcHV0ZWRWYWx1ZSA9IHJ0bCA/IHN0eWxlcy5wYWRkaW5nTGVmdCA6IHN0eWxlcy5wYWRkaW5nUmlnaHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxWYWx1ZSA9IGVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSk7XG4gICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgYCR7KHBhcnNlSW50KGNvbXB1dGVkVmFsdWUpIHx8IDApICsgcGFkZGluZ31weGApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChvcmlnaW5hbFZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCBvcmlnaW5hbFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIE5vU2Nyb2xsKHsgbm9TY3JvbGw6IHsgZGlzYWJsZWQgfSwgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IHJ0bCA9IHVzZVJUTCgpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChkaXNhYmxlZClcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBbXTtcbiAgICAgICAgY29uc3QgeyBib2R5LCBkb2N1bWVudEVsZW1lbnQgfSA9IGRvY3VtZW50O1xuICAgICAgICBjb25zdCBzY3JvbGxiYXIgPSBNYXRoLnJvdW5kKHdpbmRvdy5pbm5lcldpZHRoIC0gZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKTtcbiAgICAgICAgaWYgKHNjcm9sbGJhciA+IDApIHtcbiAgICAgICAgICAgIGNsZWFudXAucHVzaChwYWRTY3JvbGxiYXIoYm9keSwgc2Nyb2xsYmFyLCBydGwpKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIik7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChpc0hUTUxFbGVtZW50KGVsZW1lbnQpICYmXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoXCJwb3NpdGlvblwiKSA9PT0gXCJmaXhlZFwiICYmXG4gICAgICAgICAgICAgICAgICAgICFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhub1Njcm9sbFBhZGRpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXAucHVzaChwYWRTY3JvbGxiYXIoZWxlbWVudCwgc2Nyb2xsYmFyLCBydGwpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKG5vU2Nyb2xsKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGJvZHkuY2xhc3NMaXN0LnJlbW92ZShub1Njcm9sbCk7XG4gICAgICAgICAgICBjbGVhbnVwLmZvckVhY2goKGNsZWFuKSA9PiBjbGVhbigpKTtcbiAgICAgICAgfTtcbiAgICB9LCBbcnRsLCBkaXNhYmxlZF0pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBjaGlsZHJlbik7XG59XG5jb25zdCBOb1Njcm9sbE1vZHVsZSA9IGNyZWF0ZU1vZHVsZShNT0RVTEVfTk9fU0NST0xMLCBOb1Njcm9sbCk7XG5cbmZ1bmN0aW9uIGNzc1ByZWZpeCQxKHZhbHVlKSB7XG4gICAgcmV0dXJuIGNvbXBvc2VQcmVmaXgoTU9EVUxFX1BPUlRBTCwgdmFsdWUpO1xufVxuZnVuY3Rpb24gc2V0QXR0cmlidXRlKGVsZW1lbnQsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBjb25zdCBwcmV2aW91c1ZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAocHJldmlvdXNWYWx1ZSkge1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCBwcmV2aW91c1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gUG9ydGFsKHsgY2hpbGRyZW4sIGFuaW1hdGlvbiwgc3R5bGVzLCBjbGFzc05hbWUsIG9uLCBwb3J0YWwsIGNsb3NlIH0pIHtcbiAgICBjb25zdCBbbW91bnRlZCwgc2V0TW91bnRlZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3Zpc2libGUsIHNldFZpc2libGVdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGNsZWFudXAgPSBSZWFjdC51c2VSZWYoW10pO1xuICAgIGNvbnN0IHJlc3RvcmVGb2N1cyA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IHNldFRpbWVvdXQgfSA9IHVzZVRpbWVvdXRzKCk7XG4gICAgY29uc3QgeyBzdWJzY3JpYmUgfSA9IHVzZUV2ZW50cygpO1xuICAgIGNvbnN0IHJlZHVjZU1vdGlvbiA9IHVzZU1vdGlvblByZWZlcmVuY2UoKTtcbiAgICBjb25zdCBhbmltYXRpb25EdXJhdGlvbiA9ICFyZWR1Y2VNb3Rpb24gPyBhbmltYXRpb24uZmFkZSA6IDA7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0TW91bnRlZCh0cnVlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHNldE1vdW50ZWQoZmFsc2UpO1xuICAgICAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGhhbmRsZUNsZWFudXAgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY2xlYW51cC5jdXJyZW50LmZvckVhY2goKGNsZWFuKSA9PiBjbGVhbigpKTtcbiAgICAgICAgY2xlYW51cC5jdXJyZW50ID0gW107XG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlQ2xvc2UgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgaGFuZGxlQ2xlYW51cCgpO1xuICAgICAgICAoX2EgPSBvbi5leGl0aW5nKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gb24uZXhpdGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbik7XG4gICAgICAgICAgICBjbG9zZSgpO1xuICAgICAgICB9LCBhbmltYXRpb25EdXJhdGlvbik7XG4gICAgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHN1YnNjcmliZShBQ1RJT05fQ0xPU0UsIGhhbmRsZUNsb3NlKSwgW3N1YnNjcmliZSwgaGFuZGxlQ2xvc2VdKTtcbiAgICBjb25zdCBoYW5kbGVFbnRlciA9IHVzZUV2ZW50Q2FsbGJhY2soKG5vZGUpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIG5vZGUuc2Nyb2xsVG9wO1xuICAgICAgICBzZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAoX2EgPSBvbi5lbnRlcmluZykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwob24pO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IChfYyA9IChfYiA9IG5vZGUucGFyZW50Tm9kZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNoaWxkcmVuKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKFtcIlRFTVBMQVRFXCIsIFwiU0NSSVBUXCIsIFwiU1RZTEVcIl0uaW5kZXhPZihlbGVtZW50LnRhZ05hbWUpID09PSAtMSAmJiBlbGVtZW50ICE9PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cC5jdXJyZW50LnB1c2goc2V0QXR0cmlidXRlKGVsZW1lbnQsIFwiaW5lcnRcIiwgXCJ0cnVlXCIpKTtcbiAgICAgICAgICAgICAgICBjbGVhbnVwLmN1cnJlbnQucHVzaChzZXRBdHRyaWJ1dGUoZWxlbWVudCwgXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsZWFudXAuY3VycmVudC5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSByZXN0b3JlRm9jdXMuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIChfYSA9IG9uLmVudGVyZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTtcbiAgICAgICAgfSwgYW5pbWF0aW9uRHVyYXRpb24pO1xuICAgIH0pO1xuICAgIGNvbnN0IGhhbmRsZVJlZiA9IFJlYWN0LnVzZUNhbGxiYWNrKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICBoYW5kbGVFbnRlcihub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZUNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgIH0sIFtoYW5kbGVFbnRlciwgaGFuZGxlQ2xlYW51cF0pO1xuICAgIHJldHVybiBtb3VudGVkXG4gICAgICAgID8gY3JlYXRlUG9ydGFsKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IGhhbmRsZVJlZiwgY2xhc3NOYW1lOiBjbHN4KGNsYXNzTmFtZSwgY3NzQ2xhc3MoXCJyb290XCIpLCBjc3NDbGFzcyhjc3NQcmVmaXgkMSgpKSwgY3NzQ2xhc3MoQ0xBU1NfTk9fU0NST0xMX1BBRERJTkcpLCB2aXNpYmxlICYmIGNzc0NsYXNzKGNzc1ByZWZpeCQxKFwib3BlblwiKSkpLCByb2xlOiBcInByZXNlbnRhdGlvblwiLCBcImFyaWEtbGl2ZVwiOiBcInBvbGl0ZVwiLCBzdHlsZToge1xuICAgICAgICAgICAgICAgIC4uLihhbmltYXRpb24uZmFkZSAhPT0gTGlnaHRib3hEZWZhdWx0UHJvcHMuYW5pbWF0aW9uLmZhZGVcbiAgICAgICAgICAgICAgICAgICAgPyB7IFtjc3NWYXIoXCJmYWRlX2FuaW1hdGlvbl9kdXJhdGlvblwiKV06IGAke2FuaW1hdGlvbkR1cmF0aW9ufW1zYCB9XG4gICAgICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAgICAgLi4uKGFuaW1hdGlvbi5lYXNpbmcuZmFkZSAhPT0gTGlnaHRib3hEZWZhdWx0UHJvcHMuYW5pbWF0aW9uLmVhc2luZy5mYWRlXG4gICAgICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKFwiZmFkZV9hbmltYXRpb25fdGltaW5nX2Z1bmN0aW9uXCIpXTogYW5pbWF0aW9uLmVhc2luZy5mYWRlIH1cbiAgICAgICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZXMucm9vdCxcbiAgICAgICAgICAgIH0sIG9uRm9jdXM6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzdG9yZUZvY3VzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdG9yZUZvY3VzLmN1cnJlbnQgPSBldmVudC5yZWxhdGVkVGFyZ2V0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gfSwgY2hpbGRyZW4pLCBwb3J0YWwucm9vdCB8fCBkb2N1bWVudC5ib2R5KVxuICAgICAgICA6IG51bGw7XG59XG5jb25zdCBQb3J0YWxNb2R1bGUgPSBjcmVhdGVNb2R1bGUoTU9EVUxFX1BPUlRBTCwgUG9ydGFsKTtcblxuZnVuY3Rpb24gUm9vdCh7IGNoaWxkcmVuIH0pIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgY2hpbGRyZW4pO1xufVxuY29uc3QgUm9vdE1vZHVsZSA9IGNyZWF0ZU1vZHVsZShNT0RVTEVfUk9PVCwgUm9vdCk7XG5cbmZ1bmN0aW9uIGNzc1ByZWZpeCh2YWx1ZSkge1xuICAgIHJldHVybiBjb21wb3NlUHJlZml4KE1PRFVMRV9UT09MQkFSLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBUb29sYmFyKHsgdG9vbGJhcjogeyBidXR0b25zIH0sIHJlbmRlcjogeyBidXR0b25DbG9zZSwgaWNvbkNsb3NlIH0sIHN0eWxlcyB9KSB7XG4gICAgY29uc3QgeyBjbG9zZSwgc2V0VG9vbGJhcldpZHRoIH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgeyBzZXRDb250YWluZXJSZWYsIGNvbnRhaW5lclJlY3QgfSA9IHVzZUNvbnRhaW5lclJlY3QoKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBzZXRUb29sYmFyV2lkdGgoY29udGFpbmVyUmVjdCA9PT0gbnVsbCB8fCBjb250YWluZXJSZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb250YWluZXJSZWN0LndpZHRoKTtcbiAgICB9LCBbc2V0VG9vbGJhcldpZHRoLCBjb250YWluZXJSZWN0ID09PSBudWxsIHx8IGNvbnRhaW5lclJlY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRhaW5lclJlY3Qud2lkdGhdKTtcbiAgICBjb25zdCByZW5kZXJDbG9zZUJ1dHRvbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKGJ1dHRvbkNsb3NlKVxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbkNsb3NlKCk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsga2V5OiBBQ1RJT05fQ0xPU0UsIGxhYmVsOiBcIkNsb3NlXCIsIGljb246IENsb3NlSWNvbiwgcmVuZGVySWNvbjogaWNvbkNsb3NlLCBvbkNsaWNrOiBjbG9zZSB9KTtcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogc2V0Q29udGFpbmVyUmVmLCBzdHlsZTogc3R5bGVzLnRvb2xiYXIsIGNsYXNzTmFtZTogY3NzQ2xhc3MoY3NzUHJlZml4KCkpIH0sIGJ1dHRvbnMgPT09IG51bGwgfHwgYnV0dG9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogYnV0dG9ucy5tYXAoKGJ1dHRvbikgPT4gKGJ1dHRvbiA9PT0gQUNUSU9OX0NMT1NFID8gcmVuZGVyQ2xvc2VCdXR0b24oKSA6IGJ1dHRvbikpKSk7XG59XG5jb25zdCBUb29sYmFyTW9kdWxlID0gY3JlYXRlTW9kdWxlKE1PRFVMRV9UT09MQkFSLCBUb29sYmFyKTtcblxuZnVuY3Rpb24gcmVuZGVyTm9kZShub2RlLCBwcm9wcykge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChub2RlLm1vZHVsZS5jb21wb25lbnQsIHsga2V5OiBub2RlLm1vZHVsZS5uYW1lLCAuLi5wcm9wcyB9LCAoX2EgPSBub2RlLmNoaWxkcmVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWFwKChjaGlsZCkgPT4gcmVuZGVyTm9kZShjaGlsZCwgcHJvcHMpKSk7XG59XG5mdW5jdGlvbiBtZXJnZUFuaW1hdGlvbihkZWZhdWx0QW5pbWF0aW9uLCBhbmltYXRpb24gPSB7fSkge1xuICAgIGNvbnN0IHsgZWFzaW5nOiBkZWZhdWx0QW5pbWF0aW9uRWFzaW5nLCAuLi5yZXN0RGVmYXVsdEFuaW1hdGlvbiB9ID0gZGVmYXVsdEFuaW1hdGlvbjtcbiAgICBjb25zdCB7IGVhc2luZywgLi4ucmVzdEFuaW1hdGlvbiB9ID0gYW5pbWF0aW9uO1xuICAgIHJldHVybiB7XG4gICAgICAgIGVhc2luZzogeyAuLi5kZWZhdWx0QW5pbWF0aW9uRWFzaW5nLCAuLi5lYXNpbmcgfSxcbiAgICAgICAgLi4ucmVzdERlZmF1bHRBbmltYXRpb24sXG4gICAgICAgIC4uLnJlc3RBbmltYXRpb24sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIExpZ2h0Ym94KHsgY2Fyb3VzZWwsIGFuaW1hdGlvbiwgcmVuZGVyLCB0b29sYmFyLCBjb250cm9sbGVyLCBub1Njcm9sbCwgb24sIHBsdWdpbnMsIHNsaWRlcywgaW5kZXgsIC4uLnJlc3RQcm9wcyB9KSB7XG4gICAgY29uc3QgeyBhbmltYXRpb246IGRlZmF1bHRBbmltYXRpb24sIGNhcm91c2VsOiBkZWZhdWx0Q2Fyb3VzZWwsIHJlbmRlcjogZGVmYXVsdFJlbmRlciwgdG9vbGJhcjogZGVmYXVsdFRvb2xiYXIsIGNvbnRyb2xsZXI6IGRlZmF1bHRDb250cm9sbGVyLCBub1Njcm9sbDogZGVmYXVsdE5vU2Nyb2xsLCBvbjogZGVmYXVsdE9uLCBzbGlkZXM6IGRlZmF1bHRTbGlkZXMsIGluZGV4OiBkZWZhdWx0SW5kZXgsIHBsdWdpbnM6IGRlZmF1bHRQbHVnaW5zLCAuLi5yZXN0RGVmYXVsdFByb3BzIH0gPSBMaWdodGJveERlZmF1bHRQcm9wcztcbiAgICBjb25zdCB7IGNvbmZpZywgYXVnbWVudGF0aW9uIH0gPSB3aXRoUGx1Z2lucyhbXG4gICAgICAgIGNyZWF0ZU5vZGUoUG9ydGFsTW9kdWxlLCBbXG4gICAgICAgICAgICBjcmVhdGVOb2RlKE5vU2Nyb2xsTW9kdWxlLCBbXG4gICAgICAgICAgICAgICAgY3JlYXRlTm9kZShDb250cm9sbGVyTW9kdWxlLCBbXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZU5vZGUoQ2Fyb3VzZWxNb2R1bGUpLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVOb2RlKFRvb2xiYXJNb2R1bGUpLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVOb2RlKE5hdmlnYXRpb25Nb2R1bGUpLFxuICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgXSksXG4gICAgICAgIF0pLFxuICAgIF0sIHBsdWdpbnMgfHwgZGVmYXVsdFBsdWdpbnMpO1xuICAgIGNvbnN0IHByb3BzID0gYXVnbWVudGF0aW9uKHtcbiAgICAgICAgYW5pbWF0aW9uOiBtZXJnZUFuaW1hdGlvbihkZWZhdWx0QW5pbWF0aW9uLCBhbmltYXRpb24pLFxuICAgICAgICBjYXJvdXNlbDogeyAuLi5kZWZhdWx0Q2Fyb3VzZWwsIC4uLmNhcm91c2VsIH0sXG4gICAgICAgIHJlbmRlcjogeyAuLi5kZWZhdWx0UmVuZGVyLCAuLi5yZW5kZXIgfSxcbiAgICAgICAgdG9vbGJhcjogeyAuLi5kZWZhdWx0VG9vbGJhciwgLi4udG9vbGJhciB9LFxuICAgICAgICBjb250cm9sbGVyOiB7IC4uLmRlZmF1bHRDb250cm9sbGVyLCAuLi5jb250cm9sbGVyIH0sXG4gICAgICAgIG5vU2Nyb2xsOiB7IC4uLmRlZmF1bHROb1Njcm9sbCwgLi4ubm9TY3JvbGwgfSxcbiAgICAgICAgb246IHsgLi4uZGVmYXVsdE9uLCAuLi5vbiB9LFxuICAgICAgICAuLi5yZXN0RGVmYXVsdFByb3BzLFxuICAgICAgICAuLi5yZXN0UHJvcHMsXG4gICAgfSk7XG4gICAgaWYgKCFwcm9wcy5vcGVuKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlnaHRib3hQcm9wc1Byb3ZpZGVyLCB7IC4uLnByb3BzIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlnaHRib3hTdGF0ZVByb3ZpZGVyLCB7IHNsaWRlczogc2xpZGVzIHx8IGRlZmF1bHRTbGlkZXMsIGluZGV4OiBwYXJzZUludChpbmRleCB8fCBkZWZhdWx0SW5kZXgpIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRpbWVvdXRzUHJvdmlkZXIsIG51bGwsXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChFdmVudHNQcm92aWRlciwgbnVsbCwgcmVuZGVyTm9kZShjcmVhdGVOb2RlKFJvb3RNb2R1bGUsIGNvbmZpZyksIHByb3BzKSkpKSkpO1xufVxuXG5leHBvcnQgeyBBQ1RJT05fQ0xPU0UsIEFDVElPTl9ORVhULCBBQ1RJT05fUFJFViwgQUNUSU9OX1NXSVBFLCBDTEFTU19GTEVYX0NFTlRFUiwgQ0xBU1NfTk9fU0NST0xMLCBDTEFTU19OT19TQ1JPTExfUEFERElORywgQ0xBU1NfU0xJREVfV1JBUFBFUiwgQ2Fyb3VzZWwsIENhcm91c2VsTW9kdWxlLCBDbG9zZUljb24sIENvbnRyb2xsZXIsIENvbnRyb2xsZXJDb250ZXh0LCBDb250cm9sbGVyTW9kdWxlLCBFTEVNRU5UX0JVVFRPTiwgRUxFTUVOVF9JQ09OLCBFVkVOVF9PTl9LRVlfRE9XTiwgRVZFTlRfT05fS0VZX1VQLCBFVkVOVF9PTl9QT0lOVEVSX0NBTkNFTCwgRVZFTlRfT05fUE9JTlRFUl9ET1dOLCBFVkVOVF9PTl9QT0lOVEVSX0xFQVZFLCBFVkVOVF9PTl9QT0lOVEVSX01PVkUsIEVWRU5UX09OX1BPSU5URVJfVVAsIEVWRU5UX09OX1dIRUVMLCBFcnJvckljb24sIEV2ZW50c0NvbnRleHQsIEV2ZW50c1Byb3ZpZGVyLCBJTUFHRV9GSVRfQ09OVEFJTiwgSU1BR0VfRklUX0NPVkVSLCBJY29uQnV0dG9uLCBJbWFnZVNsaWRlLCBMaWdodGJveCwgTGlnaHRib3hEZWZhdWx0UHJvcHMsIExpZ2h0Ym94RGlzcGF0Y2hDb250ZXh0LCBMaWdodGJveFByb3BzQ29udGV4dCwgTGlnaHRib3hQcm9wc1Byb3ZpZGVyLCBMaWdodGJveFN0YXRlQ29udGV4dCwgTGlnaHRib3hTdGF0ZVByb3ZpZGVyLCBMb2FkaW5nSWNvbiwgTU9EVUxFX0NBUk9VU0VMLCBNT0RVTEVfQ09OVFJPTExFUiwgTU9EVUxFX05BVklHQVRJT04sIE1PRFVMRV9OT19TQ1JPTEwsIE1PRFVMRV9QT1JUQUwsIE1PRFVMRV9ST09ULCBNT0RVTEVfVE9PTEJBUiwgTmF2aWdhdGlvbiwgTmF2aWdhdGlvbkJ1dHRvbiwgTmF2aWdhdGlvbk1vZHVsZSwgTmV4dEljb24sIE5vU2Nyb2xsLCBOb1Njcm9sbE1vZHVsZSwgUG9ydGFsLCBQb3J0YWxNb2R1bGUsIFByZXZpb3VzSWNvbiwgUm9vdCwgUm9vdE1vZHVsZSwgU0xJREVfU1RBVFVTX0NPTVBMRVRFLCBTTElERV9TVEFUVVNfRVJST1IsIFNMSURFX1NUQVRVU19MT0FESU5HLCBTTElERV9TVEFUVVNfUExBQ0VIT0xERVIsIFN3aXBlU3RhdGUsIFRpbWVvdXRzQ29udGV4dCwgVGltZW91dHNQcm92aWRlciwgVG9vbGJhciwgVG9vbGJhck1vZHVsZSwgVU5LTk9XTl9BQ1RJT05fVFlQRSwgVktfQVJST1dfTEVGVCwgVktfQVJST1dfUklHSFQsIFZLX0VTQ0FQRSwgYWN0aXZlU2xpZGVTdGF0dXMsIGFkZFRvb2xiYXJCdXR0b24sIGNhbGN1bGF0ZVByZWxvYWQsIGNsZWFudXAsIGNsc3gsIGNvbXBvc2VQcmVmaXgsIGNvbXB1dGVTbGlkZVJlY3QsIGNyZWF0ZUljb24sIGNyZWF0ZUljb25EaXNhYmxlZCwgY3JlYXRlTW9kdWxlLCBjcmVhdGVOb2RlLCBjc3NDbGFzcywgY3NzVmFyLCBMaWdodGJveCBhcyBkZWZhdWx0LCBkZXZpY2VQaXhlbFJhdGlvLCBnZXRTbGlkZSwgZ2V0U2xpZGVJZlByZXNlbnQsIGdldFNsaWRlSW5kZXgsIGhhc1NsaWRlcywgaGFzV2luZG93LCBpc0ltYWdlRml0Q292ZXIsIGlzSW1hZ2VTbGlkZSwgbGFiZWwsIG1ha2VDb21wb3NlUHJlZml4LCBtYWtlVXNlQ29udGV4dCwgcGFyc2VJbnQsIHBhcnNlTGVuZ3RoUGVyY2VudGFnZSwgcm91bmQsIHNldFJlZiwgc3RvcE5hdmlnYXRpb25FdmVudHNQcm9wYWdhdGlvbiwgdXNlQW5pbWF0aW9uLCB1c2VDb250YWluZXJSZWN0LCB1c2VDb250cm9sbGVyLCB1c2VEZWxheSwgdXNlRXZlbnRDYWxsYmFjaywgdXNlRXZlbnRzLCB1c2VGb3JrUmVmLCB1c2VLZXlib2FyZE5hdmlnYXRpb24sIHVzZUxheW91dEVmZmVjdCwgdXNlTGlnaHRib3hEaXNwYXRjaCwgdXNlTGlnaHRib3hQcm9wcywgdXNlTGlnaHRib3hTdGF0ZSwgdXNlTG9zZUZvY3VzLCB1c2VNb3Rpb25QcmVmZXJlbmNlLCB1c2VOYXZpZ2F0aW9uU3RhdGUsIHVzZVBvaW50ZXJFdmVudHMsIHVzZVBvaW50ZXJTd2lwZSwgdXNlUHJldmVudFdoZWVsRGVmYXVsdHMsIHVzZVJUTCwgdXNlU2Vuc29ycywgdXNlVGhyb3R0bGUsIHVzZVRpbWVvdXRzLCB1c2VXaGVlbFN3aXBlLCB3aXRoUGx1Z2lucyB9OyJdLCJuYW1lcyI6WyJSZWFjdCIsIklNQUdFX0ZJVF9DT1ZFUiIsIklNQUdFX0ZJVF9DT05UQUlOIiwiQUNUSU9OX0NMT1NFIiwiTU9EVUxFX0NPTlRST0xMRVIiLCJVTktOT1dOX0FDVElPTl9UWVBFIiwiRUxFTUVOVF9CVVRUT04iLCJFTEVNRU5UX0lDT04iLCJFVkVOVF9PTl9QT0lOVEVSX0RPV04iLCJFVkVOVF9PTl9QT0lOVEVSX01PVkUiLCJFVkVOVF9PTl9QT0lOVEVSX1VQIiwiRVZFTlRfT05fUE9JTlRFUl9MRUFWRSIsIkVWRU5UX09OX1BPSU5URVJfQ0FOQ0VMIiwiRVZFTlRfT05fS0VZX0RPV04iLCJFVkVOVF9PTl9LRVlfVVAiLCJFVkVOVF9PTl9XSEVFTCIsIlNMSURFX1NUQVRVU19MT0FESU5HIiwiYWN0aXZlU2xpZGVTdGF0dXMiLCJTTElERV9TVEFUVVNfQ09NUExFVEUiLCJTTElERV9TVEFUVVNfRVJST1IiLCJTTElERV9TVEFUVVNfUExBQ0VIT0xERVIiLCJBQ1RJT05fUFJFViIsIkFDVElPTl9ORVhUIiwiQUNUSU9OX1NXSVBFIiwiTU9EVUxFX1BPUlRBTCIsIkNMQVNTX0ZMRVhfQ0VOVEVSIiwiTU9EVUxFX0NBUk9VU0VMIiwiQ0xBU1NfU0xJREVfV1JBUFBFUiIsIlZLX0FSUk9XX1JJR0hUIiwiVktfQVJST1dfTEVGVCIsIlZLX0VTQ0FQRSIsIk1PRFVMRV9OQVZJR0FUSU9OIiwiQ0xBU1NfTk9fU0NST0xMIiwiQ0xBU1NfTk9fU0NST0xMX1BBRERJTkciLCJNT0RVTEVfTk9fU0NST0xMIiwiTU9EVUxFX1JPT1QiLCJNT0RVTEVfVE9PTEJBUiIsImNyZWF0ZVBvcnRhbCIsIkFDVElWRV9TTElERV9DT01QTEVURSIsIkFDVElWRV9TTElERV9FUlJPUiIsIkFDVElWRV9TTElERV9MT0FESU5HIiwiQUNUSVZFX1NMSURFX1BMQVlJTkciLCJDTEFTU19GVUxMU0laRSIsIlBMVUdJTl9DQVBUSU9OUyIsIlBMVUdJTl9DT1VOVEVSIiwiUExVR0lOX0RPV05MT0FEIiwiUExVR0lOX0ZVTExTQ1JFRU4iLCJQTFVHSU5fSU5MSU5FIiwiUExVR0lOX1NIQVJFIiwiUExVR0lOX1NMSURFU0hPVyIsIlBMVUdJTl9USFVNQk5BSUxTIiwiUExVR0lOX1pPT00iLCJTTElERV9TVEFUVVNfUExBWUlORyIsImNzc1ByZWZpeCQzIiwiY2xzeCIsImNsYXNzZXMiLCJmaWx0ZXIiLCJCb29sZWFuIiwiam9pbiIsImNzc0NsYXNzIiwibmFtZSIsImNzc1ZhciIsImNvbXBvc2VQcmVmaXgiLCJiYXNlIiwicHJlZml4IiwibWFrZUNvbXBvc2VQcmVmaXgiLCJsYWJlbCIsImxhYmVscyIsImRlZmF1bHRMYWJlbCIsIl9hIiwiY2xlYW51cCIsImNsZWFuZXJzIiwiZm9yRWFjaCIsImNsZWFuZXIiLCJtYWtlVXNlQ29udGV4dCIsImNvbnRleHROYW1lIiwiY29udGV4dCIsImN0eCIsInVzZUNvbnRleHQiLCJFcnJvciIsImhhc1dpbmRvdyIsInJvdW5kIiwidmFsdWUiLCJkZWNpbWFscyIsImZhY3RvciIsIk1hdGgiLCJOdW1iZXIiLCJFUFNJTE9OIiwiaXNJbWFnZVNsaWRlIiwic2xpZGUiLCJ0eXBlIiwidW5kZWZpbmVkIiwiaXNJbWFnZUZpdENvdmVyIiwiaW1hZ2UiLCJpbWFnZUZpdCIsInBhcnNlSW50IiwicGFyc2VMZW5ndGhQZXJjZW50YWdlIiwiaW5wdXQiLCJwaXhlbCIsImVuZHNXaXRoIiwicGVyY2VudCIsImNvbXB1dGVTbGlkZVJlY3QiLCJjb250YWluZXJSZWN0IiwicGFkZGluZyIsInBhZGRpbmdWYWx1ZSIsInBhZGRpbmdQaXhlbHMiLCJ3aWR0aCIsIm1heCIsImhlaWdodCIsImRldmljZVBpeGVsUmF0aW8iLCJ3aW5kb3ciLCJnZXRTbGlkZUluZGV4IiwiaW5kZXgiLCJzbGlkZXNDb3VudCIsImhhc1NsaWRlcyIsInNsaWRlcyIsImxlbmd0aCIsImdldFNsaWRlIiwiZ2V0U2xpZGVJZlByZXNlbnQiLCJhZGRUb29sYmFyQnV0dG9uIiwidG9vbGJhciIsImtleSIsImJ1dHRvbiIsImJ1dHRvbnMiLCJyZXN0VG9vbGJhciIsImZpbmRJbmRleCIsIml0ZW0iLCJidXR0b25XaXRoS2V5IiwiaXNWYWxpZEVsZW1lbnQiLCJjbG9uZUVsZW1lbnQiLCJyZXN1bHQiLCJzcGxpY2UiLCJzdG9wTmF2aWdhdGlvbkV2ZW50c1Byb3BhZ2F0aW9uIiwic3RvcFByb3BhZ2F0aW9uIiwiZXZlbnQiLCJvblBvaW50ZXJEb3duIiwib25LZXlEb3duIiwib25XaGVlbCIsImNhbGN1bGF0ZVByZWxvYWQiLCJjYXJvdXNlbCIsIm1pbmltdW0iLCJtaW4iLCJwcmVsb2FkIiwiZmluaXRlIiwiZmxvb3IiLCJMaWdodGJveERlZmF1bHRQcm9wcyIsIm9wZW4iLCJjbG9zZSIsInJlbmRlciIsInBsdWdpbnMiLCJhbmltYXRpb24iLCJmYWRlIiwic3dpcGUiLCJlYXNpbmciLCJuYXZpZ2F0aW9uIiwic3BhY2luZyIsImltYWdlUHJvcHMiLCJjb250cm9sbGVyIiwicmVmIiwiZm9jdXMiLCJhcmlhIiwidG91Y2hBY3Rpb24iLCJjbG9zZU9uUHVsbFVwIiwiY2xvc2VPblB1bGxEb3duIiwiY2xvc2VPbkJhY2tkcm9wQ2xpY2siLCJwcmV2ZW50RGVmYXVsdFdoZWVsWCIsInByZXZlbnREZWZhdWx0V2hlZWxZIiwicG9ydGFsIiwibm9TY3JvbGwiLCJkaXNhYmxlZCIsIm9uIiwic3R5bGVzIiwiY2xhc3NOYW1lIiwiY3JlYXRlTW9kdWxlIiwiY29tcG9uZW50IiwiY3JlYXRlTm9kZSIsIm1vZHVsZSIsImNoaWxkcmVuIiwidHJhdmVyc2VOb2RlIiwibm9kZSIsInRhcmdldCIsImFwcGx5IiwiZmxhdE1hcCIsIm4iLCJ0cmF2ZXJzZSIsIm5vZGVzIiwid2l0aFBsdWdpbnMiLCJyb290IiwiYXVnbWVudGF0aW9ucyIsImNvbmZpZyIsImNvbnRhaW5zIiwicG9wIiwicHVzaCIsImFkZFBhcmVudCIsImFwcGVuZCIsImFkZENoaWxkIiwicHJlY2VkZSIsImFkZFNpYmxpbmciLCJhZGRNb2R1bGUiLCJyZXBsYWNlIiwicmVtb3ZlIiwiYXVnbWVudCIsImF1Z21lbnRhdGlvbiIsInBsdWdpbiIsInByb3BzIiwicmVkdWNlIiwiYWNjIiwiRXZlbnRzQ29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VFdmVudHMiLCJFdmVudHNQcm92aWRlciIsInN1YnNjcmlwdGlvbnMiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsIk9iamVjdCIsImtleXMiLCJ0b3BpYyIsInVzZU1lbW8iLCJ1bnN1YnNjcmliZSIsImNhbGxiYWNrIiwiY2IiLCJzdWJzY3JpYmUiLCJwdWJsaXNoIiwiY3JlYXRlRWxlbWVudCIsIlByb3ZpZGVyIiwiTGlnaHRib3hQcm9wc0NvbnRleHQiLCJ1c2VMaWdodGJveFByb3BzIiwiTGlnaHRib3hQcm9wc1Byb3ZpZGVyIiwiTGlnaHRib3hTdGF0ZUNvbnRleHQiLCJ1c2VMaWdodGJveFN0YXRlIiwiTGlnaHRib3hEaXNwYXRjaENvbnRleHQiLCJ1c2VMaWdodGJveERpc3BhdGNoIiwicmVkdWNlciIsInN0YXRlIiwiYWN0aW9uIiwiaW5jcmVtZW50IiwiZ2xvYmFsSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJjdXJyZW50U2xpZGUiLCJkdXJhdGlvbiIsIkxpZ2h0Ym94U3RhdGVQcm92aWRlciIsImRpc3BhdGNoIiwidXNlUmVkdWNlciIsIlRpbWVvdXRzQ29udGV4dCIsInVzZVRpbWVvdXRzIiwiVGltZW91dHNQcm92aWRlciIsInRpbWVvdXRzIiwidGlkIiwiY2xlYXJUaW1lb3V0IiwicmVtb3ZlVGltZW91dCIsImlkIiwic2V0VGltZW91dCIsImZuIiwiZGVsYXkiLCJJY29uQnV0dG9uIiwiZm9yd2FyZFJlZiIsImxhYmVsJDEiLCJpY29uIiwiSWNvbiIsInJlbmRlckljb24iLCJvbkNsaWNrIiwic3R5bGUiLCJyZXN0Iiwic3ZnSWNvbiIsInhtbG5zIiwidmlld0JveCIsImZvY3VzYWJsZSIsImRpc3BsYXlOYW1lIiwiY3JlYXRlSWNvbiIsImdseXBoIiwiZmlsbCIsImQiLCJjcmVhdGVJY29uRGlzYWJsZWQiLCJGcmFnbWVudCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwibWFzayIsIkNsb3NlSWNvbiIsIlByZXZpb3VzSWNvbiIsIk5leHRJY29uIiwiTG9hZGluZ0ljb24iLCJBcnJheSIsImZyb20iLCJtYXAiLCJfIiwiYXJyYXkiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInN0cm9rZUxpbmVjYXAiLCJzdHJva2VPcGFjaXR5IiwidHJhbnNmb3JtIiwiRXJyb3JJY29uIiwidXNlTGF5b3V0RWZmZWN0IiwidXNlTW90aW9uUHJlZmVyZW5jZSIsInJlZHVjZU1vdGlvbiIsInNldFJlZHVjZU1vdGlvbiIsIl9iIiwibWVkaWFRdWVyeSIsIm1hdGNoTWVkaWEiLCJjYWxsIiwibWF0Y2hlcyIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjdXJyZW50VHJhbnNmb3JtYXRpb24iLCJ4IiwieSIsInoiLCJtYXRyaXgiLCJnZXRDb21wdXRlZFN0eWxlIiwibWF0Y2hlciIsIm1hdGNoIiwidmFsdWVzIiwic3BsaXQiLCJ1c2VBbmltYXRpb24iLCJub2RlUmVmIiwiY29tcHV0ZUFuaW1hdGlvbiIsInNuYXBzaG90IiwidXNlUmVmIiwiX2MiLCJjdXJyZW50Iiwia2V5ZnJhbWVzIiwib25maW5pc2giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjYW5jZWwiLCJhbmltYXRlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwicHJlcGFyZUFuaW1hdGlvbiIsImN1cnJlbnRTbmFwc2hvdCIsImlzQW5pbWF0aW9uUGxheWluZyIsInBsYXlTdGF0ZSIsInVzZUNvbnRhaW5lclJlY3QiLCJjb250YWluZXJSZWYiLCJvYnNlcnZlclJlZiIsInNldENvbnRhaW5lclJlY3QiLCJzZXRDb250YWluZXJSZWYiLCJ1c2VDYWxsYmFjayIsImRpc2Nvbm5lY3QiLCJ1cGRhdGVDb250YWluZXJSZWN0IiwicGFyc2UiLCJwYXJzZUZsb2F0IiwiY2xpZW50V2lkdGgiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsImNsaWVudEhlaWdodCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIiwiUmVzaXplT2JzZXJ2ZXIiLCJvYnNlcnZlIiwidXNlRGVsYXkiLCJ0aW1lb3V0SWQiLCJ1c2VFdmVudENhbGxiYWNrIiwiYXJncyIsInNldFJlZiIsInVzZUZvcmtSZWYiLCJyZWZBIiwicmVmQiIsInJlZlZhbHVlIiwidXNlTG9zZUZvY3VzIiwiZm9jdXNlZCIsIm9uRm9jdXMiLCJvbkJsdXIiLCJ1c2VSVEwiLCJpc1JUTCIsInNldElzUlRMIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJkaXJlY3Rpb24iLCJ1c2VTZW5zb3JzIiwic3Vic2NyaWJlcnMiLCJub3RpZnlTdWJzY3JpYmVycyIsImlzUHJvcGFnYXRpb25TdG9wcGVkIiwicmVnaXN0ZXJTZW5zb3JzIiwib25Qb2ludGVyTW92ZSIsIm9uUG9pbnRlclVwIiwib25Qb2ludGVyTGVhdmUiLCJvblBvaW50ZXJDYW5jZWwiLCJvbktleVVwIiwic3Vic2NyaWJlU2Vuc29ycyIsInVuc2hpZnQiLCJsaXN0ZW5lcnMiLCJlbCIsInVzZVRocm90dGxlIiwibGFzdENhbGxiYWNrVGltZSIsImRlbGF5Q2FsbGJhY2siLCJleGVjdXRlQ2FsbGJhY2siLCJEYXRlIiwibm93Iiwic2xpZGVQcmVmaXgiLCJzbGlkZUltYWdlUHJlZml4IiwiSW1hZ2VTbGlkZSIsIm9mZnNldCIsInJlY3QiLCJvbkxvYWQiLCJfZCIsIl9lIiwiX2YiLCJfZyIsInN0YXR1cyIsInNldFN0YXR1cyIsImltYWdlUmVmIiwiaGFuZGxlTG9hZGluZyIsImltZyIsImRlY29kZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiY2F0Y2giLCJ0aGVuIiwicGFyZW50Tm9kZSIsInNldEltYWdlUmVmIiwiY29tcGxldGUiLCJoYW5kbGVPbkxvYWQiLCJjdXJyZW50VGFyZ2V0Iiwib25FcnJvciIsImNvdmVyIiwibm9uSW5maW5pdGUiLCJmYWxsYmFjayIsImlzRmluaXRlIiwibWF4V2lkdGgiLCJzcmNTZXQiLCJjb25jYXQiLCJuYXR1cmFsV2lkdGgiLCJtYXhIZWlnaHQiLCJuYXR1cmFsSGVpZ2h0IiwiZGVmYXVsdFN0eWxlIiwic29ydCIsImEiLCJiIiwic3JjIiwiZXN0aW1hdGVBY3R1YWxXaWR0aCIsIk1BWF9WQUxVRSIsInNpemVzIiwiaW1hZ2VQcm9wc1N0eWxlIiwiaW1hZ2VQcm9wc0NsYXNzTmFtZSIsInJlc3RJbWFnZVByb3BzIiwiZHJhZ2dhYmxlIiwiYWx0IiwiaWNvbkxvYWRpbmciLCJpY29uRXJyb3IiLCJTd2lwZVN0YXRlIiwidXNlUG9pbnRlckV2ZW50cyIsIkdlc3R1cmUiLCJTV0lQRV9USFJFU0hPTEQiLCJ1c2VQb2ludGVyU3dpcGUiLCJpc1N3aXBlVmFsaWQiLCJjb250YWluZXJXaWR0aCIsInN3aXBlQW5pbWF0aW9uRHVyYXRpb24iLCJvblN3aXBlU3RhcnQiLCJvblN3aXBlUHJvZ3Jlc3MiLCJvblN3aXBlRmluaXNoIiwib25Td2lwZUNhbmNlbCIsInB1bGxVcEVuYWJsZWQiLCJwdWxsRG93bkVuYWJsZWQiLCJvblB1bGxTdGFydCIsIm9uUHVsbFByb2dyZXNzIiwib25QdWxsRmluaXNoIiwib25QdWxsQ2FuY2VsIiwicG9pbnRlcnMiLCJhY3RpdmVQb2ludGVyIiwic3RhcnRUaW1lIiwiZ2VzdHVyZSIsIk5PTkUiLCJjbGVhclBvaW50ZXIiLCJwb2ludGVySWQiLCJjdXJyZW50UG9pbnRlcnMiLCJwIiwiYWRkUG9pbnRlciIsInBlcnNpc3QiLCJleGNlZWRzUHVsbFRocmVzaG9sZCIsInRocmVzaG9sZCIsImZpbmQiLCJjdXJyZW50T2Zmc2V0IiwiU1dJUEUiLCJhYnMiLCJQVUxMIiwicG9pbnRlciIsImlzQ3VycmVudFBvaW50ZXIiLCJkZWx0YVgiLCJjbGllbnRYIiwiZGVsdGFZIiwiY2xpZW50WSIsInN0YXJ0R2VzdHVyZSIsIm5ld0dlc3R1cmUiLCJ1c2VQcmV2ZW50V2hlZWxEZWZhdWx0cyIsImhvcml6b250YWwiLCJjdHJsS2V5IiwicHJldmVudERlZmF1bHQiLCJwYXNzaXZlIiwidXNlV2hlZWxTd2lwZSIsInN3aXBlU3RhdGUiLCJpbnRlbnQiLCJpbnRlbnRDbGVhbnVwIiwicmVzZXRDbGVhbnVwIiwid2hlZWxSZXNpZHVhbE1vbWVudHVtIiwiY2FuY2VsU3dpcGVJbnRlbnRDbGVhbnVwIiwiY2FuY2VsU3dpcGVSZXNldENsZWFudXAiLCJoYW5kbGVDbGVhbnVwIiwiaGFuZGxlQ2FuY2VsU3dpcGUiLCJjdXJyZW50U3dpcGVPZmZzZXQiLCJjdXJyZW50U3dpcGVJbnRlbnQiLCJuZXdTd2lwZU9mZnNldCIsInNpZ24iLCJjc3NDb250YWluZXJQcmVmaXgiLCJDb250cm9sbGVyQ29udGV4dCIsInVzZUNvbnRyb2xsZXIiLCJDb250cm9sbGVyIiwidG9vbGJhcldpZHRoIiwic2V0VG9vbGJhcldpZHRoIiwic2V0U3dpcGVTdGF0ZSIsInN3aXBlT2Zmc2V0IiwicHVsbE9mZnNldCIsInB1bGxPcGFjaXR5IiwiY2xlYW51cEFuaW1hdGlvbkluY3JlbWVudCIsImNsZWFudXBTd2lwZU9mZnNldCIsImNsZWFudXBQdWxsT2Zmc2V0IiwiaGFuZGxlQ29udGFpbmVyUmVmIiwiY2Fyb3VzZWxSZWYiLCJzZXRDYXJvdXNlbFJlZiIsInJ0bCIsImdldExpZ2h0Ym94UHJvcHMiLCJnZXRMaWdodGJveFN0YXRlIiwicHJldiIsInBhcmFtcyIsIm5leHQiLCJzZXRTd2lwZU9mZnNldCIsInNldFByb3BlcnR5Iiwic2V0UHVsbE9mZnNldCIsIm1pbk9wYWNpdHkiLCJvZmZzZXRWYWx1ZSIsInByZXBhcmVQdWxsQW5pbWF0aW9uIiwidHJhbnNsYXRlIiwib3BhY2l0eSIsInB1bGwiLCJBTklNQVRJT04iLCJwYXJzZWRTcGFjaW5nIiwic3BhY2luZ1ZhbHVlIiwic3dpcGVEdXJhdGlvbiIsInN3aXBlRWFzaW5nIiwiY291bnQiLCJuZXdTd2lwZVN0YXRlIiwibmV3U3dpcGVBbmltYXRpb25EdXJhdGlvbiIsImVsYXBzZWRUaW1lIiwiZXhwZWN0ZWRUaW1lIiwic3dpcGVQYXJhbXMiLCJwdWxsUGFyYW1zIiwiZm9jdXNPbk1vdW50IiwicXVlcnlTZWxlY3RvciIsIm9uVmlld0NhbGxiYWNrIiwidmlldyIsInNsaWRlUmVjdCIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJjb250YWluZXIiLCJyb2xlIiwidGFiSW5kZXgiLCJjb250cm9scyIsIkNvbnRyb2xsZXJNb2R1bGUiLCJjc3NQcmVmaXgkMiIsImNzc1NsaWRlUHJlZml4IiwiQ2Fyb3VzZWxTbGlkZSIsImNsaWNrIiwicmVuZGVyU2xpZGUiLCJyZW5kZXJlZCIsInNsaWRlSGVhZGVyIiwic2xpZGVDb250YWluZXIiLCJzbGlkZUZvb3RlciIsImhhbmRsZUJhY2tkcm9wQ2xpY2siLCJIVE1MRWxlbWVudCIsImNsYXNzTGlzdCIsIlBsYWNlaG9sZGVyIiwiQ2Fyb3VzZWwiLCJpdGVtcyIsImkiLCJDYXJvdXNlbE1vZHVsZSIsInVzZU5hdmlnYXRpb25TdGF0ZSIsInByZXZEaXNhYmxlZCIsIm5leHREaXNhYmxlZCIsInVzZUtleWJvYXJkTmF2aWdhdGlvbiIsInRocm90dGxlIiwiaGFuZGxlS2V5RG93biIsIk5hdmlnYXRpb25CdXR0b24iLCJOYXZpZ2F0aW9uIiwiYnV0dG9uUHJldiIsImJ1dHRvbk5leHQiLCJpY29uUHJldiIsImljb25OZXh0IiwibmF2aWdhdGlvblByZXYiLCJuYXZpZ2F0aW9uTmV4dCIsIk5hdmlnYXRpb25Nb2R1bGUiLCJub1Njcm9sbFBhZGRpbmciLCJpc0hUTUxFbGVtZW50IiwiZWxlbWVudCIsInBhZFNjcm9sbGJhciIsInByb3BlcnR5IiwiY29tcHV0ZWRWYWx1ZSIsIm9yaWdpbmFsVmFsdWUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicmVtb3ZlUHJvcGVydHkiLCJOb1Njcm9sbCIsImJvZHkiLCJzY3JvbGxiYXIiLCJpbm5lcldpZHRoIiwiZWxlbWVudHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImFkZCIsImNsZWFuIiwiTm9TY3JvbGxNb2R1bGUiLCJjc3NQcmVmaXgkMSIsInNldEF0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsInByZXZpb3VzVmFsdWUiLCJnZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJQb3J0YWwiLCJtb3VudGVkIiwic2V0TW91bnRlZCIsInZpc2libGUiLCJzZXRWaXNpYmxlIiwicmVzdG9yZUZvY3VzIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJoYW5kbGVDbG9zZSIsImV4aXRpbmciLCJleGl0ZWQiLCJoYW5kbGVFbnRlciIsInNjcm9sbFRvcCIsImVudGVyaW5nIiwiaW5kZXhPZiIsInRhZ05hbWUiLCJlbnRlcmVkIiwiaGFuZGxlUmVmIiwicmVsYXRlZFRhcmdldCIsIlBvcnRhbE1vZHVsZSIsIlJvb3QiLCJSb290TW9kdWxlIiwiY3NzUHJlZml4IiwiVG9vbGJhciIsImJ1dHRvbkNsb3NlIiwiaWNvbkNsb3NlIiwicmVuZGVyQ2xvc2VCdXR0b24iLCJUb29sYmFyTW9kdWxlIiwicmVuZGVyTm9kZSIsImNoaWxkIiwibWVyZ2VBbmltYXRpb24iLCJkZWZhdWx0QW5pbWF0aW9uIiwiZGVmYXVsdEFuaW1hdGlvbkVhc2luZyIsInJlc3REZWZhdWx0QW5pbWF0aW9uIiwicmVzdEFuaW1hdGlvbiIsIkxpZ2h0Ym94IiwicmVzdFByb3BzIiwiZGVmYXVsdENhcm91c2VsIiwiZGVmYXVsdFJlbmRlciIsImRlZmF1bHRUb29sYmFyIiwiZGVmYXVsdENvbnRyb2xsZXIiLCJkZWZhdWx0Tm9TY3JvbGwiLCJkZWZhdWx0T24iLCJkZWZhdWx0U2xpZGVzIiwiZGVmYXVsdEluZGV4IiwiZGVmYXVsdFBsdWdpbnMiLCJyZXN0RGVmYXVsdFByb3BzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/captions/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/captions/index.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Captions)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst cssPrefix = (className) => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(`slide_${className}`);\n\nconst defaultCaptionsProps = {\n    descriptionTextAlign: \"start\",\n    descriptionMaxLines: 3,\n    showToggle: false,\n};\nconst resolveCaptionsProps = (captions) => ({\n    ...defaultCaptionsProps,\n    ...captions,\n});\nfunction useCaptionsProps() {\n    const { captions } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    return resolveCaptionsProps(captions);\n}\n\nconst CaptionsContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useCaptions = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useCaptions\", \"CaptionsContext\", CaptionsContext);\nfunction CaptionsContextProvider({ captions, children }) {\n    const { ref } = resolveCaptionsProps(captions);\n    const [visible, setVisible] = react__WEBPACK_IMPORTED_MODULE_0__.useState(true);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(CaptionsContext.Provider, { value: context }, children);\n}\n\nfunction Title({ title }) {\n    const { toolbarWidth } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { styles } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: styles.captionsTitleContainer, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)(cssPrefix(\"captions_container\"), cssPrefix(\"title_container\")) },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: cssPrefix(\"title\"), style: {\n                ...(toolbarWidth ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(\"toolbar_width\")]: `${toolbarWidth}px` } : null),\n                ...styles.captionsTitle,\n            } }, title)));\n}\n\nfunction Description({ description }) {\n    const { descriptionTextAlign, descriptionMaxLines } = useCaptionsProps();\n    const { styles } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { visible } = useCaptions();\n    if (!visible)\n        return null;\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: styles.captionsDescriptionContainer, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)(cssPrefix(\"captions_container\"), cssPrefix(\"description_container\")) },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: cssPrefix(\"description\"), style: {\n                ...(descriptionTextAlign !== defaultCaptionsProps.descriptionTextAlign ||\n                    descriptionMaxLines !== defaultCaptionsProps.descriptionMaxLines\n                    ? {\n                        [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(\"slide_description_text_align\")]: descriptionTextAlign,\n                        [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(\"slide_description_max_lines\")]: descriptionMaxLines,\n                    }\n                    : null),\n                ...styles.captionsDescription,\n            } }, typeof description === \"string\"\n            ? description\n                .split(\"\\n\")\n                .flatMap((line, index) => [...(index > 0 ? [react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"br\", { key: index })] : []), line])\n            : description)));\n}\n\nconst captionsIcon = () => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z\" })));\nconst CaptionsVisible = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"CaptionsVisible\", captionsIcon());\nconst CaptionsHidden = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIconDisabled)(\"CaptionsVisible\", captionsIcon());\nfunction CaptionsButton() {\n    const { visible, show, hide } = useCaptions();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    if (render.buttonCaptions) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonCaptions({ visible, show, hide }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { label: visible ? \"Hide captions\" : \"Show captions\", icon: visible ? CaptionsVisible : CaptionsHidden, renderIcon: visible ? render.iconCaptionsVisible : render.iconCaptionsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Captions({ augment, addModule }) {\n    augment(({ captions: captionsProps, render: { slideFooter: renderFooter, ...restRender }, toolbar, ...restProps }) => {\n        const captions = resolveCaptionsProps(captionsProps);\n        return {\n            render: {\n                slideFooter: ({ slide }) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, renderFooter === null || renderFooter === void 0 ? void 0 :\n                    renderFooter({ slide }),\n                    slide.title && react__WEBPACK_IMPORTED_MODULE_0__.createElement(Title, { title: slide.title }),\n                    slide.description && react__WEBPACK_IMPORTED_MODULE_0__.createElement(Description, { description: slide.description }))),\n                ...restRender,\n            },\n            toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_CAPTIONS, captions.showToggle ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(CaptionsButton, null) : null),\n            captions,\n            ...restProps,\n        };\n    });\n    addModule((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_CAPTIONS, CaptionsContextProvider));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL2NhcHRpb25zL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUw7QUFDdEo7QUFDa0I7O0FBRWpELGlDQUFpQyxtREFBUSxVQUFVLFVBQVU7O0FBRTdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxZQUFZLFdBQVcsRUFBRSwyREFBZ0I7QUFDekM7QUFDQTs7QUFFQSx3QkFBd0IsZ0RBQW1CO0FBQzNDLG9CQUFvQix5REFBYztBQUNsQyxtQ0FBbUMsb0JBQW9CO0FBQ3ZELFlBQVksTUFBTTtBQUNsQixrQ0FBa0MsMkNBQWM7QUFDaEQsb0JBQW9CLDBDQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLHNEQUF5QjtBQUM3QixXQUFXLGdEQUFtQiw2QkFBNkIsZ0JBQWdCO0FBQzNFOztBQUVBLGlCQUFpQixPQUFPO0FBQ3hCLFlBQVksZUFBZSxFQUFFLHdEQUFhO0FBQzFDLFlBQVksU0FBUyxFQUFFLDJEQUFnQjtBQUN2QyxZQUFZLFVBQVU7QUFDdEI7QUFDQTtBQUNBLFlBQVksZ0RBQW1CLFVBQVUsaURBQWlELCtDQUFJLGlFQUFpRTtBQUMvSixRQUFRLGdEQUFtQixVQUFVO0FBQ3JDLHFDQUFxQyxDQUFDLGlEQUFNLHVCQUF1QixhQUFhLE1BQU07QUFDdEY7QUFDQSxlQUFlO0FBQ2Y7O0FBRUEsdUJBQXVCLGFBQWE7QUFDcEMsWUFBWSw0Q0FBNEM7QUFDeEQsWUFBWSxTQUFTLEVBQUUsMkRBQWdCO0FBQ3ZDLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0EsWUFBWSxnREFBbUIsVUFBVSx1REFBdUQsK0NBQUksdUVBQXVFO0FBQzNLLFFBQVEsZ0RBQW1CLFVBQVU7QUFDckM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGlEQUFNO0FBQy9CLHlCQUF5QixpREFBTTtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLDREQUE0RCxnREFBbUIsU0FBUyxZQUFZO0FBQ3BHO0FBQ0E7O0FBRUEsNEJBQTRCLGdEQUFtQixDQUFDLDJDQUFjO0FBQzlELElBQUksZ0RBQW1CLFdBQVcsZ0hBQWdIO0FBQ2xKLElBQUksZ0RBQW1CLFdBQVcsc05BQXNOO0FBQ3hQLHdCQUF3QixxREFBVTtBQUNsQyx1QkFBdUIsNkRBQWtCO0FBQ3pDO0FBQ0EsWUFBWSxzQkFBc0I7QUFDbEMsWUFBWSxTQUFTLEVBQUUsMkRBQWdCO0FBQ3ZDO0FBQ0EsZUFBZSxnREFBbUIsQ0FBQywyQ0FBYyxnQ0FBZ0MscUJBQXFCO0FBQ3RHO0FBQ0EsWUFBWSxnREFBbUIsQ0FBQyxpREFBVSxJQUFJLG9OQUFvTjtBQUNsUTs7QUFFQSxvQkFBb0Isb0JBQW9CO0FBQ3hDLGVBQWUsbUNBQW1DLDBDQUEwQyx5QkFBeUI7QUFDckg7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLE9BQU8sTUFBTSxnREFBbUIsQ0FBQywyQ0FBYztBQUMvRSxtQ0FBbUMsT0FBTztBQUMxQyxtQ0FBbUMsZ0RBQW1CLFVBQVUsb0JBQW9CO0FBQ3BGLHlDQUF5QyxnREFBbUIsZ0JBQWdCLGdDQUFnQztBQUM1RztBQUNBLGFBQWE7QUFDYixxQkFBcUIsMkRBQWdCLFVBQVUsc0RBQWUsd0JBQXdCLGdEQUFtQjtBQUN6RztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsY0FBYyx1REFBWSxDQUFDLHNEQUFlO0FBQzFDOztBQUUrQiIsInNvdXJjZXMiOlsid2VicGFjazovL3Nob2Utc2hvcC8uL25vZGVfbW9kdWxlcy95ZXQtYW5vdGhlci1yZWFjdC1saWdodGJveC9kaXN0L3BsdWdpbnMvY2FwdGlvbnMvaW5kZXguanM/OGU2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3NDbGFzcywgdXNlTGlnaHRib3hQcm9wcywgbWFrZVVzZUNvbnRleHQsIHVzZUNvbnRyb2xsZXIsIGNsc3gsIGNzc1ZhciwgY3JlYXRlSWNvbiwgY3JlYXRlSWNvbkRpc2FibGVkLCBJY29uQnV0dG9uLCBhZGRUb29sYmFyQnV0dG9uLCBjcmVhdGVNb2R1bGUgfSBmcm9tICcuLi8uLi9pbmRleC5qcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQTFVHSU5fQ0FQVElPTlMgfSBmcm9tICcuLi8uLi90eXBlcy5qcyc7XG5cbmNvbnN0IGNzc1ByZWZpeCA9IChjbGFzc05hbWUpID0+IGNzc0NsYXNzKGBzbGlkZV8ke2NsYXNzTmFtZX1gKTtcblxuY29uc3QgZGVmYXVsdENhcHRpb25zUHJvcHMgPSB7XG4gICAgZGVzY3JpcHRpb25UZXh0QWxpZ246IFwic3RhcnRcIixcbiAgICBkZXNjcmlwdGlvbk1heExpbmVzOiAzLFxuICAgIHNob3dUb2dnbGU6IGZhbHNlLFxufTtcbmNvbnN0IHJlc29sdmVDYXB0aW9uc1Byb3BzID0gKGNhcHRpb25zKSA9PiAoe1xuICAgIC4uLmRlZmF1bHRDYXB0aW9uc1Byb3BzLFxuICAgIC4uLmNhcHRpb25zLFxufSk7XG5mdW5jdGlvbiB1c2VDYXB0aW9uc1Byb3BzKCkge1xuICAgIGNvbnN0IHsgY2FwdGlvbnMgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICByZXR1cm4gcmVzb2x2ZUNhcHRpb25zUHJvcHMoY2FwdGlvbnMpO1xufVxuXG5jb25zdCBDYXB0aW9uc0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgdXNlQ2FwdGlvbnMgPSBtYWtlVXNlQ29udGV4dChcInVzZUNhcHRpb25zXCIsIFwiQ2FwdGlvbnNDb250ZXh0XCIsIENhcHRpb25zQ29udGV4dCk7XG5mdW5jdGlvbiBDYXB0aW9uc0NvbnRleHRQcm92aWRlcih7IGNhcHRpb25zLCBjaGlsZHJlbiB9KSB7XG4gICAgY29uc3QgeyByZWYgfSA9IHJlc29sdmVDYXB0aW9uc1Byb3BzKGNhcHRpb25zKTtcbiAgICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiAoe1xuICAgICAgICB2aXNpYmxlLFxuICAgICAgICBzaG93OiAoKSA9PiBzZXRWaXNpYmxlKHRydWUpLFxuICAgICAgICBoaWRlOiAoKSA9PiBzZXRWaXNpYmxlKGZhbHNlKSxcbiAgICB9KSwgW3Zpc2libGVdKTtcbiAgICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gY29udGV4dCwgW2NvbnRleHRdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDYXB0aW9uc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgY2hpbGRyZW4pO1xufVxuXG5mdW5jdGlvbiBUaXRsZSh7IHRpdGxlIH0pIHtcbiAgICBjb25zdCB7IHRvb2xiYXJXaWR0aCB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc3R5bGVzIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3QgeyB2aXNpYmxlIH0gPSB1c2VDYXB0aW9ucygpO1xuICAgIGlmICghdmlzaWJsZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHN0eWxlcy5jYXB0aW9uc1RpdGxlQ29udGFpbmVyLCBjbGFzc05hbWU6IGNsc3goY3NzUHJlZml4KFwiY2FwdGlvbnNfY29udGFpbmVyXCIpLCBjc3NQcmVmaXgoXCJ0aXRsZV9jb250YWluZXJcIikpIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNzc1ByZWZpeChcInRpdGxlXCIpLCBzdHlsZToge1xuICAgICAgICAgICAgICAgIC4uLih0b29sYmFyV2lkdGggPyB7IFtjc3NWYXIoXCJ0b29sYmFyX3dpZHRoXCIpXTogYCR7dG9vbGJhcldpZHRofXB4YCB9IDogbnVsbCksXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVzLmNhcHRpb25zVGl0bGUsXG4gICAgICAgICAgICB9IH0sIHRpdGxlKSkpO1xufVxuXG5mdW5jdGlvbiBEZXNjcmlwdGlvbih7IGRlc2NyaXB0aW9uIH0pIHtcbiAgICBjb25zdCB7IGRlc2NyaXB0aW9uVGV4dEFsaWduLCBkZXNjcmlwdGlvbk1heExpbmVzIH0gPSB1c2VDYXB0aW9uc1Byb3BzKCk7XG4gICAgY29uc3QgeyBzdHlsZXMgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCB7IHZpc2libGUgfSA9IHVzZUNhcHRpb25zKCk7XG4gICAgaWYgKCF2aXNpYmxlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogc3R5bGVzLmNhcHRpb25zRGVzY3JpcHRpb25Db250YWluZXIsIGNsYXNzTmFtZTogY2xzeChjc3NQcmVmaXgoXCJjYXB0aW9uc19jb250YWluZXJcIiksIGNzc1ByZWZpeChcImRlc2NyaXB0aW9uX2NvbnRhaW5lclwiKSkgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY3NzUHJlZml4KFwiZGVzY3JpcHRpb25cIiksIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgLi4uKGRlc2NyaXB0aW9uVGV4dEFsaWduICE9PSBkZWZhdWx0Q2FwdGlvbnNQcm9wcy5kZXNjcmlwdGlvblRleHRBbGlnbiB8fFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbk1heExpbmVzICE9PSBkZWZhdWx0Q2FwdGlvbnNQcm9wcy5kZXNjcmlwdGlvbk1heExpbmVzXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgW2Nzc1ZhcihcInNsaWRlX2Rlc2NyaXB0aW9uX3RleHRfYWxpZ25cIildOiBkZXNjcmlwdGlvblRleHRBbGlnbixcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjc3NWYXIoXCJzbGlkZV9kZXNjcmlwdGlvbl9tYXhfbGluZXNcIildOiBkZXNjcmlwdGlvbk1heExpbmVzLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVzLmNhcHRpb25zRGVzY3JpcHRpb24sXG4gICAgICAgICAgICB9IH0sIHR5cGVvZiBkZXNjcmlwdGlvbiA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgIC5zcGxpdChcIlxcblwiKVxuICAgICAgICAgICAgICAgIC5mbGF0TWFwKChsaW5lLCBpbmRleCkgPT4gWy4uLihpbmRleCA+IDAgPyBbUmVhY3QuY3JlYXRlRWxlbWVudChcImJyXCIsIHsga2V5OiBpbmRleCB9KV0gOiBbXSksIGxpbmVdKVxuICAgICAgICAgICAgOiBkZXNjcmlwdGlvbikpKTtcbn1cblxuY29uc3QgY2FwdGlvbnNJY29uID0gKCkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBzdHJva2VXaWR0aDogMiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBmaWxsOiBcIm5vbmVcIiwgZDogXCJNMyA1bDE4IDBsMCAxNGwtMTggMGwwLTE0elwiIH0pLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNyAxNWgzYy41NSAwIDEtLjQ1IDEtMXYtMUg5LjV2LjVoLTJ2LTNoMnYuNUgxMXYtMWMwLS41NS0uNDUtMS0xLTFIN2MtLjU1IDAtMSAuNDUtMSAxdjRjMCAuNTUuNDUgMSAxIDF6bTcgMGgzYy41NSAwIDEtLjQ1IDEtMXYtMWgtMS41di41aC0ydi0zaDJ2LjVIMTh2LTFjMC0uNTUtLjQ1LTEtMS0xaC0zYy0uNTUgMC0xIC40NS0xIDF2NGMwIC41NS40NSAxIDEgMXpcIiB9KSkpO1xuY29uc3QgQ2FwdGlvbnNWaXNpYmxlID0gY3JlYXRlSWNvbihcIkNhcHRpb25zVmlzaWJsZVwiLCBjYXB0aW9uc0ljb24oKSk7XG5jb25zdCBDYXB0aW9uc0hpZGRlbiA9IGNyZWF0ZUljb25EaXNhYmxlZChcIkNhcHRpb25zVmlzaWJsZVwiLCBjYXB0aW9uc0ljb24oKSk7XG5mdW5jdGlvbiBDYXB0aW9uc0J1dHRvbigpIHtcbiAgICBjb25zdCB7IHZpc2libGUsIHNob3csIGhpZGUgfSA9IHVzZUNhcHRpb25zKCk7XG4gICAgY29uc3QgeyByZW5kZXIgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBpZiAocmVuZGVyLmJ1dHRvbkNhcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCByZW5kZXIuYnV0dG9uQ2FwdGlvbnMoeyB2aXNpYmxlLCBzaG93LCBoaWRlIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgbGFiZWw6IHZpc2libGUgPyBcIkhpZGUgY2FwdGlvbnNcIiA6IFwiU2hvdyBjYXB0aW9uc1wiLCBpY29uOiB2aXNpYmxlID8gQ2FwdGlvbnNWaXNpYmxlIDogQ2FwdGlvbnNIaWRkZW4sIHJlbmRlckljb246IHZpc2libGUgPyByZW5kZXIuaWNvbkNhcHRpb25zVmlzaWJsZSA6IHJlbmRlci5pY29uQ2FwdGlvbnNIaWRkZW4sIG9uQ2xpY2s6IHZpc2libGUgPyBoaWRlIDogc2hvdyB9KSk7XG59XG5cbmZ1bmN0aW9uIENhcHRpb25zKHsgYXVnbWVudCwgYWRkTW9kdWxlIH0pIHtcbiAgICBhdWdtZW50KCh7IGNhcHRpb25zOiBjYXB0aW9uc1Byb3BzLCByZW5kZXI6IHsgc2xpZGVGb290ZXI6IHJlbmRlckZvb3RlciwgLi4ucmVzdFJlbmRlciB9LCB0b29sYmFyLCAuLi5yZXN0UHJvcHMgfSkgPT4ge1xuICAgICAgICBjb25zdCBjYXB0aW9ucyA9IHJlc29sdmVDYXB0aW9uc1Byb3BzKGNhcHRpb25zUHJvcHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVuZGVyOiB7XG4gICAgICAgICAgICAgICAgc2xpZGVGb290ZXI6ICh7IHNsaWRlIH0pID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCByZW5kZXJGb290ZXIgPT09IG51bGwgfHwgcmVuZGVyRm9vdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOlxuICAgICAgICAgICAgICAgICAgICByZW5kZXJGb290ZXIoeyBzbGlkZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUudGl0bGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChUaXRsZSwgeyB0aXRsZTogc2xpZGUudGl0bGUgfSksXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlLmRlc2NyaXB0aW9uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRGVzY3JpcHRpb24sIHsgZGVzY3JpcHRpb246IHNsaWRlLmRlc2NyaXB0aW9uIH0pKSksXG4gICAgICAgICAgICAgICAgLi4ucmVzdFJlbmRlcixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sYmFyOiBhZGRUb29sYmFyQnV0dG9uKHRvb2xiYXIsIFBMVUdJTl9DQVBUSU9OUywgY2FwdGlvbnMuc2hvd1RvZ2dsZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ2FwdGlvbnNCdXR0b24sIG51bGwpIDogbnVsbCksXG4gICAgICAgICAgICBjYXB0aW9ucyxcbiAgICAgICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBhZGRNb2R1bGUoY3JlYXRlTW9kdWxlKFBMVUdJTl9DQVBUSU9OUywgQ2FwdGlvbnNDb250ZXh0UHJvdmlkZXIpKTtcbn1cblxuZXhwb3J0IHsgQ2FwdGlvbnMgYXMgZGVmYXVsdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/captions/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Fullscreen)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultFullscreenProps = {\n    auto: false,\n    ref: null,\n};\nconst resolveFullscreenProps = (fullscreen) => ({\n    ...defaultFullscreenProps,\n    ...fullscreen,\n});\n\nconst FullscreenContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useFullscreen\", \"FullscreenContext\", FullscreenContext);\nfunction FullscreenContextProvider({ fullscreen: fullscreenProps, on, children }) {\n    const { auto, ref } = resolveFullscreenProps(fullscreenProps);\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const [disabled, setDisabled] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const [fullscreen, setFullscreen] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n    const wasFullscreen = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        var _a, _b, _c, _d;\n        setDisabled(!((_d = (_c = (_b = (_a = document.fullscreenEnabled) !== null && _a !== void 0 ? _a : document.webkitFullscreenEnabled) !== null && _b !== void 0 ? _b : document.mozFullScreenEnabled) !== null && _c !== void 0 ? _c : document.msFullscreenEnabled) !== null && _d !== void 0 ? _d : false));\n    }, []);\n    const getFullscreenElement = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        var _a, _b, _c;\n        return (_c = (_b = (_a = document.fullscreenElement) !== null && _a !== void 0 ? _a : document.webkitFullscreenElement) !== null && _b !== void 0 ? _b : document.mozFullScreenElement) !== null && _c !== void 0 ? _c : document.msFullscreenElement;\n    }, []);\n    const enter = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        const container = containerRef.current;\n        if (container) {\n            try {\n                if (container.requestFullscreen) {\n                    container.requestFullscreen().catch(() => { });\n                }\n                else if (container.webkitRequestFullscreen) {\n                    container.webkitRequestFullscreen();\n                }\n                else if (container.mozRequestFullScreen) {\n                    container.mozRequestFullScreen();\n                }\n                else if (container.msRequestFullscreen) {\n                    container.msRequestFullscreen();\n                }\n            }\n            catch (err) {\n            }\n        }\n    }, []);\n    const exit = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (getFullscreenElement()) {\n            try {\n                if (document.exitFullscreen) {\n                    document.exitFullscreen().catch(() => { });\n                }\n                else if (document.webkitExitFullscreen) {\n                    document.webkitExitFullscreen();\n                }\n                else if (document.mozCancelFullScreen) {\n                    document.mozCancelFullScreen();\n                }\n                else if (document.msExitFullscreen) {\n                    document.msExitFullscreen();\n                }\n            }\n            catch (err) {\n            }\n        }\n    }, [getFullscreenElement]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        const events = [\"fullscreenchange\", \"webkitfullscreenchange\", \"mozfullscreenchange\", \"MSFullscreenChange\"];\n        const fullscreenChangeListener = () => {\n            setFullscreen(getFullscreenElement() === containerRef.current);\n        };\n        events.forEach((event) => {\n            document.addEventListener(event, fullscreenChangeListener);\n        });\n        return () => {\n            events.forEach((event) => {\n                document.removeEventListener(event, fullscreenChangeListener);\n            });\n        };\n    }, [getFullscreenElement]);\n    const onEnterFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.enterFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onExitFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.exitFullscreen) === null || _a === void 0 ? void 0 : _a.call(on); });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (fullscreen) {\n            wasFullscreen.current = true;\n        }\n        if (wasFullscreen.current) {\n            (fullscreen ? onEnterFullscreen : onExitFullscreen)();\n        }\n    }, [fullscreen, onEnterFullscreen, onExitFullscreen]);\n    const handleAutoFullscreen = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = (auto ? enter : null)) === null || _a === void 0 ? void 0 : _a(); });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        handleAutoFullscreen();\n        return () => exit();\n    }, [handleAutoFullscreen, exit]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n        fullscreen,\n        disabled,\n        enter,\n        exit,\n    }), [fullscreen, disabled, enter, exit]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: containerRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE)) },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(FullscreenContext.Provider, { value: context }, children)));\n}\n\nconst EnterFullscreenIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"EnterFullscreen\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\" }));\nconst ExitFullscreenIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ExitFullscreen\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\" }));\nfunction FullscreenButton() {\n    var _a;\n    const { fullscreen, disabled, enter, exit } = useFullscreen();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    if (disabled)\n        return null;\n    if (render.buttonFullscreen) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (_a = render.buttonFullscreen) === null || _a === void 0 ? void 0 : _a.call(render, { fullscreen, disabled, enter, exit }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { disabled: disabled, label: fullscreen ? \"Exit Fullscreen\" : \"Enter Fullscreen\", icon: fullscreen ? ExitFullscreenIcon : EnterFullscreenIcon, renderIcon: fullscreen ? render.iconExitFullscreen : render.iconEnterFullscreen, onClick: fullscreen ? exit : enter }));\n}\n\nfunction Fullscreen({ augment, contains, addParent }) {\n    augment(({ fullscreen, toolbar, ...restProps }) => ({\n        toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, react__WEBPACK_IMPORTED_MODULE_0__.createElement(FullscreenButton, null)),\n        fullscreen: resolveFullscreenProps(fullscreen),\n        ...restProps,\n    }));\n    addParent(contains(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS) ? _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS : _types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, FullscreenContextProvider));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL2Z1bGxzY3JlZW4vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE2SztBQUM5STtBQUMwRTs7QUFFekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVELDBCQUEwQixnREFBbUI7QUFDN0Msc0JBQXNCLHlEQUFjO0FBQ3BDLHFDQUFxQywyQ0FBMkM7QUFDaEYsWUFBWSxZQUFZO0FBQ3hCLHlCQUF5Qix5Q0FBWTtBQUNyQyxvQ0FBb0MsMkNBQWM7QUFDbEQsd0NBQXdDLDJDQUFjO0FBQ3RELDBCQUEwQix5Q0FBWTtBQUN0QyxJQUFJLDBEQUFlO0FBQ25CO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsaUNBQWlDLDhDQUFpQjtBQUNsRDtBQUNBO0FBQ0EsS0FBSztBQUNMLGtCQUFrQiw4Q0FBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxpQkFBaUIsOENBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RDtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksNENBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTCw4QkFBOEIsMkRBQWdCLFNBQVMsUUFBUSxvRkFBb0Y7QUFDbkosNkJBQTZCLDJEQUFnQixTQUFTLFFBQVEsbUZBQW1GO0FBQ2pKLElBQUksNENBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlDQUFpQywyREFBZ0IsU0FBUyxRQUFRLGdGQUFnRjtBQUNsSixJQUFJLDRDQUFlO0FBQ25CO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsb0JBQW9CLDBDQUFhO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksc0RBQXlCO0FBQzdCLFlBQVksZ0RBQW1CLFVBQVUsOEJBQThCLCtDQUFJLENBQUMsbURBQVEsQ0FBQyx3REFBaUIsR0FBRyxtREFBUSxDQUFDLHFEQUFjLElBQUk7QUFDcEksUUFBUSxnREFBbUIsK0JBQStCLGdCQUFnQjtBQUMxRTs7QUFFQSw0QkFBNEIscURBQVUsb0JBQW9CLGdEQUFtQixXQUFXLHFGQUFxRjtBQUM3SywyQkFBMkIscURBQVUsbUJBQW1CLGdEQUFtQixXQUFXLG9GQUFvRjtBQUMxSztBQUNBO0FBQ0EsWUFBWSxvQ0FBb0M7QUFDaEQsWUFBWSxTQUFTLEVBQUUsMkRBQWdCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQW1CLENBQUMsMkNBQWMsOEZBQThGLG1DQUFtQztBQUNsTDtBQUNBLFlBQVksZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxrUUFBa1E7QUFDaFQ7O0FBRUEsc0JBQXNCLDhCQUE4QjtBQUNwRCxlQUFlLG1DQUFtQztBQUNsRCxpQkFBaUIsMkRBQWdCLFVBQVUsd0RBQWlCLEVBQUUsZ0RBQW1CO0FBQ2pGO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLHdEQUFpQixJQUFJLHdEQUFpQixHQUFHLHdEQUFpQixFQUFFLHVEQUFZLENBQUMsd0RBQWlCO0FBQ2pIOztBQUVpQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Nob2Utc2hvcC8uL25vZGVfbW9kdWxlcy95ZXQtYW5vdGhlci1yZWFjdC1saWdodGJveC9kaXN0L3BsdWdpbnMvZnVsbHNjcmVlbi9pbmRleC5qcz81NmJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1ha2VVc2VDb250ZXh0LCB1c2VMYXlvdXRFZmZlY3QsIHVzZUV2ZW50Q2FsbGJhY2ssIGNsc3gsIGNzc0NsYXNzLCBjcmVhdGVJY29uLCB1c2VMaWdodGJveFByb3BzLCBJY29uQnV0dG9uLCBhZGRUb29sYmFyQnV0dG9uLCBjcmVhdGVNb2R1bGUgfSBmcm9tICcuLi8uLi9pbmRleC5qcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBQTFVHSU5fRlVMTFNDUkVFTiwgQ0xBU1NfRlVMTFNJWkUsIFBMVUdJTl9USFVNQk5BSUxTLCBNT0RVTEVfQ09OVFJPTExFUiB9IGZyb20gJy4uLy4uL3R5cGVzLmpzJztcblxuY29uc3QgZGVmYXVsdEZ1bGxzY3JlZW5Qcm9wcyA9IHtcbiAgICBhdXRvOiBmYWxzZSxcbiAgICByZWY6IG51bGwsXG59O1xuY29uc3QgcmVzb2x2ZUZ1bGxzY3JlZW5Qcm9wcyA9IChmdWxsc2NyZWVuKSA9PiAoe1xuICAgIC4uLmRlZmF1bHRGdWxsc2NyZWVuUHJvcHMsXG4gICAgLi4uZnVsbHNjcmVlbixcbn0pO1xuXG5jb25zdCBGdWxsc2NyZWVuQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VGdWxsc2NyZWVuID0gbWFrZVVzZUNvbnRleHQoXCJ1c2VGdWxsc2NyZWVuXCIsIFwiRnVsbHNjcmVlbkNvbnRleHRcIiwgRnVsbHNjcmVlbkNvbnRleHQpO1xuZnVuY3Rpb24gRnVsbHNjcmVlbkNvbnRleHRQcm92aWRlcih7IGZ1bGxzY3JlZW46IGZ1bGxzY3JlZW5Qcm9wcywgb24sIGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCB7IGF1dG8sIHJlZiB9ID0gcmVzb2x2ZUZ1bGxzY3JlZW5Qcm9wcyhmdWxsc2NyZWVuUHJvcHMpO1xuICAgIGNvbnN0IGNvbnRhaW5lclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICBjb25zdCBbZGlzYWJsZWQsIHNldERpc2FibGVkXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgY29uc3QgW2Z1bGxzY3JlZW4sIHNldEZ1bGxzY3JlZW5dID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHdhc0Z1bGxzY3JlZW4gPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgc2V0RGlzYWJsZWQoISgoX2QgPSAoX2MgPSAoX2IgPSAoX2EgPSBkb2N1bWVudC5mdWxsc2NyZWVuRW5hYmxlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbmFibGVkKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbmFibGVkKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBmYWxzZSkpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBnZXRGdWxsc2NyZWVuRWxlbWVudCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHJldHVybiAoX2MgPSAoX2IgPSAoX2EgPSBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50KSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50O1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBlbnRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gY29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4oKS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRhaW5lci5tb3pSZXF1ZXN0RnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgY29uc3QgZXhpdCA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKGdldEZ1bGxzY3JlZW5FbGVtZW50KCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCkuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQud2Via2l0RXhpdEZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbikge1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5tb3pDYW5jZWxGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtnZXRGdWxsc2NyZWVuRWxlbWVudF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGV2ZW50cyA9IFtcImZ1bGxzY3JlZW5jaGFuZ2VcIiwgXCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIsIFwibW96ZnVsbHNjcmVlbmNoYW5nZVwiLCBcIk1TRnVsbHNjcmVlbkNoYW5nZVwiXTtcbiAgICAgICAgY29uc3QgZnVsbHNjcmVlbkNoYW5nZUxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgc2V0RnVsbHNjcmVlbihnZXRGdWxsc2NyZWVuRWxlbWVudCgpID09PSBjb250YWluZXJSZWYuY3VycmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIGV2ZW50cy5mb3JFYWNoKChldmVudCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZnVsbHNjcmVlbkNoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBmdWxsc2NyZWVuQ2hhbmdlTGlzdGVuZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSwgW2dldEZ1bGxzY3JlZW5FbGVtZW50XSk7XG4gICAgY29uc3Qgb25FbnRlckZ1bGxzY3JlZW4gPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gb24uZW50ZXJGdWxsc2NyZWVuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChvbik7IH0pO1xuICAgIGNvbnN0IG9uRXhpdEZ1bGxzY3JlZW4gPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gb24uZXhpdEZ1bGxzY3JlZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTsgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIHdhc0Z1bGxzY3JlZW4uY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhc0Z1bGxzY3JlZW4uY3VycmVudCkge1xuICAgICAgICAgICAgKGZ1bGxzY3JlZW4gPyBvbkVudGVyRnVsbHNjcmVlbiA6IG9uRXhpdEZ1bGxzY3JlZW4pKCk7XG4gICAgICAgIH1cbiAgICB9LCBbZnVsbHNjcmVlbiwgb25FbnRlckZ1bGxzY3JlZW4sIG9uRXhpdEZ1bGxzY3JlZW5dKTtcbiAgICBjb25zdCBoYW5kbGVBdXRvRnVsbHNjcmVlbiA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSAoYXV0byA/IGVudGVyIDogbnVsbCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYSgpOyB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBoYW5kbGVBdXRvRnVsbHNjcmVlbigpO1xuICAgICAgICByZXR1cm4gKCkgPT4gZXhpdCgpO1xuICAgIH0sIFtoYW5kbGVBdXRvRnVsbHNjcmVlbiwgZXhpdF0pO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIGZ1bGxzY3JlZW4sXG4gICAgICAgIGRpc2FibGVkLFxuICAgICAgICBlbnRlcixcbiAgICAgICAgZXhpdCxcbiAgICB9KSwgW2Z1bGxzY3JlZW4sIGRpc2FibGVkLCBlbnRlciwgZXhpdF0pO1xuICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiBjb250ZXh0LCBbY29udGV4dF0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogY29udGFpbmVyUmVmLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoUExVR0lOX0ZVTExTQ1JFRU4pLCBjc3NDbGFzcyhDTEFTU19GVUxMU0laRSkpIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRnVsbHNjcmVlbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgY2hpbGRyZW4pKSk7XG59XG5cbmNvbnN0IEVudGVyRnVsbHNjcmVlbkljb24gPSBjcmVhdGVJY29uKFwiRW50ZXJGdWxsc2NyZWVuXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNyAxNEg1djVoNXYtMkg3di0zem0tMi00aDJWN2gzVjVINXY1em0xMiA3aC0zdjJoNXYtNWgtMnYzek0xNCA1djJoM3YzaDJWNWgtNXpcIiB9KSk7XG5jb25zdCBFeGl0RnVsbHNjcmVlbkljb24gPSBjcmVhdGVJY29uKFwiRXhpdEZ1bGxzY3JlZW5cIiwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk01IDE2aDN2M2gydi01SDV2MnptMy04SDV2Mmg1VjVIOHYzem02IDExaDJ2LTNoM3YtMmgtNXY1em0yLTExVjVoLTJ2NWg1VjhoLTN6XCIgfSkpO1xuZnVuY3Rpb24gRnVsbHNjcmVlbkJ1dHRvbigpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgeyBmdWxsc2NyZWVuLCBkaXNhYmxlZCwgZW50ZXIsIGV4aXQgfSA9IHVzZUZ1bGxzY3JlZW4oKTtcbiAgICBjb25zdCB7IHJlbmRlciB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGlmIChkaXNhYmxlZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKHJlbmRlci5idXR0b25GdWxsc2NyZWVuKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAoX2EgPSByZW5kZXIuYnV0dG9uRnVsbHNjcmVlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwocmVuZGVyLCB7IGZ1bGxzY3JlZW4sIGRpc2FibGVkLCBlbnRlciwgZXhpdCB9KSk7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgbGFiZWw6IGZ1bGxzY3JlZW4gPyBcIkV4aXQgRnVsbHNjcmVlblwiIDogXCJFbnRlciBGdWxsc2NyZWVuXCIsIGljb246IGZ1bGxzY3JlZW4gPyBFeGl0RnVsbHNjcmVlbkljb24gOiBFbnRlckZ1bGxzY3JlZW5JY29uLCByZW5kZXJJY29uOiBmdWxsc2NyZWVuID8gcmVuZGVyLmljb25FeGl0RnVsbHNjcmVlbiA6IHJlbmRlci5pY29uRW50ZXJGdWxsc2NyZWVuLCBvbkNsaWNrOiBmdWxsc2NyZWVuID8gZXhpdCA6IGVudGVyIH0pKTtcbn1cblxuZnVuY3Rpb24gRnVsbHNjcmVlbih7IGF1Z21lbnQsIGNvbnRhaW5zLCBhZGRQYXJlbnQgfSkge1xuICAgIGF1Z21lbnQoKHsgZnVsbHNjcmVlbiwgdG9vbGJhciwgLi4ucmVzdFByb3BzIH0pID0+ICh7XG4gICAgICAgIHRvb2xiYXI6IGFkZFRvb2xiYXJCdXR0b24odG9vbGJhciwgUExVR0lOX0ZVTExTQ1JFRU4sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRnVsbHNjcmVlbkJ1dHRvbiwgbnVsbCkpLFxuICAgICAgICBmdWxsc2NyZWVuOiByZXNvbHZlRnVsbHNjcmVlblByb3BzKGZ1bGxzY3JlZW4pLFxuICAgICAgICAuLi5yZXN0UHJvcHMsXG4gICAgfSkpO1xuICAgIGFkZFBhcmVudChjb250YWlucyhQTFVHSU5fVEhVTUJOQUlMUykgPyBQTFVHSU5fVEhVTUJOQUlMUyA6IE1PRFVMRV9DT05UUk9MTEVSLCBjcmVhdGVNb2R1bGUoUExVR0lOX0ZVTExTQ1JFRU4sIEZ1bGxzY3JlZW5Db250ZXh0UHJvdmlkZXIpKTtcbn1cblxuZXhwb3J0IHsgRnVsbHNjcmVlbiBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/fullscreen/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Slideshow)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultSlideshowProps = {\n    autoplay: false,\n    delay: 3000,\n    ref: null,\n};\nconst resolveSlideshowProps = (slideshow) => ({\n    ...defaultSlideshowProps,\n    ...slideshow,\n});\n\nconst SlideshowContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useSlideshow = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useSlideshow\", \"SlideshowContext\", SlideshowContext);\nfunction SlideshowContextProvider({ slideshow, carousel: { finite }, on, children }) {\n    const { autoplay, delay, ref } = resolveSlideshowProps(slideshow);\n    const wasPlaying = react__WEBPACK_IMPORTED_MODULE_0__.useRef(autoplay);\n    const [playing, setPlaying] = react__WEBPACK_IMPORTED_MODULE_0__.useState(autoplay);\n    const scheduler = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const slideStatus = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { slides, currentIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { setTimeout, clearTimeout } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useTimeouts)();\n    const { subscribe } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEvents)();\n    const { next } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const disabled = slides.length === 0 || (finite && currentIndex === slides.length - 1);\n    const play = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (!playing && !disabled) {\n            setPlaying(true);\n        }\n    }, [playing, disabled]);\n    const pause = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        if (playing) {\n            setPlaying(false);\n        }\n    }, [playing]);\n    const cancelScheduler = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        clearTimeout(scheduler.current);\n        scheduler.current = undefined;\n    }, [clearTimeout]);\n    const scheduleNextSlide = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        cancelScheduler();\n        if (!playing ||\n            disabled ||\n            slideStatus.current === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING ||\n            slideStatus.current === _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING) {\n            return;\n        }\n        scheduler.current = setTimeout(() => {\n            if (playing) {\n                slideStatus.current = undefined;\n                next();\n            }\n        }, delay);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(scheduleNextSlide, [currentIndex, playing, scheduleNextSlide]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (playing && disabled) {\n            setPlaying(false);\n        }\n    }, [currentIndex, playing, disabled]);\n    const onSlideshowStart = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.slideshowStart) === null || _a === void 0 ? void 0 : _a.call(on); });\n    const onSlideshowStop = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => { var _a; return (_a = on.slideshowStop) === null || _a === void 0 ? void 0 : _a.call(on); });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (playing) {\n            onSlideshowStart();\n        }\n        else if (wasPlaying.current) {\n            onSlideshowStop();\n        }\n        wasPlaying.current = playing;\n    }, [playing, onSlideshowStart, onSlideshowStop]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(cancelScheduler, subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_LOADING, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_LOADING;\n        cancelScheduler();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_PLAYING, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_PLAYING;\n        cancelScheduler();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_ERROR, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_ERROR;\n        scheduleNextSlide();\n    }), subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_COMPLETE, () => {\n        slideStatus.current = _types_js__WEBPACK_IMPORTED_MODULE_2__.SLIDE_STATUS_COMPLETE;\n        scheduleNextSlide();\n    })), [subscribe, cancelScheduler, scheduleNextSlide]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ playing, disabled, play, pause }), [playing, disabled, play, pause]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(SlideshowContext.Provider, { value: context }, children);\n}\n\nconst PlayIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"Play\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M8 5v14l11-7z\" }));\nconst PauseIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"Pause\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" }));\nfunction SlideshowButton() {\n    const { playing, disabled, play, pause } = useSlideshow();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const focusListeners = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLoseFocus)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)().focus, disabled);\n    if (render.buttonSlideshow) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonSlideshow({ playing, disabled, play, pause }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { label: playing ? \"Pause\" : \"Play\", icon: playing ? PauseIcon : PlayIcon, renderIcon: playing ? render.iconSlideshowPause : render.iconSlideshowPlay, onClick: playing ? pause : play, disabled: disabled, ...focusListeners }));\n}\n\nfunction Slideshow({ augment, addModule }) {\n    augment(({ slideshow, toolbar, ...restProps }) => ({\n        toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW, react__WEBPACK_IMPORTED_MODULE_0__.createElement(SlideshowButton, null)),\n        slideshow: resolveSlideshowProps(slideshow),\n        ...restProps,\n    }));\n    addModule((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_SLIDESHOW, SlideshowContextProvider));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3NsaWRlc2hvdy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTROO0FBQzdMO0FBQ2lNOztBQUVoTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCx5QkFBeUIsZ0RBQW1CO0FBQzVDLHFCQUFxQix5REFBYztBQUNuQyxvQ0FBb0MsdUJBQXVCLFFBQVEsZ0JBQWdCO0FBQ25GLFlBQVksdUJBQXVCO0FBQ25DLHVCQUF1Qix5Q0FBWTtBQUNuQyxrQ0FBa0MsMkNBQWM7QUFDaEQsc0JBQXNCLHlDQUFZO0FBQ2xDLHdCQUF3Qix5Q0FBWTtBQUNwQyxZQUFZLHVCQUF1QixFQUFFLDJEQUFnQjtBQUNyRCxZQUFZLDJCQUEyQixFQUFFLHNEQUFXO0FBQ3BELFlBQVksWUFBWSxFQUFFLG9EQUFTO0FBQ25DLFlBQVksT0FBTyxFQUFFLHdEQUFhO0FBQ2xDO0FBQ0EsaUJBQWlCLDhDQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsa0JBQWtCLDhDQUFpQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsNEJBQTRCLDhDQUFpQjtBQUM3QztBQUNBO0FBQ0EsS0FBSztBQUNMLDhCQUE4QiwyREFBZ0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDJEQUFvQjtBQUN4RCxvQ0FBb0MsMkRBQW9CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCxJQUFJLDRDQUFlO0FBQ25CLElBQUksNENBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDZCQUE2QiwyREFBZ0IsU0FBUyxRQUFRLG1GQUFtRjtBQUNqSiw0QkFBNEIsMkRBQWdCLFNBQVMsUUFBUSxrRkFBa0Y7QUFDL0ksSUFBSSw0Q0FBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDRDQUFlLE9BQU8sa0RBQU8sNEJBQTRCLDJEQUFvQjtBQUNqRiw4QkFBOEIsMkRBQW9CO0FBQ2xEO0FBQ0EsS0FBSyxhQUFhLDJEQUFvQjtBQUN0Qyw4QkFBOEIsMkRBQW9CO0FBQ2xEO0FBQ0EsS0FBSyxhQUFhLHlEQUFrQjtBQUNwQyw4QkFBOEIseURBQWtCO0FBQ2hEO0FBQ0EsS0FBSyxhQUFhLDREQUFxQjtBQUN2Qyw4QkFBOEIsNERBQXFCO0FBQ25EO0FBQ0EsS0FBSztBQUNMLG9CQUFvQiwwQ0FBYSxVQUFVLGdDQUFnQztBQUMzRSxJQUFJLHNEQUF5QjtBQUM3QixXQUFXLGdEQUFtQiw4QkFBOEIsZ0JBQWdCO0FBQzVFOztBQUVBLGlCQUFpQixxREFBVSxTQUFTLGdEQUFtQixXQUFXLG9CQUFvQjtBQUN0RixrQkFBa0IscURBQVUsVUFBVSxnREFBbUIsV0FBVyxzQ0FBc0M7QUFDMUc7QUFDQSxZQUFZLGlDQUFpQztBQUM3QyxZQUFZLFNBQVMsRUFBRSwyREFBZ0I7QUFDdkMsMkJBQTJCLHVEQUFZLENBQUMsd0RBQWE7QUFDckQ7QUFDQSxlQUFlLGdEQUFtQixDQUFDLDJDQUFjLGlDQUFpQyxnQ0FBZ0M7QUFDbEg7QUFDQSxZQUFZLGdEQUFtQixDQUFDLGlEQUFVLElBQUksNk5BQTZOO0FBQzNROztBQUVBLHFCQUFxQixvQkFBb0I7QUFDekMsZUFBZSxrQ0FBa0M7QUFDakQsaUJBQWlCLDJEQUFnQixVQUFVLHVEQUFnQixFQUFFLGdEQUFtQjtBQUNoRjtBQUNBO0FBQ0EsS0FBSztBQUNMLGNBQWMsdURBQVksQ0FBQyx1REFBZ0I7QUFDM0M7O0FBRWdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hvZS1zaG9wLy4vbm9kZV9tb2R1bGVzL3lldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94L2Rpc3QvcGx1Z2lucy9zbGlkZXNob3cvaW5kZXguanM/NDJjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYWtlVXNlQ29udGV4dCwgdXNlTGlnaHRib3hTdGF0ZSwgdXNlVGltZW91dHMsIHVzZUV2ZW50cywgdXNlQ29udHJvbGxlciwgdXNlRXZlbnRDYWxsYmFjaywgY2xlYW51cCwgY3JlYXRlSWNvbiwgdXNlTGlnaHRib3hQcm9wcywgdXNlTG9zZUZvY3VzLCBJY29uQnV0dG9uLCBhZGRUb29sYmFyQnV0dG9uLCBjcmVhdGVNb2R1bGUgfSBmcm9tICcuLi8uLi9pbmRleC5qcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBTTElERV9TVEFUVVNfTE9BRElORywgU0xJREVfU1RBVFVTX1BMQVlJTkcsIEFDVElWRV9TTElERV9MT0FESU5HLCBBQ1RJVkVfU0xJREVfUExBWUlORywgQUNUSVZFX1NMSURFX0VSUk9SLCBTTElERV9TVEFUVVNfRVJST1IsIEFDVElWRV9TTElERV9DT01QTEVURSwgU0xJREVfU1RBVFVTX0NPTVBMRVRFLCBQTFVHSU5fU0xJREVTSE9XIH0gZnJvbSAnLi4vLi4vdHlwZXMuanMnO1xuXG5jb25zdCBkZWZhdWx0U2xpZGVzaG93UHJvcHMgPSB7XG4gICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgIGRlbGF5OiAzMDAwLFxuICAgIHJlZjogbnVsbCxcbn07XG5jb25zdCByZXNvbHZlU2xpZGVzaG93UHJvcHMgPSAoc2xpZGVzaG93KSA9PiAoe1xuICAgIC4uLmRlZmF1bHRTbGlkZXNob3dQcm9wcyxcbiAgICAuLi5zbGlkZXNob3csXG59KTtcblxuY29uc3QgU2xpZGVzaG93Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2VTbGlkZXNob3cgPSBtYWtlVXNlQ29udGV4dChcInVzZVNsaWRlc2hvd1wiLCBcIlNsaWRlc2hvd0NvbnRleHRcIiwgU2xpZGVzaG93Q29udGV4dCk7XG5mdW5jdGlvbiBTbGlkZXNob3dDb250ZXh0UHJvdmlkZXIoeyBzbGlkZXNob3csIGNhcm91c2VsOiB7IGZpbml0ZSB9LCBvbiwgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IHsgYXV0b3BsYXksIGRlbGF5LCByZWYgfSA9IHJlc29sdmVTbGlkZXNob3dQcm9wcyhzbGlkZXNob3cpO1xuICAgIGNvbnN0IHdhc1BsYXlpbmcgPSBSZWFjdC51c2VSZWYoYXV0b3BsYXkpO1xuICAgIGNvbnN0IFtwbGF5aW5nLCBzZXRQbGF5aW5nXSA9IFJlYWN0LnVzZVN0YXRlKGF1dG9wbGF5KTtcbiAgICBjb25zdCBzY2hlZHVsZXIgPSBSZWFjdC51c2VSZWYoKTtcbiAgICBjb25zdCBzbGlkZVN0YXR1cyA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHsgc2xpZGVzLCBjdXJyZW50SW5kZXggfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCB7IHNldFRpbWVvdXQsIGNsZWFyVGltZW91dCB9ID0gdXNlVGltZW91dHMoKTtcbiAgICBjb25zdCB7IHN1YnNjcmliZSB9ID0gdXNlRXZlbnRzKCk7XG4gICAgY29uc3QgeyBuZXh0IH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgZGlzYWJsZWQgPSBzbGlkZXMubGVuZ3RoID09PSAwIHx8IChmaW5pdGUgJiYgY3VycmVudEluZGV4ID09PSBzbGlkZXMubGVuZ3RoIC0gMSk7XG4gICAgY29uc3QgcGxheSA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKCFwbGF5aW5nICYmICFkaXNhYmxlZCkge1xuICAgICAgICAgICAgc2V0UGxheWluZyh0cnVlKTtcbiAgICAgICAgfVxuICAgIH0sIFtwbGF5aW5nLCBkaXNhYmxlZF0pO1xuICAgIGNvbnN0IHBhdXNlID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAocGxheWluZykge1xuICAgICAgICAgICAgc2V0UGxheWluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCBbcGxheWluZ10pO1xuICAgIGNvbnN0IGNhbmNlbFNjaGVkdWxlciA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHNjaGVkdWxlci5jdXJyZW50KTtcbiAgICAgICAgc2NoZWR1bGVyLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgfSwgW2NsZWFyVGltZW91dF0pO1xuICAgIGNvbnN0IHNjaGVkdWxlTmV4dFNsaWRlID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNhbmNlbFNjaGVkdWxlcigpO1xuICAgICAgICBpZiAoIXBsYXlpbmcgfHxcbiAgICAgICAgICAgIGRpc2FibGVkIHx8XG4gICAgICAgICAgICBzbGlkZVN0YXR1cy5jdXJyZW50ID09PSBTTElERV9TVEFUVVNfTE9BRElORyB8fFxuICAgICAgICAgICAgc2xpZGVTdGF0dXMuY3VycmVudCA9PT0gU0xJREVfU1RBVFVTX1BMQVlJTkcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZXIuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHBsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICBzbGlkZVN0YXR1cy5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZGVsYXkpO1xuICAgIH0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChzY2hlZHVsZU5leHRTbGlkZSwgW2N1cnJlbnRJbmRleCwgcGxheWluZywgc2NoZWR1bGVOZXh0U2xpZGVdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocGxheWluZyAmJiBkaXNhYmxlZCkge1xuICAgICAgICAgICAgc2V0UGxheWluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCBbY3VycmVudEluZGV4LCBwbGF5aW5nLCBkaXNhYmxlZF0pO1xuICAgIGNvbnN0IG9uU2xpZGVzaG93U3RhcnQgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gb24uc2xpZGVzaG93U3RhcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTsgfSk7XG4gICAgY29uc3Qgb25TbGlkZXNob3dTdG9wID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IG9uLnNsaWRlc2hvd1N0b3ApID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uKTsgfSk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHBsYXlpbmcpIHtcbiAgICAgICAgICAgIG9uU2xpZGVzaG93U3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh3YXNQbGF5aW5nLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIG9uU2xpZGVzaG93U3RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHdhc1BsYXlpbmcuY3VycmVudCA9IHBsYXlpbmc7XG4gICAgfSwgW3BsYXlpbmcsIG9uU2xpZGVzaG93U3RhcnQsIG9uU2xpZGVzaG93U3RvcF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiBjbGVhbnVwKGNhbmNlbFNjaGVkdWxlciwgc3Vic2NyaWJlKEFDVElWRV9TTElERV9MT0FESU5HLCAoKSA9PiB7XG4gICAgICAgIHNsaWRlU3RhdHVzLmN1cnJlbnQgPSBTTElERV9TVEFUVVNfTE9BRElORztcbiAgICAgICAgY2FuY2VsU2NoZWR1bGVyKCk7XG4gICAgfSksIHN1YnNjcmliZShBQ1RJVkVfU0xJREVfUExBWUlORywgKCkgPT4ge1xuICAgICAgICBzbGlkZVN0YXR1cy5jdXJyZW50ID0gU0xJREVfU1RBVFVTX1BMQVlJTkc7XG4gICAgICAgIGNhbmNlbFNjaGVkdWxlcigpO1xuICAgIH0pLCBzdWJzY3JpYmUoQUNUSVZFX1NMSURFX0VSUk9SLCAoKSA9PiB7XG4gICAgICAgIHNsaWRlU3RhdHVzLmN1cnJlbnQgPSBTTElERV9TVEFUVVNfRVJST1I7XG4gICAgICAgIHNjaGVkdWxlTmV4dFNsaWRlKCk7XG4gICAgfSksIHN1YnNjcmliZShBQ1RJVkVfU0xJREVfQ09NUExFVEUsICgpID0+IHtcbiAgICAgICAgc2xpZGVTdGF0dXMuY3VycmVudCA9IFNMSURFX1NUQVRVU19DT01QTEVURTtcbiAgICAgICAgc2NoZWR1bGVOZXh0U2xpZGUoKTtcbiAgICB9KSksIFtzdWJzY3JpYmUsIGNhbmNlbFNjaGVkdWxlciwgc2NoZWR1bGVOZXh0U2xpZGVdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyBwbGF5aW5nLCBkaXNhYmxlZCwgcGxheSwgcGF1c2UgfSksIFtwbGF5aW5nLCBkaXNhYmxlZCwgcGxheSwgcGF1c2VdKTtcbiAgICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiwgKCkgPT4gY29udGV4dCwgW2NvbnRleHRdKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTbGlkZXNob3dDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgUGxheUljb24gPSBjcmVhdGVJY29uKFwiUGxheVwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTggNXYxNGwxMS03elwiIH0pKTtcbmNvbnN0IFBhdXNlSWNvbiA9IGNyZWF0ZUljb24oXCJQYXVzZVwiLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTYgMTloNFY1SDZ2MTR6bTgtMTR2MTRoNFY1aC00elwiIH0pKTtcbmZ1bmN0aW9uIFNsaWRlc2hvd0J1dHRvbigpIHtcbiAgICBjb25zdCB7IHBsYXlpbmcsIGRpc2FibGVkLCBwbGF5LCBwYXVzZSB9ID0gdXNlU2xpZGVzaG93KCk7XG4gICAgY29uc3QgeyByZW5kZXIgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCBmb2N1c0xpc3RlbmVycyA9IHVzZUxvc2VGb2N1cyh1c2VDb250cm9sbGVyKCkuZm9jdXMsIGRpc2FibGVkKTtcbiAgICBpZiAocmVuZGVyLmJ1dHRvblNsaWRlc2hvdykge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgcmVuZGVyLmJ1dHRvblNsaWRlc2hvdyh7IHBsYXlpbmcsIGRpc2FibGVkLCBwbGF5LCBwYXVzZSB9KSk7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IGxhYmVsOiBwbGF5aW5nID8gXCJQYXVzZVwiIDogXCJQbGF5XCIsIGljb246IHBsYXlpbmcgPyBQYXVzZUljb24gOiBQbGF5SWNvbiwgcmVuZGVySWNvbjogcGxheWluZyA/IHJlbmRlci5pY29uU2xpZGVzaG93UGF1c2UgOiByZW5kZXIuaWNvblNsaWRlc2hvd1BsYXksIG9uQ2xpY2s6IHBsYXlpbmcgPyBwYXVzZSA6IHBsYXksIGRpc2FibGVkOiBkaXNhYmxlZCwgLi4uZm9jdXNMaXN0ZW5lcnMgfSkpO1xufVxuXG5mdW5jdGlvbiBTbGlkZXNob3coeyBhdWdtZW50LCBhZGRNb2R1bGUgfSkge1xuICAgIGF1Z21lbnQoKHsgc2xpZGVzaG93LCB0b29sYmFyLCAuLi5yZXN0UHJvcHMgfSkgPT4gKHtcbiAgICAgICAgdG9vbGJhcjogYWRkVG9vbGJhckJ1dHRvbih0b29sYmFyLCBQTFVHSU5fU0xJREVTSE9XLCBSZWFjdC5jcmVhdGVFbGVtZW50KFNsaWRlc2hvd0J1dHRvbiwgbnVsbCkpLFxuICAgICAgICBzbGlkZXNob3c6IHJlc29sdmVTbGlkZXNob3dQcm9wcyhzbGlkZXNob3cpLFxuICAgICAgICAuLi5yZXN0UHJvcHMsXG4gICAgfSkpO1xuICAgIGFkZE1vZHVsZShjcmVhdGVNb2R1bGUoUExVR0lOX1NMSURFU0hPVywgU2xpZGVzaG93Q29udGV4dFByb3ZpZGVyKSk7XG59XG5cbmV4cG9ydCB7IFNsaWRlc2hvdyBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/slideshow/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Thumbnails)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultThumbnailsProps = {\n    ref: null,\n    position: \"bottom\",\n    width: 120,\n    height: 80,\n    border: 1,\n    borderRadius: 4,\n    padding: 4,\n    gap: 16,\n    imageFit: \"contain\",\n    vignette: true,\n};\nconst resolveThumbnailsProps = (thumbnails) => ({\n    ...defaultThumbnailsProps,\n    ...thumbnails,\n});\nfunction useThumbnailsProps() {\n    const { thumbnails } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    return resolveThumbnailsProps(thumbnails);\n}\n\nconst cssPrefix = (value) => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.composePrefix)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, value);\nconst cssThumbnailPrefix = (value) => cssPrefix((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.composePrefix)(\"thumbnail\", value));\n\nconst VideoThumbnailIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"VideoThumbnail\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" }));\nconst UnknownThumbnailIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"UnknownThumbnail\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z\" }));\nfunction renderThumbnail({ slide, render, rect, imageFit }) {\n    var _a;\n    const customThumbnail = (_a = render.thumbnail) === null || _a === void 0 ? void 0 : _a.call(render, { slide, render, rect, imageFit });\n    if (customThumbnail) {\n        return customThumbnail;\n    }\n    const thumbnailIconClass = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(_types_js__WEBPACK_IMPORTED_MODULE_2__.ELEMENT_ICON));\n    if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { slide: slide, render: render, rect: rect, imageFit: imageFit });\n    }\n    if (slide.type === \"video\") {\n        return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n            slide.poster && react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { slide: { src: slide.poster }, render: render, rect: rect, imageFit: imageFit }),\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(VideoThumbnailIcon, { className: thumbnailIconClass })));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(UnknownThumbnailIcon, { className: thumbnailIconClass });\n}\nconst activePrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"active\");\nconst fadeInPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"fadein\");\nconst fadeOutPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"fadeout\");\nconst placeholderPrefix = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeComposePrefix)(\"placeholder\");\nconst DELAY = \"delay\";\nconst DURATION = \"duration\";\nfunction Thumbnail({ slide, onClick, active, fadeIn, fadeOut, placeholder, onLoseFocus }) {\n    const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { render, styles } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { width, height, imageFit } = useThumbnailsProps();\n    const rect = { width, height };\n    const onLoseFocusCallback = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(onLoseFocus);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (fadeOut && document.activeElement === ref.current) {\n            onLoseFocusCallback();\n        }\n    }, [fadeOut, onLoseFocusCallback]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", { ref: ref, type: \"button\", className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix()), active && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(activePrefix())), fadeIn && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(fadeInPrefix())), fadeOut && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(fadeOutPrefix())), placeholder && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssThumbnailPrefix(placeholderPrefix()))), style: {\n            ...(fadeIn\n                ? {\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeInPrefix(DURATION)))]: `${fadeIn.duration}ms`,\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeInPrefix(DELAY)))]: `${fadeIn.delay}ms`,\n                }\n                : null),\n            ...(fadeOut\n                ? {\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeOutPrefix(DURATION)))]: `${fadeOut.duration}ms`,\n                    [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(fadeOutPrefix(DELAY)))]: `${fadeOut.delay}ms`,\n                }\n                : null),\n            ...styles.thumbnail,\n        }, onClick: onClick }, slide && renderThumbnail({ slide, render, rect, imageFit })));\n}\n\nfunction isHorizontal(position) {\n    return [\"top\", \"bottom\"].includes(position);\n}\nfunction boxSize(thumbnails, dimension) {\n    return dimension + 2 * (thumbnails.border + thumbnails.padding) + thumbnails.gap;\n}\nfunction ThumbnailsTrack({ visible, containerRef }) {\n    const track = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const isRTL = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useRTL)();\n    const { publish, subscribe } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEvents)();\n    const { carousel, styles } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { slides, globalIndex, animation } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { registerSensors, subscribeSensors } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useSensors)();\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useKeyboardNavigation)(subscribeSensors);\n    const thumbnails = useThumbnailsProps();\n    const { position, width, height, border, borderStyle, borderColor, borderRadius, padding, gap, vignette } = thumbnails;\n    const index = globalIndex;\n    const animationDuration = (animation === null || animation === void 0 ? void 0 : animation.duration) || 0;\n    const offset = (animationDuration > 0 && (animation === null || animation === void 0 ? void 0 : animation.increment)) || 0;\n    const { prepareAnimation } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useAnimation)(track, (snapshot) => ({\n        keyframes: isHorizontal(position)\n            ? [\n                {\n                    transform: `translateX(${(isRTL ? -1 : 1) * boxSize(thumbnails, width) * offset + snapshot}px)`,\n                },\n                { transform: \"translateX(0)\" },\n            ]\n            : [\n                {\n                    transform: `translateY(${boxSize(thumbnails, height) * offset + snapshot}px)`,\n                },\n                { transform: \"translateY(0)\" },\n            ],\n        duration: animationDuration,\n        easing: animation === null || animation === void 0 ? void 0 : animation.easing,\n    }));\n    const handleControllerSwipe = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        let animationOffset = 0;\n        if (containerRef.current && track.current) {\n            const containerRect = containerRef.current.getBoundingClientRect();\n            const trackRect = track.current.getBoundingClientRect();\n            animationOffset = isHorizontal(position)\n                ? trackRect.left - containerRect.left - (containerRect.width - trackRect.width) / 2\n                : trackRect.top - containerRect.top - (containerRect.height - trackRect.height) / 2;\n        }\n        prepareAnimation(animationOffset);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(subscribe(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_SWIPE, handleControllerSwipe)), [subscribe, handleControllerSwipe]);\n    const preload = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.calculatePreload)(carousel, slides);\n    const items = [];\n    if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.hasSlides)(slides)) {\n        if (offset < 0) {\n            for (let i = index - preload + offset; i < index - preload; i += 1) {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        for (let i = index - preload - Math.max(offset, 0); i < index; i += 1) {\n            if (!(carousel.finite && i < 0)) {\n                items.push({ slide: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getSlide)(slides, i), index: i });\n            }\n            else {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        items.push({ slide: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getSlide)(slides, index), index });\n        for (let i = index + 1; i <= index + preload - Math.min(offset, 0); i += 1) {\n            if (!carousel.finite || i <= slides.length - 1) {\n                items.push({ slide: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.getSlide)(slides, i), index: i });\n            }\n            else {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n        if (offset > 0) {\n            for (let i = index + preload + 1; i <= index + preload + offset; i += 1) {\n                items.push({ slide: null, index: i, placeholder: true });\n            }\n        }\n    }\n    const handleClick = (slideIndex) => () => {\n        if (slideIndex > index) {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_NEXT, { count: slideIndex - index });\n        }\n        else if (slideIndex < index) {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTION_PREV, { count: index - slideIndex });\n        }\n    };\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"container\")), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)), style: {\n            ...(!visible ? { display: \"none\" } : null),\n            ...(width !== defaultThumbnailsProps.width ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"width\"))]: `${width}px` } : null),\n            ...(height !== defaultThumbnailsProps.height\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"height\"))]: `${height}px` }\n                : null),\n            ...(border !== defaultThumbnailsProps.border\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border\"))]: `${border}px` }\n                : null),\n            ...(borderStyle ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_style\"))]: borderStyle } : null),\n            ...(borderColor ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_color\"))]: borderColor } : null),\n            ...(borderRadius !== defaultThumbnailsProps.borderRadius\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"border_radius\"))]: `${borderRadius}px` }\n                : null),\n            ...(padding !== defaultThumbnailsProps.padding\n                ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"padding\"))]: `${padding}px` }\n                : null),\n            ...(gap !== defaultThumbnailsProps.gap ? { [(0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssVar)(cssThumbnailPrefix(\"gap\"))]: `${gap}px` } : null),\n            ...styles.thumbnailsContainer,\n        } },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"nav\", { ref: track, style: styles.thumbnailsTrack, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"track\")), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER)), tabIndex: -1, ...registerSensors }, items.map(({ slide, index: slideIndex, placeholder }) => {\n            const fadeAnimationDuration = animationDuration / Math.abs(offset || 1);\n            const fadeIn = (offset > 0 && slideIndex > index + preload - offset && slideIndex <= index + preload) ||\n                (offset < 0 && slideIndex < index - preload - offset && slideIndex >= index - preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: ((offset > 0 ? slideIndex - (index + preload - offset) : index - preload - offset - slideIndex) -\n                        1) *\n                        fadeAnimationDuration,\n                }\n                : undefined;\n            const fadeOut = (offset > 0 && slideIndex < index - preload) || (offset < 0 && slideIndex > index + preload)\n                ? {\n                    duration: fadeAnimationDuration,\n                    delay: (offset > 0\n                        ? offset - (index - preload - slideIndex)\n                        : -offset - (slideIndex - (index + preload))) * fadeAnimationDuration,\n                }\n                : undefined;\n            return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Thumbnail, { key: [`${slideIndex}`, placeholder && \"placeholder\"].filter(Boolean).join(\"-\"), slide: slide, active: slideIndex === index, fadeIn: fadeIn, fadeOut: fadeOut, placeholder: Boolean(placeholder), onClick: handleClick(slideIndex), onLoseFocus: () => { var _a; return (_a = track.current) === null || _a === void 0 ? void 0 : _a.focus(); } }));\n        })),\n        vignette && react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"vignette\")) })));\n}\n\nconst ThumbnailsContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useThumbnails = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useThumbnails\", \"ThumbnailsContext\", ThumbnailsContext);\nfunction ThumbnailsContextProvider({ children, ...props }) {\n    const [visible, setVisible] = react__WEBPACK_IMPORTED_MODULE_0__.useState(true);\n    const containerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { ref, position } = resolveThumbnailsProps(props.thumbnails);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({\n        visible,\n        show: () => setVisible(true),\n        hide: () => setVisible(false),\n    }), [visible]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, () => context, [context]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.LightboxPropsProvider, { ...props },\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsContext.Provider, { value: context },\n            react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: containerRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix()), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(`${position}`))) },\n                [\"start\", \"top\"].includes(position) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible }),\n                react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(cssPrefix(\"wrapper\")) }, children),\n                [\"end\", \"bottom\"].includes(position) && react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsTrack, { containerRef: containerRef, visible: visible })))));\n}\n\nconst thumbnailsIcon = () => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { strokeWidth: 2, stroke: \"currentColor\", strokeLinejoin: \"round\", fill: \"none\", d: \"M3 5l18 0l0 14l-18 0l0-14z\" }),\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z\" })));\nconst ThumbnailsVisible = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ThumbnailsVisible\", thumbnailsIcon());\nconst ThumbnailsHidden = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIconDisabled)(\"ThumbnailsHidden\", thumbnailsIcon());\nfunction ThumbnailsButton() {\n    const { visible, show, hide } = useThumbnails();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    if (render.buttonThumbnails) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonThumbnails({ visible, show, hide }));\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { label: visible ? \"Hide thumbnails\" : \"Show thumbnails\", icon: visible ? ThumbnailsVisible : ThumbnailsHidden, renderIcon: visible ? render.iconThumbnailsVisible : render.iconThumbnailsHidden, onClick: visible ? hide : show }));\n}\n\nfunction Thumbnails({ augment, contains, append, addParent }) {\n    augment(({ thumbnails: thumbnailsProps, toolbar, ...restProps }) => {\n        const thumbnails = resolveThumbnailsProps(thumbnailsProps);\n        return {\n            toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, thumbnails.showToggle ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(ThumbnailsButton, null) : null),\n            thumbnails,\n            ...restProps,\n        };\n    });\n    const module = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_THUMBNAILS, ThumbnailsContextProvider);\n    if (contains(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN)) {\n        append(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_FULLSCREEN, module);\n    }\n    else {\n        addParent(_types_js__WEBPACK_IMPORTED_MODULE_2__.MODULE_CONTROLLER, module);\n    }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3RodW1ibmFpbHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpWjtBQUNsWDtBQUNtSTs7QUFFbEs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsWUFBWSxhQUFhLEVBQUUsMkRBQWdCO0FBQzNDO0FBQ0E7O0FBRUEsNkJBQTZCLHdEQUFhLENBQUMsd0RBQWlCO0FBQzVELGdEQUFnRCx3REFBYTs7QUFFN0QsMkJBQTJCLHFEQUFVLG1CQUFtQixnREFBbUIsV0FBVywwSkFBMEo7QUFDaFAsNkJBQTZCLHFEQUFVLHFCQUFxQixnREFBbUIsV0FBVywrSEFBK0g7QUFDek4sMkJBQTJCLCtCQUErQjtBQUMxRDtBQUNBLDJHQUEyRywrQkFBK0I7QUFDMUk7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG1EQUFRLG9CQUFvQixtREFBWTtBQUN2RSxRQUFRLHVEQUFZO0FBQ3BCLGVBQWUsZ0RBQW1CLENBQUMsaURBQVUsSUFBSSw4REFBOEQ7QUFDL0c7QUFDQTtBQUNBLGdCQUFnQixnREFBbUIsQ0FBQywyQ0FBYztBQUNsRCw0QkFBNEIsZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxTQUFTLG1CQUFtQixrREFBa0Q7QUFDNUksWUFBWSxnREFBbUIsdUJBQXVCLCtCQUErQjtBQUNyRjtBQUNBLFdBQVcsZ0RBQW1CLHlCQUF5QiwrQkFBK0I7QUFDdEY7QUFDQSxxQkFBcUIsNERBQWlCO0FBQ3RDLHFCQUFxQiw0REFBaUI7QUFDdEMsc0JBQXNCLDREQUFpQjtBQUN2QywwQkFBMEIsNERBQWlCO0FBQzNDO0FBQ0E7QUFDQSxxQkFBcUIsbUVBQW1FO0FBQ3hGLGdCQUFnQix5Q0FBWTtBQUM1QixZQUFZLGlCQUFpQixFQUFFLDJEQUFnQjtBQUMvQyxZQUFZ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VyxnREFBZ0Q7QUFDbEYsMEJBQTBCLHFEQUFVO0FBQ3BDLHlCQUF5Qiw2REFBa0I7QUFDM0M7QUFDQSxZQUFZLHNCQUFzQjtBQUNsQyxZQUFZLFNBQVMsRUFBRSwyREFBZ0I7QUFDdkM7QUFDQSxlQUFlLGdEQUFtQixDQUFDLDJDQUFjLGtDQUFrQyxxQkFBcUI7QUFDeEc7QUFDQSxZQUFZLGdEQUFtQixDQUFDLGlEQUFVLElBQUksZ09BQWdPO0FBQzlROztBQUVBLHNCQUFzQixzQ0FBc0M7QUFDNUQsZUFBZSxvREFBb0Q7QUFDbkU7QUFDQTtBQUNBLHFCQUFxQiwyREFBZ0IsVUFBVSx3REFBaUIsMEJBQTBCLGdEQUFtQjtBQUM3RztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUJBQW1CLHVEQUFZLENBQUMsd0RBQWlCO0FBQ2pELGlCQUFpQix3REFBaUI7QUFDbEMsZUFBZSx3REFBaUI7QUFDaEM7QUFDQTtBQUNBLGtCQUFrQix3REFBaUI7QUFDbkM7QUFDQTs7QUFFaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9lLXNob3AvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3RodW1ibmFpbHMvaW5kZXguanM/Mjk5ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VMaWdodGJveFByb3BzLCBjb21wb3NlUHJlZml4LCBjcmVhdGVJY29uLCBjc3NDbGFzcywgaXNJbWFnZVNsaWRlLCBJbWFnZVNsaWRlLCBtYWtlQ29tcG9zZVByZWZpeCwgdXNlRXZlbnRDYWxsYmFjaywgY2xzeCwgY3NzVmFyLCB1c2VSVEwsIHVzZUV2ZW50cywgdXNlTGlnaHRib3hTdGF0ZSwgdXNlU2Vuc29ycywgdXNlS2V5Ym9hcmROYXZpZ2F0aW9uLCB1c2VBbmltYXRpb24sIGNsZWFudXAsIGNhbGN1bGF0ZVByZWxvYWQsIGhhc1NsaWRlcywgZ2V0U2xpZGUsIG1ha2VVc2VDb250ZXh0LCBMaWdodGJveFByb3BzUHJvdmlkZXIsIGNyZWF0ZUljb25EaXNhYmxlZCwgSWNvbkJ1dHRvbiwgYWRkVG9vbGJhckJ1dHRvbiwgY3JlYXRlTW9kdWxlIH0gZnJvbSAnLi4vLi4vaW5kZXguanMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUExVR0lOX1RIVU1CTkFJTFMsIEVMRU1FTlRfSUNPTiwgQ0xBU1NfRkxFWF9DRU5URVIsIEFDVElPTl9TV0lQRSwgQUNUSU9OX05FWFQsIEFDVElPTl9QUkVWLCBQTFVHSU5fRlVMTFNDUkVFTiwgTU9EVUxFX0NPTlRST0xMRVIgfSBmcm9tICcuLi8uLi90eXBlcy5qcyc7XG5cbmNvbnN0IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMgPSB7XG4gICAgcmVmOiBudWxsLFxuICAgIHBvc2l0aW9uOiBcImJvdHRvbVwiLFxuICAgIHdpZHRoOiAxMjAsXG4gICAgaGVpZ2h0OiA4MCxcbiAgICBib3JkZXI6IDEsXG4gICAgYm9yZGVyUmFkaXVzOiA0LFxuICAgIHBhZGRpbmc6IDQsXG4gICAgZ2FwOiAxNixcbiAgICBpbWFnZUZpdDogXCJjb250YWluXCIsXG4gICAgdmlnbmV0dGU6IHRydWUsXG59O1xuY29uc3QgcmVzb2x2ZVRodW1ibmFpbHNQcm9wcyA9ICh0aHVtYm5haWxzKSA9PiAoe1xuICAgIC4uLmRlZmF1bHRUaHVtYm5haWxzUHJvcHMsXG4gICAgLi4udGh1bWJuYWlscyxcbn0pO1xuZnVuY3Rpb24gdXNlVGh1bWJuYWlsc1Byb3BzKCkge1xuICAgIGNvbnN0IHsgdGh1bWJuYWlscyB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIHJldHVybiByZXNvbHZlVGh1bWJuYWlsc1Byb3BzKHRodW1ibmFpbHMpO1xufVxuXG5jb25zdCBjc3NQcmVmaXggPSAodmFsdWUpID0+IGNvbXBvc2VQcmVmaXgoUExVR0lOX1RIVU1CTkFJTFMsIHZhbHVlKTtcbmNvbnN0IGNzc1RodW1ibmFpbFByZWZpeCA9ICh2YWx1ZSkgPT4gY3NzUHJlZml4KGNvbXBvc2VQcmVmaXgoXCJ0aHVtYm5haWxcIiwgdmFsdWUpKTtcblxuY29uc3QgVmlkZW9UaHVtYm5haWxJY29uID0gY3JlYXRlSWNvbihcIlZpZGVvVGh1bWJuYWlsXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTAgMTYuNWw2LTQuNS02LTQuNXY5ek0xMiAyQzYuNDggMiAyIDYuNDggMiAxMnM0LjQ4IDEwIDEwIDEwIDEwLTQuNDggMTAtMTBTMTcuNTIgMiAxMiAyem0wIDE4Yy00LjQxIDAtOC0zLjU5LTgtOHMzLjU5LTggOC04IDggMy41OSA4IDgtMy41OSA4LTggOHpcIiB9KSk7XG5jb25zdCBVbmtub3duVGh1bWJuYWlsSWNvbiA9IGNyZWF0ZUljb24oXCJVbmtub3duVGh1bWJuYWlsXCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMjMgMThWNmMwLTEuMS0uOS0yLTItMkgzYy0xLjEgMC0yIC45LTIgMnYxMmMwIDEuMS45IDIgMiAyaDE4YzEuMSAwIDItLjkgMi0yek04LjUgMTIuNWwyLjUgMy4wMUwxNC41IDExbDQuNSA2SDVsMy41LTQuNXpcIiB9KSk7XG5mdW5jdGlvbiByZW5kZXJUaHVtYm5haWwoeyBzbGlkZSwgcmVuZGVyLCByZWN0LCBpbWFnZUZpdCB9KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGN1c3RvbVRodW1ibmFpbCA9IChfYSA9IHJlbmRlci50aHVtYm5haWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHJlbmRlciwgeyBzbGlkZSwgcmVuZGVyLCByZWN0LCBpbWFnZUZpdCB9KTtcbiAgICBpZiAoY3VzdG9tVGh1bWJuYWlsKSB7XG4gICAgICAgIHJldHVybiBjdXN0b21UaHVtYm5haWw7XG4gICAgfVxuICAgIGNvbnN0IHRodW1ibmFpbEljb25DbGFzcyA9IGNzc0NsYXNzKGNzc1RodW1ibmFpbFByZWZpeChFTEVNRU5UX0lDT04pKTtcbiAgICBpZiAoaXNJbWFnZVNsaWRlKHNsaWRlKSkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChJbWFnZVNsaWRlLCB7IHNsaWRlOiBzbGlkZSwgcmVuZGVyOiByZW5kZXIsIHJlY3Q6IHJlY3QsIGltYWdlRml0OiBpbWFnZUZpdCB9KTtcbiAgICB9XG4gICAgaWYgKHNsaWRlLnR5cGUgPT09IFwidmlkZW9cIikge1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgICAgICBzbGlkZS5wb3N0ZXIgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChJbWFnZVNsaWRlLCB7IHNsaWRlOiB7IHNyYzogc2xpZGUucG9zdGVyIH0sIHJlbmRlcjogcmVuZGVyLCByZWN0OiByZWN0LCBpbWFnZUZpdDogaW1hZ2VGaXQgfSksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFZpZGVvVGh1bWJuYWlsSWNvbiwgeyBjbGFzc05hbWU6IHRodW1ibmFpbEljb25DbGFzcyB9KSkpO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChVbmtub3duVGh1bWJuYWlsSWNvbiwgeyBjbGFzc05hbWU6IHRodW1ibmFpbEljb25DbGFzcyB9KTtcbn1cbmNvbnN0IGFjdGl2ZVByZWZpeCA9IG1ha2VDb21wb3NlUHJlZml4KFwiYWN0aXZlXCIpO1xuY29uc3QgZmFkZUluUHJlZml4ID0gbWFrZUNvbXBvc2VQcmVmaXgoXCJmYWRlaW5cIik7XG5jb25zdCBmYWRlT3V0UHJlZml4ID0gbWFrZUNvbXBvc2VQcmVmaXgoXCJmYWRlb3V0XCIpO1xuY29uc3QgcGxhY2Vob2xkZXJQcmVmaXggPSBtYWtlQ29tcG9zZVByZWZpeChcInBsYWNlaG9sZGVyXCIpO1xuY29uc3QgREVMQVkgPSBcImRlbGF5XCI7XG5jb25zdCBEVVJBVElPTiA9IFwiZHVyYXRpb25cIjtcbmZ1bmN0aW9uIFRodW1ibmFpbCh7IHNsaWRlLCBvbkNsaWNrLCBhY3RpdmUsIGZhZGVJbiwgZmFkZU91dCwgcGxhY2Vob2xkZXIsIG9uTG9zZUZvY3VzIH0pIHtcbiAgICBjb25zdCByZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyByZW5kZXIsIHN0eWxlcyB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCwgaW1hZ2VGaXQgfSA9IHVzZVRodW1ibmFpbHNQcm9wcygpO1xuICAgIGNvbnN0IHJlY3QgPSB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgICBjb25zdCBvbkxvc2VGb2N1c0NhbGxiYWNrID0gdXNlRXZlbnRDYWxsYmFjayhvbkxvc2VGb2N1cyk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGZhZGVPdXQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gcmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIG9uTG9zZUZvY3VzQ2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH0sIFtmYWRlT3V0LCBvbkxvc2VGb2N1c0NhbGxiYWNrXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgcmVmOiByZWYsIHR5cGU6IFwiYnV0dG9uXCIsIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUiksIGNzc0NsYXNzKGNzc1RodW1ibmFpbFByZWZpeCgpKSwgYWN0aXZlICYmIGNzc0NsYXNzKGNzc1RodW1ibmFpbFByZWZpeChhY3RpdmVQcmVmaXgoKSkpLCBmYWRlSW4gJiYgY3NzQ2xhc3MoY3NzVGh1bWJuYWlsUHJlZml4KGZhZGVJblByZWZpeCgpKSksIGZhZGVPdXQgJiYgY3NzQ2xhc3MoY3NzVGh1bWJuYWlsUHJlZml4KGZhZGVPdXRQcmVmaXgoKSkpLCBwbGFjZWhvbGRlciAmJiBjc3NDbGFzcyhjc3NUaHVtYm5haWxQcmVmaXgocGxhY2Vob2xkZXJQcmVmaXgoKSkpKSwgc3R5bGU6IHtcbiAgICAgICAgICAgIC4uLihmYWRlSW5cbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoZmFkZUluUHJlZml4KERVUkFUSU9OKSkpXTogYCR7ZmFkZUluLmR1cmF0aW9ufW1zYCxcbiAgICAgICAgICAgICAgICAgICAgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoZmFkZUluUHJlZml4KERFTEFZKSkpXTogYCR7ZmFkZUluLmRlbGF5fW1zYCxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihmYWRlT3V0XG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KGZhZGVPdXRQcmVmaXgoRFVSQVRJT04pKSldOiBgJHtmYWRlT3V0LmR1cmF0aW9ufW1zYCxcbiAgICAgICAgICAgICAgICAgICAgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoZmFkZU91dFByZWZpeChERUxBWSkpKV06IGAke2ZhZGVPdXQuZGVsYXl9bXNgLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uc3R5bGVzLnRodW1ibmFpbCxcbiAgICAgICAgfSwgb25DbGljazogb25DbGljayB9LCBzbGlkZSAmJiByZW5kZXJUaHVtYm5haWwoeyBzbGlkZSwgcmVuZGVyLCByZWN0LCBpbWFnZUZpdCB9KSkpO1xufVxuXG5mdW5jdGlvbiBpc0hvcml6b250YWwocG9zaXRpb24pIHtcbiAgICByZXR1cm4gW1widG9wXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKHBvc2l0aW9uKTtcbn1cbmZ1bmN0aW9uIGJveFNpemUodGh1bWJuYWlscywgZGltZW5zaW9uKSB7XG4gICAgcmV0dXJuIGRpbWVuc2lvbiArIDIgKiAodGh1bWJuYWlscy5ib3JkZXIgKyB0aHVtYm5haWxzLnBhZGRpbmcpICsgdGh1bWJuYWlscy5nYXA7XG59XG5mdW5jdGlvbiBUaHVtYm5haWxzVHJhY2soeyB2aXNpYmxlLCBjb250YWluZXJSZWYgfSkge1xuICAgIGNvbnN0IHRyYWNrID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGlzUlRMID0gdXNlUlRMKCk7XG4gICAgY29uc3QgeyBwdWJsaXNoLCBzdWJzY3JpYmUgfSA9IHVzZUV2ZW50cygpO1xuICAgIGNvbnN0IHsgY2Fyb3VzZWwsIHN0eWxlcyB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHsgc2xpZGVzLCBnbG9iYWxJbmRleCwgYW5pbWF0aW9uIH0gPSB1c2VMaWdodGJveFN0YXRlKCk7XG4gICAgY29uc3QgeyByZWdpc3RlclNlbnNvcnMsIHN1YnNjcmliZVNlbnNvcnMgfSA9IHVzZVNlbnNvcnMoKTtcbiAgICB1c2VLZXlib2FyZE5hdmlnYXRpb24oc3Vic2NyaWJlU2Vuc29ycyk7XG4gICAgY29uc3QgdGh1bWJuYWlscyA9IHVzZVRodW1ibmFpbHNQcm9wcygpO1xuICAgIGNvbnN0IHsgcG9zaXRpb24sIHdpZHRoLCBoZWlnaHQsIGJvcmRlciwgYm9yZGVyU3R5bGUsIGJvcmRlckNvbG9yLCBib3JkZXJSYWRpdXMsIHBhZGRpbmcsIGdhcCwgdmlnbmV0dGUgfSA9IHRodW1ibmFpbHM7XG4gICAgY29uc3QgaW5kZXggPSBnbG9iYWxJbmRleDtcbiAgICBjb25zdCBhbmltYXRpb25EdXJhdGlvbiA9IChhbmltYXRpb24gPT09IG51bGwgfHwgYW5pbWF0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbmltYXRpb24uZHVyYXRpb24pIHx8IDA7XG4gICAgY29uc3Qgb2Zmc2V0ID0gKGFuaW1hdGlvbkR1cmF0aW9uID4gMCAmJiAoYW5pbWF0aW9uID09PSBudWxsIHx8IGFuaW1hdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5pbWF0aW9uLmluY3JlbWVudCkpIHx8IDA7XG4gICAgY29uc3QgeyBwcmVwYXJlQW5pbWF0aW9uIH0gPSB1c2VBbmltYXRpb24odHJhY2ssIChzbmFwc2hvdCkgPT4gKHtcbiAgICAgICAga2V5ZnJhbWVzOiBpc0hvcml6b250YWwocG9zaXRpb24pXG4gICAgICAgICAgICA/IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoJHsoaXNSVEwgPyAtMSA6IDEpICogYm94U2l6ZSh0aHVtYm5haWxzLCB3aWR0aCkgKiBvZmZzZXQgKyBzbmFwc2hvdH1weClgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWCgwKVwiIH0sXG4gICAgICAgICAgICBdXG4gICAgICAgICAgICA6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtib3hTaXplKHRodW1ibmFpbHMsIGhlaWdodCkgKiBvZmZzZXQgKyBzbmFwc2hvdH1weClgLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgwKVwiIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICBkdXJhdGlvbjogYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogYW5pbWF0aW9uID09PSBudWxsIHx8IGFuaW1hdGlvbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW5pbWF0aW9uLmVhc2luZyxcbiAgICB9KSk7XG4gICAgY29uc3QgaGFuZGxlQ29udHJvbGxlclN3aXBlID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGxldCBhbmltYXRpb25PZmZzZXQgPSAwO1xuICAgICAgICBpZiAoY29udGFpbmVyUmVmLmN1cnJlbnQgJiYgdHJhY2suY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyUmVjdCA9IGNvbnRhaW5lclJlZi5jdXJyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgdHJhY2tSZWN0ID0gdHJhY2suY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIGFuaW1hdGlvbk9mZnNldCA9IGlzSG9yaXpvbnRhbChwb3NpdGlvbilcbiAgICAgICAgICAgICAgICA/IHRyYWNrUmVjdC5sZWZ0IC0gY29udGFpbmVyUmVjdC5sZWZ0IC0gKGNvbnRhaW5lclJlY3Qud2lkdGggLSB0cmFja1JlY3Qud2lkdGgpIC8gMlxuICAgICAgICAgICAgICAgIDogdHJhY2tSZWN0LnRvcCAtIGNvbnRhaW5lclJlY3QudG9wIC0gKGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gdHJhY2tSZWN0LmhlaWdodCkgLyAyO1xuICAgICAgICB9XG4gICAgICAgIHByZXBhcmVBbmltYXRpb24oYW5pbWF0aW9uT2Zmc2V0KTtcbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4gY2xlYW51cChzdWJzY3JpYmUoQUNUSU9OX1NXSVBFLCBoYW5kbGVDb250cm9sbGVyU3dpcGUpKSwgW3N1YnNjcmliZSwgaGFuZGxlQ29udHJvbGxlclN3aXBlXSk7XG4gICAgY29uc3QgcHJlbG9hZCA9IGNhbGN1bGF0ZVByZWxvYWQoY2Fyb3VzZWwsIHNsaWRlcyk7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICBpZiAoaGFzU2xpZGVzKHNsaWRlcykpIHtcbiAgICAgICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleCAtIHByZWxvYWQgKyBvZmZzZXQ7IGkgPCBpbmRleCAtIHByZWxvYWQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goeyBzbGlkZTogbnVsbCwgaW5kZXg6IGksIHBsYWNlaG9sZGVyOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSBpbmRleCAtIHByZWxvYWQgLSBNYXRoLm1heChvZmZzZXQsIDApOyBpIDwgaW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaWYgKCEoY2Fyb3VzZWwuZmluaXRlICYmIGkgPCAwKSkge1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goeyBzbGlkZTogZ2V0U2xpZGUoc2xpZGVzLCBpKSwgaW5kZXg6IGkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHsgc2xpZGU6IG51bGwsIGluZGV4OiBpLCBwbGFjZWhvbGRlcjogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpdGVtcy5wdXNoKHsgc2xpZGU6IGdldFNsaWRlKHNsaWRlcywgaW5kZXgpLCBpbmRleCB9KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4ICsgMTsgaSA8PSBpbmRleCArIHByZWxvYWQgLSBNYXRoLm1pbihvZmZzZXQsIDApOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGlmICghY2Fyb3VzZWwuZmluaXRlIHx8IGkgPD0gc2xpZGVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHsgc2xpZGU6IGdldFNsaWRlKHNsaWRlcywgaSksIGluZGV4OiBpIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7IHNsaWRlOiBudWxsLCBpbmRleDogaSwgcGxhY2Vob2xkZXI6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBpbmRleCArIHByZWxvYWQgKyAxOyBpIDw9IGluZGV4ICsgcHJlbG9hZCArIG9mZnNldDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7IHNsaWRlOiBudWxsLCBpbmRleDogaSwgcGxhY2Vob2xkZXI6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoc2xpZGVJbmRleCkgPT4gKCkgPT4ge1xuICAgICAgICBpZiAoc2xpZGVJbmRleCA+IGluZGV4KSB7XG4gICAgICAgICAgICBwdWJsaXNoKEFDVElPTl9ORVhULCB7IGNvdW50OiBzbGlkZUluZGV4IC0gaW5kZXggfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2xpZGVJbmRleCA8IGluZGV4KSB7XG4gICAgICAgICAgICBwdWJsaXNoKEFDVElPTl9QUkVWLCB7IGNvdW50OiBpbmRleCAtIHNsaWRlSW5kZXggfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhjc3NQcmVmaXgoXCJjb250YWluZXJcIikpLCBjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUikpLCBzdHlsZToge1xuICAgICAgICAgICAgLi4uKCF2aXNpYmxlID8geyBkaXNwbGF5OiBcIm5vbmVcIiB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi4od2lkdGggIT09IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMud2lkdGggPyB7IFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KFwid2lkdGhcIikpXTogYCR7d2lkdGh9cHhgIH0gOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihoZWlnaHQgIT09IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMuaGVpZ2h0XG4gICAgICAgICAgICAgICAgPyB7IFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KFwiaGVpZ2h0XCIpKV06IGAke2hlaWdodH1weGAgfVxuICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAuLi4oYm9yZGVyICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLmJvcmRlclxuICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcImJvcmRlclwiKSldOiBgJHtib3JkZXJ9cHhgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKGJvcmRlclN0eWxlID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcImJvcmRlcl9zdHlsZVwiKSldOiBib3JkZXJTdHlsZSB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi4oYm9yZGVyQ29sb3IgPyB7IFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KFwiYm9yZGVyX2NvbG9yXCIpKV06IGJvcmRlckNvbG9yIH0gOiBudWxsKSxcbiAgICAgICAgICAgIC4uLihib3JkZXJSYWRpdXMgIT09IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMuYm9yZGVyUmFkaXVzXG4gICAgICAgICAgICAgICAgPyB7IFtjc3NWYXIoY3NzVGh1bWJuYWlsUHJlZml4KFwiYm9yZGVyX3JhZGl1c1wiKSldOiBgJHtib3JkZXJSYWRpdXN9cHhgIH1cbiAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgLi4uKHBhZGRpbmcgIT09IGRlZmF1bHRUaHVtYm5haWxzUHJvcHMucGFkZGluZ1xuICAgICAgICAgICAgICAgID8geyBbY3NzVmFyKGNzc1RodW1ibmFpbFByZWZpeChcInBhZGRpbmdcIikpXTogYCR7cGFkZGluZ31weGAgfVxuICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAuLi4oZ2FwICE9PSBkZWZhdWx0VGh1bWJuYWlsc1Byb3BzLmdhcCA/IHsgW2Nzc1Zhcihjc3NUaHVtYm5haWxQcmVmaXgoXCJnYXBcIikpXTogYCR7Z2FwfXB4YCB9IDogbnVsbCksXG4gICAgICAgICAgICAuLi5zdHlsZXMudGh1bWJuYWlsc0NvbnRhaW5lcixcbiAgICAgICAgfSB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwibmF2XCIsIHsgcmVmOiB0cmFjaywgc3R5bGU6IHN0eWxlcy50aHVtYm5haWxzVHJhY2ssIGNsYXNzTmFtZTogY2xzeChjc3NDbGFzcyhjc3NQcmVmaXgoXCJ0cmFja1wiKSksIGNzc0NsYXNzKENMQVNTX0ZMRVhfQ0VOVEVSKSksIHRhYkluZGV4OiAtMSwgLi4ucmVnaXN0ZXJTZW5zb3JzIH0sIGl0ZW1zLm1hcCgoeyBzbGlkZSwgaW5kZXg6IHNsaWRlSW5kZXgsIHBsYWNlaG9sZGVyIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZhZGVBbmltYXRpb25EdXJhdGlvbiA9IGFuaW1hdGlvbkR1cmF0aW9uIC8gTWF0aC5hYnMob2Zmc2V0IHx8IDEpO1xuICAgICAgICAgICAgY29uc3QgZmFkZUluID0gKG9mZnNldCA+IDAgJiYgc2xpZGVJbmRleCA+IGluZGV4ICsgcHJlbG9hZCAtIG9mZnNldCAmJiBzbGlkZUluZGV4IDw9IGluZGV4ICsgcHJlbG9hZCkgfHxcbiAgICAgICAgICAgICAgICAob2Zmc2V0IDwgMCAmJiBzbGlkZUluZGV4IDwgaW5kZXggLSBwcmVsb2FkIC0gb2Zmc2V0ICYmIHNsaWRlSW5kZXggPj0gaW5kZXggLSBwcmVsb2FkKVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZmFkZUFuaW1hdGlvbkR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkZWxheTogKChvZmZzZXQgPiAwID8gc2xpZGVJbmRleCAtIChpbmRleCArIHByZWxvYWQgLSBvZmZzZXQpIDogaW5kZXggLSBwcmVsb2FkIC0gb2Zmc2V0IC0gc2xpZGVJbmRleCkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgMSkgKlxuICAgICAgICAgICAgICAgICAgICAgICAgZmFkZUFuaW1hdGlvbkR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGZhZGVPdXQgPSAob2Zmc2V0ID4gMCAmJiBzbGlkZUluZGV4IDwgaW5kZXggLSBwcmVsb2FkKSB8fCAob2Zmc2V0IDwgMCAmJiBzbGlkZUluZGV4ID4gaW5kZXggKyBwcmVsb2FkKVxuICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogZmFkZUFuaW1hdGlvbkR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkZWxheTogKG9mZnNldCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgID8gb2Zmc2V0IC0gKGluZGV4IC0gcHJlbG9hZCAtIHNsaWRlSW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IC1vZmZzZXQgLSAoc2xpZGVJbmRleCAtIChpbmRleCArIHByZWxvYWQpKSkgKiBmYWRlQW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRodW1ibmFpbCwgeyBrZXk6IFtgJHtzbGlkZUluZGV4fWAsIHBsYWNlaG9sZGVyICYmIFwicGxhY2Vob2xkZXJcIl0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCItXCIpLCBzbGlkZTogc2xpZGUsIGFjdGl2ZTogc2xpZGVJbmRleCA9PT0gaW5kZXgsIGZhZGVJbjogZmFkZUluLCBmYWRlT3V0OiBmYWRlT3V0LCBwbGFjZWhvbGRlcjogQm9vbGVhbihwbGFjZWhvbGRlciksIG9uQ2xpY2s6IGhhbmRsZUNsaWNrKHNsaWRlSW5kZXgpLCBvbkxvc2VGb2N1czogKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0cmFjay5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTsgfSB9KSk7XG4gICAgICAgIH0pKSxcbiAgICAgICAgdmlnbmV0dGUgJiYgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogY3NzQ2xhc3MoY3NzUHJlZml4KFwidmlnbmV0dGVcIikpIH0pKSk7XG59XG5cbmNvbnN0IFRodW1ibmFpbHNDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbmNvbnN0IHVzZVRodW1ibmFpbHMgPSBtYWtlVXNlQ29udGV4dChcInVzZVRodW1ibmFpbHNcIiwgXCJUaHVtYm5haWxzQ29udGV4dFwiLCBUaHVtYm5haWxzQ29udGV4dCk7XG5mdW5jdGlvbiBUaHVtYm5haWxzQ29udGV4dFByb3ZpZGVyKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pIHtcbiAgICBjb25zdCBbdmlzaWJsZSwgc2V0VmlzaWJsZV0gPSBSZWFjdC51c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBjb250YWluZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyByZWYsIHBvc2l0aW9uIH0gPSByZXNvbHZlVGh1bWJuYWlsc1Byb3BzKHByb3BzLnRodW1ibmFpbHMpO1xuICAgIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIHZpc2libGUsXG4gICAgICAgIHNob3c6ICgpID0+IHNldFZpc2libGUodHJ1ZSksXG4gICAgICAgIGhpZGU6ICgpID0+IHNldFZpc2libGUoZmFsc2UpLFxuICAgIH0pLCBbdmlzaWJsZV0pO1xuICAgIFJlYWN0LnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCAoKSA9PiBjb250ZXh0LCBbY29udGV4dF0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChMaWdodGJveFByb3BzUHJvdmlkZXIsIHsgLi4ucHJvcHMgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChUaHVtYm5haWxzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHJlZjogY29udGFpbmVyUmVmLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoY3NzUHJlZml4KCkpLCBjc3NDbGFzcyhjc3NQcmVmaXgoYCR7cG9zaXRpb259YCkpKSB9LFxuICAgICAgICAgICAgICAgIFtcInN0YXJ0XCIsIFwidG9wXCJdLmluY2x1ZGVzKHBvc2l0aW9uKSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFRodW1ibmFpbHNUcmFjaywgeyBjb250YWluZXJSZWY6IGNvbnRhaW5lclJlZiwgdmlzaWJsZTogdmlzaWJsZSB9KSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjc3NDbGFzcyhjc3NQcmVmaXgoXCJ3cmFwcGVyXCIpKSB9LCBjaGlsZHJlbiksXG4gICAgICAgICAgICAgICAgW1wiZW5kXCIsIFwiYm90dG9tXCJdLmluY2x1ZGVzKHBvc2l0aW9uKSAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFRodW1ibmFpbHNUcmFjaywgeyBjb250YWluZXJSZWY6IGNvbnRhaW5lclJlZiwgdmlzaWJsZTogdmlzaWJsZSB9KSkpKSk7XG59XG5cbmNvbnN0IHRodW1ibmFpbHNJY29uID0gKCkgPT4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBzdHJva2VXaWR0aDogMiwgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBmaWxsOiBcIm5vbmVcIiwgZDogXCJNMyA1bDE4IDBsMCAxNGwtMTggMGwwLTE0elwiIH0pLFxuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNNSAxNGg0djNoLTR6TTEwIDE0aDR2M2gtNHpNMTUgMTRoNHYzaC00elwiIH0pKSk7XG5jb25zdCBUaHVtYm5haWxzVmlzaWJsZSA9IGNyZWF0ZUljb24oXCJUaHVtYm5haWxzVmlzaWJsZVwiLCB0aHVtYm5haWxzSWNvbigpKTtcbmNvbnN0IFRodW1ibmFpbHNIaWRkZW4gPSBjcmVhdGVJY29uRGlzYWJsZWQoXCJUaHVtYm5haWxzSGlkZGVuXCIsIHRodW1ibmFpbHNJY29uKCkpO1xuZnVuY3Rpb24gVGh1bWJuYWlsc0J1dHRvbigpIHtcbiAgICBjb25zdCB7IHZpc2libGUsIHNob3csIGhpZGUgfSA9IHVzZVRodW1ibmFpbHMoKTtcbiAgICBjb25zdCB7IHJlbmRlciB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGlmIChyZW5kZXIuYnV0dG9uVGh1bWJuYWlscykge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgcmVuZGVyLmJ1dHRvblRodW1ibmFpbHMoeyB2aXNpYmxlLCBzaG93LCBoaWRlIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KEljb25CdXR0b24sIHsgbGFiZWw6IHZpc2libGUgPyBcIkhpZGUgdGh1bWJuYWlsc1wiIDogXCJTaG93IHRodW1ibmFpbHNcIiwgaWNvbjogdmlzaWJsZSA/IFRodW1ibmFpbHNWaXNpYmxlIDogVGh1bWJuYWlsc0hpZGRlbiwgcmVuZGVySWNvbjogdmlzaWJsZSA/IHJlbmRlci5pY29uVGh1bWJuYWlsc1Zpc2libGUgOiByZW5kZXIuaWNvblRodW1ibmFpbHNIaWRkZW4sIG9uQ2xpY2s6IHZpc2libGUgPyBoaWRlIDogc2hvdyB9KSk7XG59XG5cbmZ1bmN0aW9uIFRodW1ibmFpbHMoeyBhdWdtZW50LCBjb250YWlucywgYXBwZW5kLCBhZGRQYXJlbnQgfSkge1xuICAgIGF1Z21lbnQoKHsgdGh1bWJuYWlsczogdGh1bWJuYWlsc1Byb3BzLCB0b29sYmFyLCAuLi5yZXN0UHJvcHMgfSkgPT4ge1xuICAgICAgICBjb25zdCB0aHVtYm5haWxzID0gcmVzb2x2ZVRodW1ibmFpbHNQcm9wcyh0aHVtYm5haWxzUHJvcHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9vbGJhcjogYWRkVG9vbGJhckJ1dHRvbih0b29sYmFyLCBQTFVHSU5fVEhVTUJOQUlMUywgdGh1bWJuYWlscy5zaG93VG9nZ2xlID8gUmVhY3QuY3JlYXRlRWxlbWVudChUaHVtYm5haWxzQnV0dG9uLCBudWxsKSA6IG51bGwpLFxuICAgICAgICAgICAgdGh1bWJuYWlscyxcbiAgICAgICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBjb25zdCBtb2R1bGUgPSBjcmVhdGVNb2R1bGUoUExVR0lOX1RIVU1CTkFJTFMsIFRodW1ibmFpbHNDb250ZXh0UHJvdmlkZXIpO1xuICAgIGlmIChjb250YWlucyhQTFVHSU5fRlVMTFNDUkVFTikpIHtcbiAgICAgICAgYXBwZW5kKFBMVUdJTl9GVUxMU0NSRUVOLCBtb2R1bGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYWRkUGFyZW50KE1PRFVMRV9DT05UUk9MTEVSLCBtb2R1bGUpO1xuICAgIH1cbn1cblxuZXhwb3J0IHsgVGh1bWJuYWlscyBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/thumbnails/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/video/index.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/video/index.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Video)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultVideoProps = {\n    controls: true,\n    playsInline: true,\n};\nconst resolveVideoProps = (video) => ({\n    ...defaultVideoProps,\n    ...video,\n});\nfunction useVideoProps() {\n    const { video } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    return resolveVideoProps(video);\n}\n\nfunction VideoSlide({ slide, offset }) {\n    const video = useVideoProps();\n    const { publish } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEvents)();\n    const { setContainerRef, containerRect } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useContainerRect)();\n    const videoRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (offset !== 0 && videoRef.current && !videoRef.current.paused) {\n            videoRef.current.pause();\n        }\n    }, [offset]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (offset === 0 && videoRef.current && (slide.autoPlay || video.autoPlay)) {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_LOADING);\n            videoRef.current.play().catch(() => { });\n        }\n    }, [offset, video.autoPlay, slide.autoPlay, publish]);\n    const handleVideoRef = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((node) => {\n        if (offset === 0 && (video.autoPlay || slide.autoPlay) && node.paused) {\n            node.play().catch(() => { });\n        }\n    });\n    const setVideoRef = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((node) => {\n        videoRef.current = node;\n        if (node) {\n            handleVideoRef(node);\n        }\n    }, [handleVideoRef]);\n    const { width, height, poster, sources } = slide;\n    const scaleWidthAndHeight = () => {\n        const scalingProps = {};\n        scalingProps.style = { maxWidth: \"100%\", maxHeight: \"100%\" };\n        if (width && height && containerRect) {\n            const widthBound = width / height > containerRect.width / containerRect.height;\n            const elementWidth = widthBound ? containerRect.width : Math.round((containerRect.height / height) * width);\n            const elementHeight = !widthBound ? containerRect.height : Math.round((containerRect.width / width) * height);\n            scalingProps.width = elementWidth;\n            scalingProps.height = elementHeight;\n            scalingProps.style.width = elementWidth;\n            scalingProps.style.height = elementHeight;\n        }\n        return scalingProps;\n    };\n    const resolveBoolean = (attr) => {\n        if (slide[attr] === false)\n            return null;\n        if (slide[attr] === true)\n            return { [attr]: true };\n        if (video[attr] === false)\n            return null;\n        if (video[attr] === true)\n            return { [attr]: true };\n        return null;\n    };\n    const resolveString = (attr) => {\n        if (video[attr] || slide[attr]) {\n            return { [attr]: slide[attr] || video[attr] };\n        }\n        return null;\n    };\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, sources && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: setContainerRef, style: {\n            width: \"100%\",\n            height: \"100%\",\n            ...(width ? { maxWidth: `${width}px` } : null),\n        }, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(\"video_container\"), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER)) }, containerRect && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"video\", { ref: setVideoRef, poster: poster, ...scaleWidthAndHeight(), ...resolveBoolean(\"controls\"), ...resolveBoolean(\"playsInline\"), ...resolveBoolean(\"loop\"), ...resolveBoolean(\"muted\"), ...resolveBoolean(\"playsInline\"), ...resolveBoolean(\"disablePictureInPicture\"), ...resolveBoolean(\"disableRemotePlayback\"), ...resolveString(\"controlsList\"), ...resolveString(\"crossOrigin\"), ...resolveString(\"preload\"), onPlay: () => {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_PLAYING);\n        }, onEnded: () => {\n            publish(_types_js__WEBPACK_IMPORTED_MODULE_2__.ACTIVE_SLIDE_COMPLETE);\n        } }, sources.map(({ src, type }, index) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"source\", { key: index, src: src, type: type })))))))));\n}\n\nfunction isVideoSlide(slide) {\n    return slide.type === \"video\";\n}\nfunction Video({ augment }) {\n    augment(({ render: { slide: renderSlide, ...restRender }, video, ...restProps }) => ({\n        render: {\n            slide: ({ slide, offset, rect }) => {\n                var _a;\n                if (isVideoSlide(slide)) {\n                    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(VideoSlide, { key: (_a = slide.sources) === null || _a === void 0 ? void 0 : _a.map((source) => source.src).join(\" \"), slide: slide, offset: offset }));\n                }\n                return renderSlide === null || renderSlide === void 0 ? void 0 : renderSlide({ slide, offset, rect });\n            },\n            ...restRender,\n        },\n        video: resolveVideoProps(video),\n        ...restProps,\n    }));\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3ZpZGVvL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0I7QUFDa0Y7QUFDMEI7O0FBRTNJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsWUFBWSxRQUFRLEVBQUUsMkRBQWdCO0FBQ3RDO0FBQ0E7O0FBRUEsc0JBQXNCLGVBQWU7QUFDckM7QUFDQSxZQUFZLFVBQVUsRUFBRSxvREFBUztBQUNqQyxZQUFZLGlDQUFpQyxFQUFFLDJEQUFnQjtBQUMvRCxxQkFBcUIseUNBQVk7QUFDakMsSUFBSSw0Q0FBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSw0Q0FBZTtBQUNuQjtBQUNBLG9CQUFvQiwyREFBb0I7QUFDeEMsbURBQW1EO0FBQ25EO0FBQ0EsS0FBSztBQUNMLDJCQUEyQiwyREFBZ0I7QUFDM0M7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQSxLQUFLO0FBQ0wsd0JBQXdCLDhDQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZLGlDQUFpQztBQUM3QztBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBbUIsQ0FBQywyQ0FBYyxvQkFBb0IsZ0RBQW1CLFVBQVU7QUFDL0Y7QUFDQTtBQUNBLDBCQUEwQixhQUFhLE1BQU0sTUFBTTtBQUNuRCxTQUFTLGFBQWEsK0NBQUksQ0FBQyxtREFBUSxxQkFBcUIsbURBQVEsQ0FBQyx3REFBaUIsR0FBRyxtREFBUSxDQUFDLDBEQUFtQixJQUFJLG9CQUFvQixnREFBbUIsWUFBWTtBQUN4SyxvQkFBb0IsMkRBQW9CO0FBQ3hDLFNBQVM7QUFDVCxvQkFBb0IsNERBQXFCO0FBQ3pDLFdBQVcsaUJBQWlCLFdBQVcsYUFBYSxnREFBbUIsYUFBYSxrQ0FBa0M7QUFDdEg7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVM7QUFDMUIsZUFBZSxVQUFVLG1DQUFtQyx1QkFBdUI7QUFDbkY7QUFDQSxzQkFBc0IscUJBQXFCO0FBQzNDO0FBQ0E7QUFDQSw0QkFBNEIsZ0RBQW1CLGVBQWUsdUlBQXVJO0FBQ3JNO0FBQ0EsK0ZBQStGLHFCQUFxQjtBQUNwSCxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFNEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9lLXNob3AvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3ZpZGVvL2luZGV4LmpzP2ZmZGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlTGlnaHRib3hQcm9wcywgdXNlRXZlbnRzLCB1c2VDb250YWluZXJSZWN0LCB1c2VFdmVudENhbGxiYWNrLCBjbHN4LCBjc3NDbGFzcyB9IGZyb20gJy4uLy4uL2luZGV4LmpzJztcbmltcG9ydCB7IEFDVElWRV9TTElERV9MT0FESU5HLCBDTEFTU19GTEVYX0NFTlRFUiwgQ0xBU1NfU0xJREVfV1JBUFBFUiwgQUNUSVZFX1NMSURFX1BMQVlJTkcsIEFDVElWRV9TTElERV9DT01QTEVURSB9IGZyb20gJy4uLy4uL3R5cGVzLmpzJztcblxuY29uc3QgZGVmYXVsdFZpZGVvUHJvcHMgPSB7XG4gICAgY29udHJvbHM6IHRydWUsXG4gICAgcGxheXNJbmxpbmU6IHRydWUsXG59O1xuY29uc3QgcmVzb2x2ZVZpZGVvUHJvcHMgPSAodmlkZW8pID0+ICh7XG4gICAgLi4uZGVmYXVsdFZpZGVvUHJvcHMsXG4gICAgLi4udmlkZW8sXG59KTtcbmZ1bmN0aW9uIHVzZVZpZGVvUHJvcHMoKSB7XG4gICAgY29uc3QgeyB2aWRlbyB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIHJldHVybiByZXNvbHZlVmlkZW9Qcm9wcyh2aWRlbyk7XG59XG5cbmZ1bmN0aW9uIFZpZGVvU2xpZGUoeyBzbGlkZSwgb2Zmc2V0IH0pIHtcbiAgICBjb25zdCB2aWRlbyA9IHVzZVZpZGVvUHJvcHMoKTtcbiAgICBjb25zdCB7IHB1Ymxpc2ggfSA9IHVzZUV2ZW50cygpO1xuICAgIGNvbnN0IHsgc2V0Q29udGFpbmVyUmVmLCBjb250YWluZXJSZWN0IH0gPSB1c2VDb250YWluZXJSZWN0KCk7XG4gICAgY29uc3QgdmlkZW9SZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG9mZnNldCAhPT0gMCAmJiB2aWRlb1JlZi5jdXJyZW50ICYmICF2aWRlb1JlZi5jdXJyZW50LnBhdXNlZCkge1xuICAgICAgICAgICAgdmlkZW9SZWYuY3VycmVudC5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfSwgW29mZnNldF0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChvZmZzZXQgPT09IDAgJiYgdmlkZW9SZWYuY3VycmVudCAmJiAoc2xpZGUuYXV0b1BsYXkgfHwgdmlkZW8uYXV0b1BsYXkpKSB7XG4gICAgICAgICAgICBwdWJsaXNoKEFDVElWRV9TTElERV9MT0FESU5HKTtcbiAgICAgICAgICAgIHZpZGVvUmVmLmN1cnJlbnQucGxheSgpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbb2Zmc2V0LCB2aWRlby5hdXRvUGxheSwgc2xpZGUuYXV0b1BsYXksIHB1Ymxpc2hdKTtcbiAgICBjb25zdCBoYW5kbGVWaWRlb1JlZiA9IHVzZUV2ZW50Q2FsbGJhY2soKG5vZGUpID0+IHtcbiAgICAgICAgaWYgKG9mZnNldCA9PT0gMCAmJiAodmlkZW8uYXV0b1BsYXkgfHwgc2xpZGUuYXV0b1BsYXkpICYmIG5vZGUucGF1c2VkKSB7XG4gICAgICAgICAgICBub2RlLnBsYXkoKS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgc2V0VmlkZW9SZWYgPSBSZWFjdC51c2VDYWxsYmFjaygobm9kZSkgPT4ge1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50ID0gbm9kZTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIGhhbmRsZVZpZGVvUmVmKG5vZGUpO1xuICAgICAgICB9XG4gICAgfSwgW2hhbmRsZVZpZGVvUmVmXSk7XG4gICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0LCBwb3N0ZXIsIHNvdXJjZXMgfSA9IHNsaWRlO1xuICAgIGNvbnN0IHNjYWxlV2lkdGhBbmRIZWlnaHQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNjYWxpbmdQcm9wcyA9IHt9O1xuICAgICAgICBzY2FsaW5nUHJvcHMuc3R5bGUgPSB7IG1heFdpZHRoOiBcIjEwMCVcIiwgbWF4SGVpZ2h0OiBcIjEwMCVcIiB9O1xuICAgICAgICBpZiAod2lkdGggJiYgaGVpZ2h0ICYmIGNvbnRhaW5lclJlY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoQm91bmQgPSB3aWR0aCAvIGhlaWdodCA+IGNvbnRhaW5lclJlY3Qud2lkdGggLyBjb250YWluZXJSZWN0LmhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRXaWR0aCA9IHdpZHRoQm91bmQgPyBjb250YWluZXJSZWN0LndpZHRoIDogTWF0aC5yb3VuZCgoY29udGFpbmVyUmVjdC5oZWlnaHQgLyBoZWlnaHQpICogd2lkdGgpO1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudEhlaWdodCA9ICF3aWR0aEJvdW5kID8gY29udGFpbmVyUmVjdC5oZWlnaHQgOiBNYXRoLnJvdW5kKChjb250YWluZXJSZWN0LndpZHRoIC8gd2lkdGgpICogaGVpZ2h0KTtcbiAgICAgICAgICAgIHNjYWxpbmdQcm9wcy53aWR0aCA9IGVsZW1lbnRXaWR0aDtcbiAgICAgICAgICAgIHNjYWxpbmdQcm9wcy5oZWlnaHQgPSBlbGVtZW50SGVpZ2h0O1xuICAgICAgICAgICAgc2NhbGluZ1Byb3BzLnN0eWxlLndpZHRoID0gZWxlbWVudFdpZHRoO1xuICAgICAgICAgICAgc2NhbGluZ1Byb3BzLnN0eWxlLmhlaWdodCA9IGVsZW1lbnRIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjYWxpbmdQcm9wcztcbiAgICB9O1xuICAgIGNvbnN0IHJlc29sdmVCb29sZWFuID0gKGF0dHIpID0+IHtcbiAgICAgICAgaWYgKHNsaWRlW2F0dHJdID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoc2xpZGVbYXR0cl0gPT09IHRydWUpXG4gICAgICAgICAgICByZXR1cm4geyBbYXR0cl06IHRydWUgfTtcbiAgICAgICAgaWYgKHZpZGVvW2F0dHJdID09PSBmYWxzZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAodmlkZW9bYXR0cl0gPT09IHRydWUpXG4gICAgICAgICAgICByZXR1cm4geyBbYXR0cl06IHRydWUgfTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZXNvbHZlU3RyaW5nID0gKGF0dHIpID0+IHtcbiAgICAgICAgaWYgKHZpZGVvW2F0dHJdIHx8IHNsaWRlW2F0dHJdKSB7XG4gICAgICAgICAgICByZXR1cm4geyBbYXR0cl06IHNsaWRlW2F0dHJdIHx8IHZpZGVvW2F0dHJdIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHNvdXJjZXMgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHNldENvbnRhaW5lclJlZiwgc3R5bGU6IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAuLi4od2lkdGggPyB7IG1heFdpZHRoOiBgJHt3aWR0aH1weGAgfSA6IG51bGwpLFxuICAgICAgICB9LCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoXCJ2aWRlb19jb250YWluZXJcIiksIGNzc0NsYXNzKENMQVNTX0ZMRVhfQ0VOVEVSKSwgY3NzQ2xhc3MoQ0xBU1NfU0xJREVfV1JBUFBFUikpIH0sIGNvbnRhaW5lclJlY3QgJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiLCB7IHJlZjogc2V0VmlkZW9SZWYsIHBvc3RlcjogcG9zdGVyLCAuLi5zY2FsZVdpZHRoQW5kSGVpZ2h0KCksIC4uLnJlc29sdmVCb29sZWFuKFwiY29udHJvbHNcIiksIC4uLnJlc29sdmVCb29sZWFuKFwicGxheXNJbmxpbmVcIiksIC4uLnJlc29sdmVCb29sZWFuKFwibG9vcFwiKSwgLi4ucmVzb2x2ZUJvb2xlYW4oXCJtdXRlZFwiKSwgLi4ucmVzb2x2ZUJvb2xlYW4oXCJwbGF5c0lubGluZVwiKSwgLi4ucmVzb2x2ZUJvb2xlYW4oXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiKSwgLi4ucmVzb2x2ZUJvb2xlYW4oXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIiksIC4uLnJlc29sdmVTdHJpbmcoXCJjb250cm9sc0xpc3RcIiksIC4uLnJlc29sdmVTdHJpbmcoXCJjcm9zc09yaWdpblwiKSwgLi4ucmVzb2x2ZVN0cmluZyhcInByZWxvYWRcIiksIG9uUGxheTogKCkgPT4ge1xuICAgICAgICAgICAgcHVibGlzaChBQ1RJVkVfU0xJREVfUExBWUlORyk7XG4gICAgICAgIH0sIG9uRW5kZWQ6ICgpID0+IHtcbiAgICAgICAgICAgIHB1Ymxpc2goQUNUSVZFX1NMSURFX0NPTVBMRVRFKTtcbiAgICAgICAgfSB9LCBzb3VyY2VzLm1hcCgoeyBzcmMsIHR5cGUgfSwgaW5kZXgpID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIsIHsga2V5OiBpbmRleCwgc3JjOiBzcmMsIHR5cGU6IHR5cGUgfSkpKSkpKSkpKTtcbn1cblxuZnVuY3Rpb24gaXNWaWRlb1NsaWRlKHNsaWRlKSB7XG4gICAgcmV0dXJuIHNsaWRlLnR5cGUgPT09IFwidmlkZW9cIjtcbn1cbmZ1bmN0aW9uIFZpZGVvKHsgYXVnbWVudCB9KSB7XG4gICAgYXVnbWVudCgoeyByZW5kZXI6IHsgc2xpZGU6IHJlbmRlclNsaWRlLCAuLi5yZXN0UmVuZGVyIH0sIHZpZGVvLCAuLi5yZXN0UHJvcHMgfSkgPT4gKHtcbiAgICAgICAgcmVuZGVyOiB7XG4gICAgICAgICAgICBzbGlkZTogKHsgc2xpZGUsIG9mZnNldCwgcmVjdCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmIChpc1ZpZGVvU2xpZGUoc2xpZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChWaWRlb1NsaWRlLCB7IGtleTogKF9hID0gc2xpZGUuc291cmNlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcCgoc291cmNlKSA9PiBzb3VyY2Uuc3JjKS5qb2luKFwiIFwiKSwgc2xpZGU6IHNsaWRlLCBvZmZzZXQ6IG9mZnNldCB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZW5kZXJTbGlkZSA9PT0gbnVsbCB8fCByZW5kZXJTbGlkZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVuZGVyU2xpZGUoeyBzbGlkZSwgb2Zmc2V0LCByZWN0IH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLnJlc3RSZW5kZXIsXG4gICAgICAgIH0sXG4gICAgICAgIHZpZGVvOiByZXNvbHZlVmlkZW9Qcm9wcyh2aWRlbyksXG4gICAgICAgIC4uLnJlc3RQcm9wcyxcbiAgICB9KSk7XG59XG5cbmV4cG9ydCB7IFZpZGVvIGFzIGRlZmF1bHQgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/video/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js":
/*!****************************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Zoom)\n/* harmony export */ });\n/* harmony import */ var _index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types.js */ \"(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\");\n\n\n\n\nconst defaultZoomProps = {\n    maxZoomPixelRatio: 1,\n    zoomInMultiplier: 2,\n    doubleTapDelay: 300,\n    doubleClickDelay: 500,\n    doubleClickMaxStops: 2,\n    keyboardMoveDistance: 50,\n    wheelZoomDistanceFactor: 100,\n    pinchZoomDistanceFactor: 100,\n    scrollToZoom: false,\n};\nconst resolveZoomProps = (zoom) => ({\n    ...defaultZoomProps,\n    ...zoom,\n});\n\nfunction useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef) {\n    const zoomAnimation = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const zoomAnimationStart = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { zoom: zoomAnimationDuration } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)().animation;\n    const reduceMotion = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useMotionPreference)();\n    const playZoomAnimation = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a, _b, _c;\n        (_a = zoomAnimation.current) === null || _a === void 0 ? void 0 : _a.cancel();\n        zoomAnimation.current = undefined;\n        if (zoomAnimationStart.current && (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)) {\n            try {\n                zoomAnimation.current = (_c = (_b = zoomWrapperRef.current).animate) === null || _c === void 0 ? void 0 : _c.call(_b, [\n                    { transform: zoomAnimationStart.current },\n                    { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` },\n                ], {\n                    duration: !reduceMotion ? zoomAnimationDuration !== null && zoomAnimationDuration !== void 0 ? zoomAnimationDuration : 500 : 0,\n                    easing: zoomAnimation.current ? \"ease-out\" : \"ease-in-out\",\n                });\n            }\n            catch (err) {\n                console.error(err);\n            }\n            zoomAnimationStart.current = undefined;\n            if (zoomAnimation.current) {\n                zoomAnimation.current.onfinish = () => {\n                    zoomAnimation.current = undefined;\n                };\n            }\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(playZoomAnimation, [zoom, offsetX, offsetY, playZoomAnimation]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        zoomAnimationStart.current = (zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current)\n            ? window.getComputedStyle(zoomWrapperRef.current).transform\n            : undefined;\n    }, [zoomWrapperRef]);\n}\n\nfunction useZoomCallback(zoom, disabled) {\n    const { on } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const onZoomCallback = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a;\n        if (!disabled) {\n            (_a = on.zoom) === null || _a === void 0 ? void 0 : _a.call(on, { zoom });\n        }\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(onZoomCallback, [zoom, onZoomCallback]);\n}\n\nfunction useZoomProps() {\n    const { zoom } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    return resolveZoomProps(zoom);\n}\n\nfunction useZoomImageRect(slideRect, imageDimensions) {\n    var _a, _b;\n    let imageRect = { width: 0, height: 0 };\n    let maxImageRect = { width: 0, height: 0 };\n    const { currentSlide } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { imageFit } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)().carousel;\n    const { maxZoomPixelRatio } = useZoomProps();\n    if (slideRect && currentSlide) {\n        const slide = { ...currentSlide, ...imageDimensions };\n        if ((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n            const cover = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageFitCover)(slide, imageFit);\n            const width = Math.max(...(((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.map((x) => x.width)) || []).concat(slide.width ? [slide.width] : []));\n            const height = Math.max(...(((_b = slide.srcSet) === null || _b === void 0 ? void 0 : _b.map((x) => x.height)) || []).concat(slide.height ? [slide.height] : []));\n            if (width > 0 && height > 0 && slideRect.width > 0 && slideRect.height > 0) {\n                maxImageRect = cover\n                    ? {\n                        width: Math.round(Math.min(width, (slideRect.width / slideRect.height) * height)),\n                        height: Math.round(Math.min(height, (slideRect.height / slideRect.width) * width)),\n                    }\n                    : { width, height };\n                maxImageRect = {\n                    width: maxImageRect.width * maxZoomPixelRatio,\n                    height: maxImageRect.height * maxZoomPixelRatio,\n                };\n                imageRect = cover\n                    ? {\n                        width: Math.min(slideRect.width, maxImageRect.width, width),\n                        height: Math.min(slideRect.height, maxImageRect.height, height),\n                    }\n                    : {\n                        width: Math.round(Math.min(slideRect.width, (slideRect.height / height) * width, width)),\n                        height: Math.round(Math.min(slideRect.height, (slideRect.width / width) * height, height)),\n                    };\n            }\n        }\n    }\n    const maxZoom = imageRect.width ? Math.max((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.round)(maxImageRect.width / imageRect.width, 5), 1) : 1;\n    return { imageRect, maxZoom };\n}\n\nfunction distance(pointerA, pointerB) {\n    return ((pointerA.clientX - pointerB.clientX) ** 2 + (pointerA.clientY - pointerB.clientY) ** 2) ** 0.5;\n}\nfunction useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapperRef) {\n    const activePointers = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);\n    const lastPointerDown = react__WEBPACK_IMPORTED_MODULE_0__.useRef(0);\n    const pinchZoomDistance = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n    const { globalIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { containerRef, subscribeSensors } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { keyboardMoveDistance, zoomInMultiplier, wheelZoomDistanceFactor, scrollToZoom, doubleTapDelay, doubleClickDelay, doubleClickMaxStops, pinchZoomDistanceFactor, } = useZoomProps();\n    const translateCoordinates = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        if (containerRef.current) {\n            const { pageX, pageY } = event;\n            const { scrollX, scrollY } = window;\n            const { left, top, width, height } = containerRef.current.getBoundingClientRect();\n            return [pageX - left - scrollX - width / 2, pageY - top - scrollY - height / 2];\n        }\n        return [];\n    }, [containerRef]);\n    const onKeyDown = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        const preventDefault = () => {\n            event.preventDefault();\n            event.stopPropagation();\n        };\n        if (zoom > 1) {\n            const move = (deltaX, deltaY) => {\n                preventDefault();\n                changeOffsets(deltaX, deltaY);\n            };\n            if (event.key === \"ArrowDown\") {\n                move(0, keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowUp\") {\n                move(0, -keyboardMoveDistance);\n            }\n            else if (event.key === \"ArrowLeft\") {\n                move(-keyboardMoveDistance, 0);\n            }\n            else if (event.key === \"ArrowRight\") {\n                move(keyboardMoveDistance, 0);\n            }\n        }\n        const handleChangeZoom = (zoomValue) => {\n            preventDefault();\n            changeZoom(zoomValue);\n        };\n        const hasMeta = () => event.getModifierState(\"Meta\");\n        if (event.key === \"+\" || (event.key === \"=\" && hasMeta())) {\n            handleChangeZoom(zoom * zoomInMultiplier);\n        }\n        else if (event.key === \"-\" || (event.key === \"_\" && hasMeta())) {\n            handleChangeZoom(zoom / zoomInMultiplier);\n        }\n        else if (event.key === \"0\" && hasMeta()) {\n            handleChangeZoom(1);\n        }\n    });\n    const onWheel = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        if (event.ctrlKey || scrollToZoom) {\n            if (Math.abs(event.deltaY) > Math.abs(event.deltaX)) {\n                event.stopPropagation();\n                changeZoom(zoom * (1 - event.deltaY / wheelZoomDistanceFactor), true, ...translateCoordinates(event));\n                return;\n            }\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (!scrollToZoom) {\n                changeOffsets(event.deltaX, event.deltaY);\n            }\n        }\n    });\n    const clearPointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length, ...pointers.filter((p) => p.pointerId !== event.pointerId));\n    }, []);\n    const replacePointer = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        clearPointer(event);\n        event.persist();\n        activePointers.current.push(event);\n    }, [clearPointer]);\n    const onPointerDown = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        var _a;\n        const pointers = activePointers.current;\n        if (!((_a = zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target))) {\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n        }\n        const { timeStamp } = event;\n        if (pointers.length === 0 &&\n            timeStamp - lastPointerDown.current < (event.pointerType === \"touch\" ? doubleTapDelay : doubleClickDelay)) {\n            lastPointerDown.current = 0;\n            changeZoom(zoom !== maxZoom ? zoom * Math.max(maxZoom ** (1 / doubleClickMaxStops), zoomInMultiplier) : 1, false, ...translateCoordinates(event));\n        }\n        else {\n            lastPointerDown.current = timeStamp;\n        }\n        replacePointer(event);\n        if (pointers.length === 2) {\n            pinchZoomDistance.current = distance(pointers[0], pointers[1]);\n        }\n    });\n    const onPointerMove = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((event) => {\n        const pointers = activePointers.current;\n        const activePointer = pointers.find((p) => p.pointerId === event.pointerId);\n        if (pointers.length === 2 && pinchZoomDistance.current) {\n            event.stopPropagation();\n            replacePointer(event);\n            const currentDistance = distance(pointers[0], pointers[1]);\n            const delta = currentDistance - pinchZoomDistance.current;\n            if (Math.abs(delta) > 0) {\n                changeZoom(zoom * (1 + delta / pinchZoomDistanceFactor), true, ...pointers\n                    .map((x) => translateCoordinates(x))\n                    .reduce((acc, coordinate) => coordinate.map((x, i) => acc[i] + x / 2)));\n                pinchZoomDistance.current = currentDistance;\n            }\n            return;\n        }\n        if (zoom > 1) {\n            event.stopPropagation();\n            if (activePointer) {\n                if (pointers.length === 1) {\n                    changeOffsets((activePointer.clientX - event.clientX) / zoom, (activePointer.clientY - event.clientY) / zoom);\n                }\n                replacePointer(event);\n            }\n        }\n    });\n    const onPointerUp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((event) => {\n        const pointers = activePointers.current;\n        if (pointers.length === 2 && pointers.find((p) => p.pointerId === event.pointerId)) {\n            pinchZoomDistance.current = undefined;\n        }\n        clearPointer(event);\n    }, [clearPointer]);\n    const cleanupSensors = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n        const pointers = activePointers.current;\n        pointers.splice(0, pointers.length);\n        lastPointerDown.current = 0;\n        pinchZoomDistance.current = undefined;\n    }, []);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.usePointerEvents)(subscribeSensors, onPointerDown, onPointerMove, onPointerUp, disabled);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(cleanupSensors, [globalIndex, cleanupSensors]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (!disabled) {\n            return (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cleanup)(cleanupSensors, subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_KEY_DOWN, onKeyDown), subscribeSensors(_types_js__WEBPACK_IMPORTED_MODULE_2__.EVENT_ON_WHEEL, onWheel));\n        }\n        return () => { };\n    }, [disabled, subscribeSensors, cleanupSensors, onKeyDown, onWheel]);\n}\n\nfunction useZoomState(imageRect, maxZoom, zoomWrapperRef) {\n    const [zoom, setZoom] = react__WEBPACK_IMPORTED_MODULE_0__.useState(1);\n    const [offsetX, setOffsetX] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n    const [offsetY, setOffsetY] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n    const animate = useZoomAnimation(zoom, offsetX, offsetY, zoomWrapperRef);\n    const { currentSlide, globalIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    const { containerRect, slideRect } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { zoomInMultiplier } = useZoomProps();\n    const currentSource = currentSlide && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(currentSlide) ? currentSlide.src : undefined;\n    const disabled = !currentSource || !(zoomWrapperRef === null || zoomWrapperRef === void 0 ? void 0 : zoomWrapperRef.current);\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        setZoom(1);\n        setOffsetX(0);\n        setOffsetY(0);\n    }, [globalIndex, currentSource]);\n    const changeOffsets = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((dx, dy, targetZoom) => {\n        const newZoom = targetZoom || zoom;\n        const newOffsetX = offsetX - (dx || 0);\n        const newOffsetY = offsetY - (dy || 0);\n        const maxOffsetX = (imageRect.width * newZoom - slideRect.width) / 2 / newZoom;\n        const maxOffsetY = (imageRect.height * newZoom - slideRect.height) / 2 / newZoom;\n        setOffsetX(Math.min(Math.abs(newOffsetX), Math.max(maxOffsetX, 0)) * Math.sign(newOffsetX));\n        setOffsetY(Math.min(Math.abs(newOffsetY), Math.max(maxOffsetY, 0)) * Math.sign(newOffsetY));\n    }, [zoom, offsetX, offsetY, slideRect, imageRect.width, imageRect.height]);\n    const changeZoom = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((targetZoom, rapid, dx, dy) => {\n        const newZoom = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.round)(Math.min(Math.max(targetZoom + 0.001 < maxZoom ? targetZoom : maxZoom, 1), maxZoom), 5);\n        if (newZoom === zoom)\n            return;\n        if (!rapid) {\n            animate();\n        }\n        changeOffsets(dx ? dx * (1 / zoom - 1 / newZoom) : 0, dy ? dy * (1 / zoom - 1 / newZoom) : 0, newZoom);\n        setZoom(newZoom);\n    }, [zoom, maxZoom, changeOffsets, animate]);\n    const handleControllerRectChange = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        if (zoom > 1) {\n            if (zoom > maxZoom) {\n                changeZoom(maxZoom, true);\n            }\n            changeOffsets();\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(handleControllerRectChange, [containerRect.width, containerRect.height, handleControllerRectChange]);\n    const zoomIn = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => changeZoom(zoom * zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    const zoomOut = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => changeZoom(zoom / zoomInMultiplier), [zoom, zoomInMultiplier, changeZoom]);\n    return { zoom, offsetX, offsetY, disabled, changeOffsets, changeZoom, zoomIn, zoomOut };\n}\n\nconst ZoomControllerContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(null);\nconst useZoom = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.makeUseContext)(\"useZoom\", \"ZoomControllerContext\", ZoomControllerContext);\nfunction ZoomContextProvider({ children }) {\n    const [zoomWrapper, setZoomWrapper] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const { slideRect } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const { imageRect, maxZoom } = useZoomImageRect(slideRect, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.imageDimensions);\n    const { zoom, offsetX, offsetY, disabled, changeZoom, changeOffsets, zoomIn, zoomOut } = useZoomState(imageRect, maxZoom, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    useZoomCallback(zoom, disabled);\n    useZoomSensors(zoom, maxZoom, disabled, changeZoom, changeOffsets, zoomWrapper === null || zoomWrapper === void 0 ? void 0 : zoomWrapper.zoomWrapperRef);\n    const zoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom }), [zoom, maxZoom, offsetX, offsetY, disabled, zoomIn, zoomOut, changeZoom]);\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(useZoomProps().ref, () => zoomRef, [zoomRef]);\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => ({ ...zoomRef, setZoomWrapper }), [zoomRef, setZoomWrapper]);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomControllerContext.Provider, { value: context }, children);\n}\n\nconst ZoomInIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ZoomIn\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" }),\n    react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" })));\nconst ZoomOutIcon = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createIcon)(\"ZoomOut\", react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", { d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" }));\nconst ZoomButton = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function ZoomButton({ zoomIn, onLoseFocus }, ref) {\n    const wasEnabled = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const wasFocused = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);\n    const { zoom, maxZoom, zoomIn: zoomInCallback, zoomOut: zoomOutCallback, disabled: zoomDisabled } = useZoom();\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const disabled = zoomDisabled || (zoomIn ? zoom >= maxZoom : zoom <= 1);\n    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n        if (disabled && wasEnabled.current && wasFocused.current) {\n            onLoseFocus();\n        }\n        if (!disabled) {\n            wasEnabled.current = true;\n        }\n    }, [disabled, onLoseFocus]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.IconButton, { ref: ref, disabled: disabled, label: zoomIn ? \"Zoom in\" : \"Zoom out\", icon: zoomIn ? ZoomInIcon : ZoomOutIcon, renderIcon: zoomIn ? render.iconZoomIn : render.iconZoomOut, onClick: zoomIn ? zoomInCallback : zoomOutCallback, onFocus: () => {\n            wasFocused.current = true;\n        }, onBlur: () => {\n            wasFocused.current = false;\n        } }));\n});\n\nfunction ZoomButtonsGroup() {\n    const zoomInRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const zoomOutRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { focus } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useController)();\n    const focusSibling = react__WEBPACK_IMPORTED_MODULE_0__.useCallback((sibling) => {\n        var _a, _b;\n        if (!((_a = sibling.current) === null || _a === void 0 ? void 0 : _a.disabled)) {\n            (_b = sibling.current) === null || _b === void 0 ? void 0 : _b.focus();\n        }\n        else {\n            focus();\n        }\n    }, [focus]);\n    const focusZoomIn = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => focusSibling(zoomInRef), [focusSibling]);\n    const focusZoomOut = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => focusSibling(zoomOutRef), [focusSibling]);\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButton, { zoomIn: true, ref: zoomInRef, onLoseFocus: focusZoomOut }),\n        react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButton, { ref: zoomOutRef, onLoseFocus: focusZoomIn })));\n}\n\nfunction ZoomToolbarControl() {\n    const { render } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const zoomRef = useZoom();\n    if (render.buttonZoom) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, render.buttonZoom(zoomRef));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomButtonsGroup, null);\n}\n\nfunction isResponsiveImageSlide(slide) {\n    var _a;\n    return (((_a = slide.srcSet) === null || _a === void 0 ? void 0 : _a.length) || 0) > 0;\n}\nfunction reducer({ current, preload }, { type, source }) {\n    switch (type) {\n        case \"fetch\":\n            if (!current) {\n                return { current: source };\n            }\n            return { current, preload: source };\n        case \"done\":\n            if (source === preload) {\n                return { current: source };\n            }\n            return { current, preload };\n        default:\n            throw new Error(_types_js__WEBPACK_IMPORTED_MODULE_2__.UNKNOWN_ACTION_TYPE);\n    }\n}\nfunction ResponsiveImage(props) {\n    var _a, _b;\n    const [{ current, preload }, dispatch] = react__WEBPACK_IMPORTED_MODULE_0__.useReducer(reducer, {});\n    const { slide: image, rect, imageFit, render } = props;\n    const srcSet = image.srcSet.sort((a, b) => a.width - b.width);\n    const width = (_a = image.width) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1].width;\n    const height = (_b = image.height) !== null && _b !== void 0 ? _b : srcSet[srcSet.length - 1].height;\n    const cover = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageFitCover)(image, imageFit);\n    const maxWidth = Math.max(...srcSet.map((x) => x.width));\n    const targetWidth = Math.min((cover ? Math.max : Math.min)(rect.width, width * (rect.height / height)), maxWidth);\n    const pixelDensity = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.devicePixelRatio)();\n    const handleResize = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)(() => {\n        var _a;\n        const targetSource = (_a = srcSet.find((x) => x.width >= targetWidth * pixelDensity)) !== null && _a !== void 0 ? _a : srcSet[srcSet.length - 1];\n        if (!current || srcSet.findIndex((x) => x.src === current) < srcSet.findIndex((x) => x === targetSource)) {\n            dispatch({ type: \"fetch\", source: targetSource.src });\n        }\n    });\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(handleResize, [rect.width, rect.height, pixelDensity, handleResize]);\n    const handlePreload = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useEventCallback)((currentPreload) => dispatch({ type: \"done\", source: currentPreload }));\n    const style = {\n        WebkitTransform: \"translateZ(0)\",\n    };\n    if (!cover) {\n        Object.assign(style, rect.width / rect.height < width / height ? { width: \"100%\", height: \"auto\" } : { width: \"auto\", height: \"100%\" });\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,\n        preload && preload !== current && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { key: \"preload\", ...props, slide: { ...image, src: preload, srcSet: undefined }, style: { position: \"absolute\", visibility: \"hidden\", ...style }, onLoad: () => handlePreload(preload), render: {\n                ...render,\n                iconLoading: () => null,\n                iconError: () => null,\n            } })),\n        current && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { key: \"current\", ...props, slide: { ...image, src: current, srcSet: undefined }, style: style }))));\n}\n\nfunction ZoomWrapper({ render, slide, offset, rect }) {\n    var _a;\n    const [imageDimensions, setImageDimensions] = react__WEBPACK_IMPORTED_MODULE_0__.useState();\n    const zoomWrapperRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n    const { zoom, maxZoom, offsetX, offsetY, setZoomWrapper } = useZoom();\n    const { carousel, on } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxProps)();\n    const { currentIndex } = (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLightboxState)();\n    (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n        if (offset === 0) {\n            setZoomWrapper({ zoomWrapperRef, imageDimensions });\n            return () => setZoomWrapper(undefined);\n        }\n        return () => { };\n    }, [offset, imageDimensions, setZoomWrapper]);\n    let rendered = (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, { slide, offset, rect, zoom, maxZoom });\n    if (!rendered && (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(slide)) {\n        const slideProps = {\n            slide,\n            offset,\n            rect,\n            render,\n            imageFit: carousel.imageFit,\n            imageProps: carousel.imageProps,\n            onClick: offset === 0 ? () => { var _a; return (_a = on.click) === null || _a === void 0 ? void 0 : _a.call(on, { index: currentIndex }); } : undefined,\n        };\n        rendered = isResponsiveImageSlide(slide) ? (react__WEBPACK_IMPORTED_MODULE_0__.createElement(ResponsiveImage, { key: slide.src, ...slideProps, slide: slide, rect: offset === 0 ? { width: rect.width * zoom, height: rect.height * zoom } : rect })) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_index_js__WEBPACK_IMPORTED_MODULE_1__.ImageSlide, { key: slide.src, onLoad: (img) => setImageDimensions({ width: img.naturalWidth, height: img.naturalHeight }), ...slideProps }));\n    }\n    if (!rendered)\n        return null;\n    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: zoomWrapperRef, className: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.clsx)((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FULLSIZE), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_FLEX_CENTER), (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.cssClass)(_types_js__WEBPACK_IMPORTED_MODULE_2__.CLASS_SLIDE_WRAPPER)), style: offset === 0 ? { transform: `scale(${zoom}) translateX(${offsetX}px) translateY(${offsetY}px)` } : undefined }, rendered));\n}\n\nconst Zoom = ({ augment, addModule }) => {\n    augment(({ zoom: zoomProps, toolbar, render, controller, ...restProps }) => {\n        const zoom = resolveZoomProps(zoomProps);\n        return {\n            zoom,\n            toolbar: (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.addToolbarButton)(toolbar, _types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM, react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomToolbarControl, null)),\n            render: {\n                ...render,\n                slide: (props) => { var _a; return (0,_index_js__WEBPACK_IMPORTED_MODULE_1__.isImageSlide)(props.slide) ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(ZoomWrapper, { render: render, ...props }) : (_a = render.slide) === null || _a === void 0 ? void 0 : _a.call(render, props); },\n            },\n            controller: { ...controller, preventDefaultWheelY: zoom.scrollToZoom },\n            ...restProps,\n        };\n    });\n    addModule((0,_index_js__WEBPACK_IMPORTED_MODULE_1__.createModule)(_types_js__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_ZOOM, ZoomContextProvider));\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC9wbHVnaW5zL3pvb20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrVTtBQUNuUztBQUM4SDs7QUFFN0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSwwQkFBMEIseUNBQVk7QUFDdEMsK0JBQStCLHlDQUFZO0FBQzNDLFlBQVksOEJBQThCLEVBQUUsMkRBQWdCO0FBQzVELHlCQUF5Qiw4REFBbUI7QUFDNUMsOEJBQThCLDJEQUFnQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdUNBQXVDO0FBQzdELHNCQUFzQixvQkFBb0IsS0FBSyxlQUFlLFFBQVEsaUJBQWlCLFFBQVEsTUFBTTtBQUNyRztBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLDBEQUFlO0FBQ25CLFdBQVcsOENBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLFlBQVksS0FBSyxFQUFFLDJEQUFnQjtBQUNuQywyQkFBMkIsMkRBQWdCO0FBQzNDO0FBQ0E7QUFDQSw4RUFBOEUsTUFBTTtBQUNwRjtBQUNBLEtBQUs7QUFDTCxJQUFJLDRDQUFlO0FBQ25COztBQUVBO0FBQ0EsWUFBWSxPQUFPLEVBQUUsMkRBQWdCO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNCQUFzQjtBQUN0Qix5QkFBeUI7QUFDekIsWUFBWSxlQUFlLEVBQUUsMkRBQWdCO0FBQzdDLFlBQVksV0FBVyxFQUFFLDJEQUFnQjtBQUN6QyxZQUFZLG9CQUFvQjtBQUNoQztBQUNBLHdCQUF3QjtBQUN4QixZQUFZLHVEQUFZO0FB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aEUsMkJBQTJCLHlDQUFZO0FBQ3ZDLFlBQVksa0RBQWtEO0FBQzlELFlBQVksZUFBZSxFQUFFLDJEQUFnQjtBQUM3QyxZQUFZLGVBQWUsRUFBRSwyREFBZ0I7QUFDN0MsSUFBSSwwREFBZTtBQUNuQjtBQUNBLDZCQUE2QixpQ0FBaUM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDhGQUE4RixvQ0FBb0M7QUFDbEkscUJBQXFCLHVEQUFZO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFFBQVEsMEVBQTBFLHFCQUFxQixLQUFLO0FBQ3hKO0FBQ0Esb0RBQW9ELGdEQUFtQixvQkFBb0Isb0VBQW9FLHVEQUF1RCxRQUFRLE1BQU0sZ0RBQW1CLENBQUMsaURBQVUsSUFBSSxzREFBc0Qsb0RBQW9ELGtCQUFrQjtBQUNsWTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdEQUFtQixVQUFVLGdDQUFnQywrQ0FBSSxDQUFDLG1EQUFRLENBQUMscURBQWMsR0FBRyxtREFBUSxDQUFDLHdEQUFpQixHQUFHLG1EQUFRLENBQUMsMERBQW1CLDRCQUE0QixvQkFBb0IsS0FBSyxlQUFlLFFBQVEsaUJBQWlCLFFBQVEsT0FBTyxhQUFhO0FBQzFSOztBQUVBLGdCQUFnQixvQkFBb0I7QUFDcEMsZUFBZSw0REFBNEQ7QUFDM0U7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDJEQUFnQixVQUFVLGtEQUFXLEVBQUUsZ0RBQW1CO0FBQy9FO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUSxPQUFPLHVEQUFZLGdCQUFnQixnREFBbUIsZ0JBQWdCLDBCQUEwQixzRkFBc0Y7QUFDbE8sYUFBYTtBQUNiLDBCQUEwQix3REFBd0Q7QUFDbEY7QUFDQTtBQUNBLEtBQUs7QUFDTCxjQUFjLHVEQUFZLENBQUMsa0RBQVc7QUFDdEM7O0FBRTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2hvZS1zaG9wLy4vbm9kZV9tb2R1bGVzL3lldC1hbm90aGVyLXJlYWN0LWxpZ2h0Ym94L2Rpc3QvcGx1Z2lucy96b29tL2luZGV4LmpzP2Y2Y2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTGlnaHRib3hQcm9wcywgdXNlTW90aW9uUHJlZmVyZW5jZSwgdXNlRXZlbnRDYWxsYmFjaywgdXNlTGF5b3V0RWZmZWN0LCB1c2VMaWdodGJveFN0YXRlLCBpc0ltYWdlU2xpZGUsIGlzSW1hZ2VGaXRDb3Zlciwgcm91bmQsIHVzZUNvbnRyb2xsZXIsIHVzZVBvaW50ZXJFdmVudHMsIGNsZWFudXAsIG1ha2VVc2VDb250ZXh0LCBjcmVhdGVJY29uLCBJY29uQnV0dG9uLCBkZXZpY2VQaXhlbFJhdGlvLCBJbWFnZVNsaWRlLCBjbHN4LCBjc3NDbGFzcywgYWRkVG9vbGJhckJ1dHRvbiwgY3JlYXRlTW9kdWxlIH0gZnJvbSAnLi4vLi4vaW5kZXguanMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRVZFTlRfT05fS0VZX0RPV04sIEVWRU5UX09OX1dIRUVMLCBVTktOT1dOX0FDVElPTl9UWVBFLCBDTEFTU19GVUxMU0laRSwgQ0xBU1NfRkxFWF9DRU5URVIsIENMQVNTX1NMSURFX1dSQVBQRVIsIFBMVUdJTl9aT09NIH0gZnJvbSAnLi4vLi4vdHlwZXMuanMnO1xuXG5jb25zdCBkZWZhdWx0Wm9vbVByb3BzID0ge1xuICAgIG1heFpvb21QaXhlbFJhdGlvOiAxLFxuICAgIHpvb21Jbk11bHRpcGxpZXI6IDIsXG4gICAgZG91YmxlVGFwRGVsYXk6IDMwMCxcbiAgICBkb3VibGVDbGlja0RlbGF5OiA1MDAsXG4gICAgZG91YmxlQ2xpY2tNYXhTdG9wczogMixcbiAgICBrZXlib2FyZE1vdmVEaXN0YW5jZTogNTAsXG4gICAgd2hlZWxab29tRGlzdGFuY2VGYWN0b3I6IDEwMCxcbiAgICBwaW5jaFpvb21EaXN0YW5jZUZhY3RvcjogMTAwLFxuICAgIHNjcm9sbFRvWm9vbTogZmFsc2UsXG59O1xuY29uc3QgcmVzb2x2ZVpvb21Qcm9wcyA9ICh6b29tKSA9PiAoe1xuICAgIC4uLmRlZmF1bHRab29tUHJvcHMsXG4gICAgLi4uem9vbSxcbn0pO1xuXG5mdW5jdGlvbiB1c2Vab29tQW5pbWF0aW9uKHpvb20sIG9mZnNldFgsIG9mZnNldFksIHpvb21XcmFwcGVyUmVmKSB7XG4gICAgY29uc3Qgem9vbUFuaW1hdGlvbiA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHpvb21BbmltYXRpb25TdGFydCA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHsgem9vbTogem9vbUFuaW1hdGlvbkR1cmF0aW9uIH0gPSB1c2VMaWdodGJveFByb3BzKCkuYW5pbWF0aW9uO1xuICAgIGNvbnN0IHJlZHVjZU1vdGlvbiA9IHVzZU1vdGlvblByZWZlcmVuY2UoKTtcbiAgICBjb25zdCBwbGF5Wm9vbUFuaW1hdGlvbiA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgKF9hID0gem9vbUFuaW1hdGlvbi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsKCk7XG4gICAgICAgIHpvb21BbmltYXRpb24uY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHpvb21BbmltYXRpb25TdGFydC5jdXJyZW50ICYmICh6b29tV3JhcHBlclJlZiA9PT0gbnVsbCB8fCB6b29tV3JhcHBlclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXJSZWYuY3VycmVudCkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgem9vbUFuaW1hdGlvbi5jdXJyZW50ID0gKF9jID0gKF9iID0gem9vbVdyYXBwZXJSZWYuY3VycmVudCkuYW5pbWF0ZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IsIFtcbiAgICAgICAgICAgICAgICAgICAgeyB0cmFuc2Zvcm06IHpvb21BbmltYXRpb25TdGFydC5jdXJyZW50IH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHJhbnNmb3JtOiBgc2NhbGUoJHt6b29tfSkgdHJhbnNsYXRlWCgke29mZnNldFh9cHgpIHRyYW5zbGF0ZVkoJHtvZmZzZXRZfXB4KWAgfSxcbiAgICAgICAgICAgICAgICBdLCB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAhcmVkdWNlTW90aW9uID8gem9vbUFuaW1hdGlvbkR1cmF0aW9uICE9PSBudWxsICYmIHpvb21BbmltYXRpb25EdXJhdGlvbiAhPT0gdm9pZCAwID8gem9vbUFuaW1hdGlvbkR1cmF0aW9uIDogNTAwIDogMCxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiB6b29tQW5pbWF0aW9uLmN1cnJlbnQgPyBcImVhc2Utb3V0XCIgOiBcImVhc2UtaW4tb3V0XCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgem9vbUFuaW1hdGlvblN0YXJ0LmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoem9vbUFuaW1hdGlvbi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgem9vbUFuaW1hdGlvbi5jdXJyZW50Lm9uZmluaXNoID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB6b29tQW5pbWF0aW9uLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUxheW91dEVmZmVjdChwbGF5Wm9vbUFuaW1hdGlvbiwgW3pvb20sIG9mZnNldFgsIG9mZnNldFksIHBsYXlab29tQW5pbWF0aW9uXSk7XG4gICAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgem9vbUFuaW1hdGlvblN0YXJ0LmN1cnJlbnQgPSAoem9vbVdyYXBwZXJSZWYgPT09IG51bGwgfHwgem9vbVdyYXBwZXJSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21XcmFwcGVyUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHpvb21XcmFwcGVyUmVmLmN1cnJlbnQpLnRyYW5zZm9ybVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgfSwgW3pvb21XcmFwcGVyUmVmXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVpvb21DYWxsYmFjayh6b29tLCBkaXNhYmxlZCkge1xuICAgIGNvbnN0IHsgb24gfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCBvblpvb21DYWxsYmFjayA9IHVzZUV2ZW50Q2FsbGJhY2soKCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIChfYSA9IG9uLnpvb20pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uLCB7IHpvb20gfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBSZWFjdC51c2VFZmZlY3Qob25ab29tQ2FsbGJhY2ssIFt6b29tLCBvblpvb21DYWxsYmFja10pO1xufVxuXG5mdW5jdGlvbiB1c2Vab29tUHJvcHMoKSB7XG4gICAgY29uc3QgeyB6b29tIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgcmV0dXJuIHJlc29sdmVab29tUHJvcHMoem9vbSk7XG59XG5cbmZ1bmN0aW9uIHVzZVpvb21JbWFnZVJlY3Qoc2xpZGVSZWN0LCBpbWFnZURpbWVuc2lvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGxldCBpbWFnZVJlY3QgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtcbiAgICBsZXQgbWF4SW1hZ2VSZWN0ID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgY29uc3QgeyBjdXJyZW50U2xpZGUgfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCB7IGltYWdlRml0IH0gPSB1c2VMaWdodGJveFByb3BzKCkuY2Fyb3VzZWw7XG4gICAgY29uc3QgeyBtYXhab29tUGl4ZWxSYXRpbyB9ID0gdXNlWm9vbVByb3BzKCk7XG4gICAgaWYgKHNsaWRlUmVjdCAmJiBjdXJyZW50U2xpZGUpIHtcbiAgICAgICAgY29uc3Qgc2xpZGUgPSB7IC4uLmN1cnJlbnRTbGlkZSwgLi4uaW1hZ2VEaW1lbnNpb25zIH07XG4gICAgICAgIGlmIChpc0ltYWdlU2xpZGUoc2xpZGUpKSB7XG4gICAgICAgICAgICBjb25zdCBjb3ZlciA9IGlzSW1hZ2VGaXRDb3ZlcihzbGlkZSwgaW1hZ2VGaXQpO1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBNYXRoLm1heCguLi4oKChfYSA9IHNsaWRlLnNyY1NldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1hcCgoeCkgPT4geC53aWR0aCkpIHx8IFtdKS5jb25jYXQoc2xpZGUud2lkdGggPyBbc2xpZGUud2lkdGhdIDogW10pKTtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KC4uLigoKF9iID0gc2xpZGUuc3JjU2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWFwKCh4KSA9PiB4LmhlaWdodCkpIHx8IFtdKS5jb25jYXQoc2xpZGUuaGVpZ2h0ID8gW3NsaWRlLmhlaWdodF0gOiBbXSkpO1xuICAgICAgICAgICAgaWYgKHdpZHRoID4gMCAmJiBoZWlnaHQgPiAwICYmIHNsaWRlUmVjdC53aWR0aCA+IDAgJiYgc2xpZGVSZWN0LmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICBtYXhJbWFnZVJlY3QgPSBjb3ZlclxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKE1hdGgubWluKHdpZHRoLCAoc2xpZGVSZWN0LndpZHRoIC8gc2xpZGVSZWN0LmhlaWdodCkgKiBoZWlnaHQpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChNYXRoLm1pbihoZWlnaHQsIChzbGlkZVJlY3QuaGVpZ2h0IC8gc2xpZGVSZWN0LndpZHRoKSAqIHdpZHRoKSksXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgICAgICAgICAgICAgICBtYXhJbWFnZVJlY3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBtYXhJbWFnZVJlY3Qud2lkdGggKiBtYXhab29tUGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBtYXhJbWFnZVJlY3QuaGVpZ2h0ICogbWF4Wm9vbVBpeGVsUmF0aW8sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpbWFnZVJlY3QgPSBjb3ZlclxuICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBNYXRoLm1pbihzbGlkZVJlY3Qud2lkdGgsIG1heEltYWdlUmVjdC53aWR0aCwgd2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLm1pbihzbGlkZVJlY3QuaGVpZ2h0LCBtYXhJbWFnZVJlY3QuaGVpZ2h0LCBoZWlnaHQpLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQoTWF0aC5taW4oc2xpZGVSZWN0LndpZHRoLCAoc2xpZGVSZWN0LmhlaWdodCAvIGhlaWdodCkgKiB3aWR0aCwgd2lkdGgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChNYXRoLm1pbihzbGlkZVJlY3QuaGVpZ2h0LCAoc2xpZGVSZWN0LndpZHRoIC8gd2lkdGgpICogaGVpZ2h0LCBoZWlnaHQpKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBtYXhab29tID0gaW1hZ2VSZWN0LndpZHRoID8gTWF0aC5tYXgocm91bmQobWF4SW1hZ2VSZWN0LndpZHRoIC8gaW1hZ2VSZWN0LndpZHRoLCA1KSwgMSkgOiAxO1xuICAgIHJldHVybiB7IGltYWdlUmVjdCwgbWF4Wm9vbSB9O1xufVxuXG5mdW5jdGlvbiBkaXN0YW5jZShwb2ludGVyQSwgcG9pbnRlckIpIHtcbiAgICByZXR1cm4gKChwb2ludGVyQS5jbGllbnRYIC0gcG9pbnRlckIuY2xpZW50WCkgKiogMiArIChwb2ludGVyQS5jbGllbnRZIC0gcG9pbnRlckIuY2xpZW50WSkgKiogMikgKiogMC41O1xufVxuZnVuY3Rpb24gdXNlWm9vbVNlbnNvcnMoem9vbSwgbWF4Wm9vbSwgZGlzYWJsZWQsIGNoYW5nZVpvb20sIGNoYW5nZU9mZnNldHMsIHpvb21XcmFwcGVyUmVmKSB7XG4gICAgY29uc3QgYWN0aXZlUG9pbnRlcnMgPSBSZWFjdC51c2VSZWYoW10pO1xuICAgIGNvbnN0IGxhc3RQb2ludGVyRG93biA9IFJlYWN0LnVzZVJlZigwKTtcbiAgICBjb25zdCBwaW5jaFpvb21EaXN0YW5jZSA9IFJlYWN0LnVzZVJlZigpO1xuICAgIGNvbnN0IHsgZ2xvYmFsSW5kZXggfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICBjb25zdCB7IGNvbnRhaW5lclJlZiwgc3Vic2NyaWJlU2Vuc29ycyB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsga2V5Ym9hcmRNb3ZlRGlzdGFuY2UsIHpvb21Jbk11bHRpcGxpZXIsIHdoZWVsWm9vbURpc3RhbmNlRmFjdG9yLCBzY3JvbGxUb1pvb20sIGRvdWJsZVRhcERlbGF5LCBkb3VibGVDbGlja0RlbGF5LCBkb3VibGVDbGlja01heFN0b3BzLCBwaW5jaFpvb21EaXN0YW5jZUZhY3RvciwgfSA9IHVzZVpvb21Qcm9wcygpO1xuICAgIGNvbnN0IHRyYW5zbGF0ZUNvb3JkaW5hdGVzID0gUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgY29uc3QgeyBwYWdlWCwgcGFnZVkgfSA9IGV2ZW50O1xuICAgICAgICAgICAgY29uc3QgeyBzY3JvbGxYLCBzY3JvbGxZIH0gPSB3aW5kb3c7XG4gICAgICAgICAgICBjb25zdCB7IGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCB9ID0gY29udGFpbmVyUmVmLmN1cnJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICByZXR1cm4gW3BhZ2VYIC0gbGVmdCAtIHNjcm9sbFggLSB3aWR0aCAvIDIsIHBhZ2VZIC0gdG9wIC0gc2Nyb2xsWSAtIGhlaWdodCAvIDJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9LCBbY29udGFpbmVyUmVmXSk7XG4gICAgY29uc3Qgb25LZXlEb3duID0gdXNlRXZlbnRDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmVudERlZmF1bHQgPSAoKSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh6b29tID4gMSkge1xuICAgICAgICAgICAgY29uc3QgbW92ZSA9IChkZWx0YVgsIGRlbHRhWSkgPT4ge1xuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY2hhbmdlT2Zmc2V0cyhkZWx0YVgsIGRlbHRhWSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xuICAgICAgICAgICAgICAgIG1vdmUoMCwga2V5Ym9hcmRNb3ZlRGlzdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQua2V5ID09PSBcIkFycm93VXBcIikge1xuICAgICAgICAgICAgICAgIG1vdmUoMCwgLWtleWJvYXJkTW92ZURpc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xuICAgICAgICAgICAgICAgIG1vdmUoLWtleWJvYXJkTW92ZURpc3RhbmNlLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCJBcnJvd1JpZ2h0XCIpIHtcbiAgICAgICAgICAgICAgICBtb3ZlKGtleWJvYXJkTW92ZURpc3RhbmNlLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYW5kbGVDaGFuZ2Vab29tID0gKHpvb21WYWx1ZSkgPT4ge1xuICAgICAgICAgICAgcHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNoYW5nZVpvb20oem9vbVZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFzTWV0YSA9ICgpID0+IGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoXCJNZXRhXCIpO1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIitcIiB8fCAoZXZlbnQua2V5ID09PSBcIj1cIiAmJiBoYXNNZXRhKCkpKSB7XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2Vab29tKHpvb20gKiB6b29tSW5NdWx0aXBsaWVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudC5rZXkgPT09IFwiLVwiIHx8IChldmVudC5rZXkgPT09IFwiX1wiICYmIGhhc01ldGEoKSkpIHtcbiAgICAgICAgICAgIGhhbmRsZUNoYW5nZVpvb20oem9vbSAvIHpvb21Jbk11bHRpcGxpZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gXCIwXCIgJiYgaGFzTWV0YSgpKSB7XG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2Vab29tKDEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgb25XaGVlbCA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jdHJsS2V5IHx8IHNjcm9sbFRvWm9vbSkge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGV2ZW50LmRlbHRhWSkgPiBNYXRoLmFicyhldmVudC5kZWx0YVgpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgY2hhbmdlWm9vbSh6b29tICogKDEgLSBldmVudC5kZWx0YVkgLyB3aGVlbFpvb21EaXN0YW5jZUZhY3RvciksIHRydWUsIC4uLnRyYW5zbGF0ZUNvb3JkaW5hdGVzKGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh6b29tID4gMSkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAoIXNjcm9sbFRvWm9vbSkge1xuICAgICAgICAgICAgICAgIGNoYW5nZU9mZnNldHMoZXZlbnQuZGVsdGFYLCBldmVudC5kZWx0YVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY2xlYXJQb2ludGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHBvaW50ZXJzID0gYWN0aXZlUG9pbnRlcnMuY3VycmVudDtcbiAgICAgICAgcG9pbnRlcnMuc3BsaWNlKDAsIHBvaW50ZXJzLmxlbmd0aCwgLi4ucG9pbnRlcnMuZmlsdGVyKChwKSA9PiBwLnBvaW50ZXJJZCAhPT0gZXZlbnQucG9pbnRlcklkKSk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHJlcGxhY2VQb2ludGVyID0gUmVhY3QudXNlQ2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIGNsZWFyUG9pbnRlcihldmVudCk7XG4gICAgICAgIGV2ZW50LnBlcnNpc3QoKTtcbiAgICAgICAgYWN0aXZlUG9pbnRlcnMuY3VycmVudC5wdXNoKGV2ZW50KTtcbiAgICB9LCBbY2xlYXJQb2ludGVyXSk7XG4gICAgY29uc3Qgb25Qb2ludGVyRG93biA9IHVzZUV2ZW50Q2FsbGJhY2soKGV2ZW50KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSBhY3RpdmVQb2ludGVycy5jdXJyZW50O1xuICAgICAgICBpZiAoISgoX2EgPSB6b29tV3JhcHBlclJlZiA9PT0gbnVsbCB8fCB6b29tV3JhcHBlclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHpvb20gPiAxKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHRpbWVTdGFtcCB9ID0gZXZlbnQ7XG4gICAgICAgIGlmIChwb2ludGVycy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgIHRpbWVTdGFtcCAtIGxhc3RQb2ludGVyRG93bi5jdXJyZW50IDwgKGV2ZW50LnBvaW50ZXJUeXBlID09PSBcInRvdWNoXCIgPyBkb3VibGVUYXBEZWxheSA6IGRvdWJsZUNsaWNrRGVsYXkpKSB7XG4gICAgICAgICAgICBsYXN0UG9pbnRlckRvd24uY3VycmVudCA9IDA7XG4gICAgICAgICAgICBjaGFuZ2Vab29tKHpvb20gIT09IG1heFpvb20gPyB6b29tICogTWF0aC5tYXgobWF4Wm9vbSAqKiAoMSAvIGRvdWJsZUNsaWNrTWF4U3RvcHMpLCB6b29tSW5NdWx0aXBsaWVyKSA6IDEsIGZhbHNlLCAuLi50cmFuc2xhdGVDb29yZGluYXRlcyhldmVudCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGFzdFBvaW50ZXJEb3duLmN1cnJlbnQgPSB0aW1lU3RhbXA7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZVBvaW50ZXIoZXZlbnQpO1xuICAgICAgICBpZiAocG9pbnRlcnMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBwaW5jaFpvb21EaXN0YW5jZS5jdXJyZW50ID0gZGlzdGFuY2UocG9pbnRlcnNbMF0sIHBvaW50ZXJzWzFdKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG9uUG9pbnRlck1vdmUgPSB1c2VFdmVudENhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQ7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBvaW50ZXIgPSBwb2ludGVycy5maW5kKChwKSA9PiBwLnBvaW50ZXJJZCA9PT0gZXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgaWYgKHBvaW50ZXJzLmxlbmd0aCA9PT0gMiAmJiBwaW5jaFpvb21EaXN0YW5jZS5jdXJyZW50KSB7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJlcGxhY2VQb2ludGVyKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnREaXN0YW5jZSA9IGRpc3RhbmNlKHBvaW50ZXJzWzBdLCBwb2ludGVyc1sxXSk7XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IGN1cnJlbnREaXN0YW5jZSAtIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gMCkge1xuICAgICAgICAgICAgICAgIGNoYW5nZVpvb20oem9vbSAqICgxICsgZGVsdGEgLyBwaW5jaFpvb21EaXN0YW5jZUZhY3RvciksIHRydWUsIC4uLnBvaW50ZXJzXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKHgpID0+IHRyYW5zbGF0ZUNvb3JkaW5hdGVzKHgpKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIGNvb3JkaW5hdGUpID0+IGNvb3JkaW5hdGUubWFwKCh4LCBpKSA9PiBhY2NbaV0gKyB4IC8gMikpKTtcbiAgICAgICAgICAgICAgICBwaW5jaFpvb21EaXN0YW5jZS5jdXJyZW50ID0gY3VycmVudERpc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh6b29tID4gMSkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlUG9pbnRlcikge1xuICAgICAgICAgICAgICAgIGlmIChwb2ludGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlT2Zmc2V0cygoYWN0aXZlUG9pbnRlci5jbGllbnRYIC0gZXZlbnQuY2xpZW50WCkgLyB6b29tLCAoYWN0aXZlUG9pbnRlci5jbGllbnRZIC0gZXZlbnQuY2xpZW50WSkgLyB6b29tKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVwbGFjZVBvaW50ZXIoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgb25Qb2ludGVyVXAgPSBSZWFjdC51c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgcG9pbnRlcnMgPSBhY3RpdmVQb2ludGVycy5jdXJyZW50O1xuICAgICAgICBpZiAocG9pbnRlcnMubGVuZ3RoID09PSAyICYmIHBvaW50ZXJzLmZpbmQoKHApID0+IHAucG9pbnRlcklkID09PSBldmVudC5wb2ludGVySWQpKSB7XG4gICAgICAgICAgICBwaW5jaFpvb21EaXN0YW5jZS5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNsZWFyUG9pbnRlcihldmVudCk7XG4gICAgfSwgW2NsZWFyUG9pbnRlcl0pO1xuICAgIGNvbnN0IGNsZWFudXBTZW5zb3JzID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCBwb2ludGVycyA9IGFjdGl2ZVBvaW50ZXJzLmN1cnJlbnQ7XG4gICAgICAgIHBvaW50ZXJzLnNwbGljZSgwLCBwb2ludGVycy5sZW5ndGgpO1xuICAgICAgICBsYXN0UG9pbnRlckRvd24uY3VycmVudCA9IDA7XG4gICAgICAgIHBpbmNoWm9vbURpc3RhbmNlLmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgfSwgW10pO1xuICAgIHVzZVBvaW50ZXJFdmVudHMoc3Vic2NyaWJlU2Vuc29ycywgb25Qb2ludGVyRG93biwgb25Qb2ludGVyTW92ZSwgb25Qb2ludGVyVXAsIGRpc2FibGVkKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoY2xlYW51cFNlbnNvcnMsIFtnbG9iYWxJbmRleCwgY2xlYW51cFNlbnNvcnNdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2xlYW51cChjbGVhbnVwU2Vuc29ycywgc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9LRVlfRE9XTiwgb25LZXlEb3duKSwgc3Vic2NyaWJlU2Vuc29ycyhFVkVOVF9PTl9XSEVFTCwgb25XaGVlbCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoKSA9PiB7IH07XG4gICAgfSwgW2Rpc2FibGVkLCBzdWJzY3JpYmVTZW5zb3JzLCBjbGVhbnVwU2Vuc29ycywgb25LZXlEb3duLCBvbldoZWVsXSk7XG59XG5cbmZ1bmN0aW9uIHVzZVpvb21TdGF0ZShpbWFnZVJlY3QsIG1heFpvb20sIHpvb21XcmFwcGVyUmVmKSB7XG4gICAgY29uc3QgW3pvb20sIHNldFpvb21dID0gUmVhY3QudXNlU3RhdGUoMSk7XG4gICAgY29uc3QgW29mZnNldFgsIHNldE9mZnNldFhdID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gICAgY29uc3QgW29mZnNldFksIHNldE9mZnNldFldID0gUmVhY3QudXNlU3RhdGUoMCk7XG4gICAgY29uc3QgYW5pbWF0ZSA9IHVzZVpvb21BbmltYXRpb24oem9vbSwgb2Zmc2V0WCwgb2Zmc2V0WSwgem9vbVdyYXBwZXJSZWYpO1xuICAgIGNvbnN0IHsgY3VycmVudFNsaWRlLCBnbG9iYWxJbmRleCB9ID0gdXNlTGlnaHRib3hTdGF0ZSgpO1xuICAgIGNvbnN0IHsgY29udGFpbmVyUmVjdCwgc2xpZGVSZWN0IH0gPSB1c2VDb250cm9sbGVyKCk7XG4gICAgY29uc3QgeyB6b29tSW5NdWx0aXBsaWVyIH0gPSB1c2Vab29tUHJvcHMoKTtcbiAgICBjb25zdCBjdXJyZW50U291cmNlID0gY3VycmVudFNsaWRlICYmIGlzSW1hZ2VTbGlkZShjdXJyZW50U2xpZGUpID8gY3VycmVudFNsaWRlLnNyYyA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBkaXNhYmxlZCA9ICFjdXJyZW50U291cmNlIHx8ICEoem9vbVdyYXBwZXJSZWYgPT09IG51bGwgfHwgem9vbVdyYXBwZXJSZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21XcmFwcGVyUmVmLmN1cnJlbnQpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHNldFpvb20oMSk7XG4gICAgICAgIHNldE9mZnNldFgoMCk7XG4gICAgICAgIHNldE9mZnNldFkoMCk7XG4gICAgfSwgW2dsb2JhbEluZGV4LCBjdXJyZW50U291cmNlXSk7XG4gICAgY29uc3QgY2hhbmdlT2Zmc2V0cyA9IFJlYWN0LnVzZUNhbGxiYWNrKChkeCwgZHksIHRhcmdldFpvb20pID0+IHtcbiAgICAgICAgY29uc3QgbmV3Wm9vbSA9IHRhcmdldFpvb20gfHwgem9vbTtcbiAgICAgICAgY29uc3QgbmV3T2Zmc2V0WCA9IG9mZnNldFggLSAoZHggfHwgMCk7XG4gICAgICAgIGNvbnN0IG5ld09mZnNldFkgPSBvZmZzZXRZIC0gKGR5IHx8IDApO1xuICAgICAgICBjb25zdCBtYXhPZmZzZXRYID0gKGltYWdlUmVjdC53aWR0aCAqIG5ld1pvb20gLSBzbGlkZVJlY3Qud2lkdGgpIC8gMiAvIG5ld1pvb207XG4gICAgICAgIGNvbnN0IG1heE9mZnNldFkgPSAoaW1hZ2VSZWN0LmhlaWdodCAqIG5ld1pvb20gLSBzbGlkZVJlY3QuaGVpZ2h0KSAvIDIgLyBuZXdab29tO1xuICAgICAgICBzZXRPZmZzZXRYKE1hdGgubWluKE1hdGguYWJzKG5ld09mZnNldFgpLCBNYXRoLm1heChtYXhPZmZzZXRYLCAwKSkgKiBNYXRoLnNpZ24obmV3T2Zmc2V0WCkpO1xuICAgICAgICBzZXRPZmZzZXRZKE1hdGgubWluKE1hdGguYWJzKG5ld09mZnNldFkpLCBNYXRoLm1heChtYXhPZmZzZXRZLCAwKSkgKiBNYXRoLnNpZ24obmV3T2Zmc2V0WSkpO1xuICAgIH0sIFt6b29tLCBvZmZzZXRYLCBvZmZzZXRZLCBzbGlkZVJlY3QsIGltYWdlUmVjdC53aWR0aCwgaW1hZ2VSZWN0LmhlaWdodF0pO1xuICAgIGNvbnN0IGNoYW5nZVpvb20gPSBSZWFjdC51c2VDYWxsYmFjaygodGFyZ2V0Wm9vbSwgcmFwaWQsIGR4LCBkeSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdab29tID0gcm91bmQoTWF0aC5taW4oTWF0aC5tYXgodGFyZ2V0Wm9vbSArIDAuMDAxIDwgbWF4Wm9vbSA/IHRhcmdldFpvb20gOiBtYXhab29tLCAxKSwgbWF4Wm9vbSksIDUpO1xuICAgICAgICBpZiAobmV3Wm9vbSA9PT0gem9vbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFyYXBpZCkge1xuICAgICAgICAgICAgYW5pbWF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNoYW5nZU9mZnNldHMoZHggPyBkeCAqICgxIC8gem9vbSAtIDEgLyBuZXdab29tKSA6IDAsIGR5ID8gZHkgKiAoMSAvIHpvb20gLSAxIC8gbmV3Wm9vbSkgOiAwLCBuZXdab29tKTtcbiAgICAgICAgc2V0Wm9vbShuZXdab29tKTtcbiAgICB9LCBbem9vbSwgbWF4Wm9vbSwgY2hhbmdlT2Zmc2V0cywgYW5pbWF0ZV0pO1xuICAgIGNvbnN0IGhhbmRsZUNvbnRyb2xsZXJSZWN0Q2hhbmdlID0gdXNlRXZlbnRDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICh6b29tID4gMSkge1xuICAgICAgICAgICAgaWYgKHpvb20gPiBtYXhab29tKSB7XG4gICAgICAgICAgICAgICAgY2hhbmdlWm9vbShtYXhab29tLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZU9mZnNldHMoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUxheW91dEVmZmVjdChoYW5kbGVDb250cm9sbGVyUmVjdENoYW5nZSwgW2NvbnRhaW5lclJlY3Qud2lkdGgsIGNvbnRhaW5lclJlY3QuaGVpZ2h0LCBoYW5kbGVDb250cm9sbGVyUmVjdENoYW5nZV0pO1xuICAgIGNvbnN0IHpvb21JbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IGNoYW5nZVpvb20oem9vbSAqIHpvb21Jbk11bHRpcGxpZXIpLCBbem9vbSwgem9vbUluTXVsdGlwbGllciwgY2hhbmdlWm9vbV0pO1xuICAgIGNvbnN0IHpvb21PdXQgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiBjaGFuZ2Vab29tKHpvb20gLyB6b29tSW5NdWx0aXBsaWVyKSwgW3pvb20sIHpvb21Jbk11bHRpcGxpZXIsIGNoYW5nZVpvb21dKTtcbiAgICByZXR1cm4geyB6b29tLCBvZmZzZXRYLCBvZmZzZXRZLCBkaXNhYmxlZCwgY2hhbmdlT2Zmc2V0cywgY2hhbmdlWm9vbSwgem9vbUluLCB6b29tT3V0IH07XG59XG5cbmNvbnN0IFpvb21Db250cm9sbGVyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCB1c2Vab29tID0gbWFrZVVzZUNvbnRleHQoXCJ1c2Vab29tXCIsIFwiWm9vbUNvbnRyb2xsZXJDb250ZXh0XCIsIFpvb21Db250cm9sbGVyQ29udGV4dCk7XG5mdW5jdGlvbiBab29tQ29udGV4dFByb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICAgIGNvbnN0IFt6b29tV3JhcHBlciwgc2V0Wm9vbVdyYXBwZXJdID0gUmVhY3QudXNlU3RhdGUoKTtcbiAgICBjb25zdCB7IHNsaWRlUmVjdCB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgaW1hZ2VSZWN0LCBtYXhab29tIH0gPSB1c2Vab29tSW1hZ2VSZWN0KHNsaWRlUmVjdCwgem9vbVdyYXBwZXIgPT09IG51bGwgfHwgem9vbVdyYXBwZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHpvb21XcmFwcGVyLmltYWdlRGltZW5zaW9ucyk7XG4gICAgY29uc3QgeyB6b29tLCBvZmZzZXRYLCBvZmZzZXRZLCBkaXNhYmxlZCwgY2hhbmdlWm9vbSwgY2hhbmdlT2Zmc2V0cywgem9vbUluLCB6b29tT3V0IH0gPSB1c2Vab29tU3RhdGUoaW1hZ2VSZWN0LCBtYXhab29tLCB6b29tV3JhcHBlciA9PT0gbnVsbCB8fCB6b29tV3JhcHBlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogem9vbVdyYXBwZXIuem9vbVdyYXBwZXJSZWYpO1xuICAgIHVzZVpvb21DYWxsYmFjayh6b29tLCBkaXNhYmxlZCk7XG4gICAgdXNlWm9vbVNlbnNvcnMoem9vbSwgbWF4Wm9vbSwgZGlzYWJsZWQsIGNoYW5nZVpvb20sIGNoYW5nZU9mZnNldHMsIHpvb21XcmFwcGVyID09PSBudWxsIHx8IHpvb21XcmFwcGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiB6b29tV3JhcHBlci56b29tV3JhcHBlclJlZik7XG4gICAgY29uc3Qgem9vbVJlZiA9IFJlYWN0LnVzZU1lbW8oKCkgPT4gKHsgem9vbSwgbWF4Wm9vbSwgb2Zmc2V0WCwgb2Zmc2V0WSwgZGlzYWJsZWQsIHpvb21Jbiwgem9vbU91dCwgY2hhbmdlWm9vbSB9KSwgW3pvb20sIG1heFpvb20sIG9mZnNldFgsIG9mZnNldFksIGRpc2FibGVkLCB6b29tSW4sIHpvb21PdXQsIGNoYW5nZVpvb21dKTtcbiAgICBSZWFjdC51c2VJbXBlcmF0aXZlSGFuZGxlKHVzZVpvb21Qcm9wcygpLnJlZiwgKCkgPT4gem9vbVJlZiwgW3pvb21SZWZdKTtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlTWVtbygoKSA9PiAoeyAuLi56b29tUmVmLCBzZXRab29tV3JhcHBlciB9KSwgW3pvb21SZWYsIHNldFpvb21XcmFwcGVyXSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbUNvbnRyb2xsZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0IH0sIGNoaWxkcmVuKTtcbn1cblxuY29uc3QgWm9vbUluSWNvbiA9IGNyZWF0ZUljb24oXCJab29tSW5cIiwgUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7IGQ6IFwiTTE1LjUgMTRoLS43OWwtLjI4LS4yN0MxNS40MSAxMi41OSAxNiAxMS4xMSAxNiA5LjUgMTYgNS45MSAxMy4wOSAzIDkuNSAzUzMgNS45MSAzIDkuNSA1LjkxIDE2IDkuNSAxNmMxLjYxIDAgMy4wOS0uNTkgNC4yMy0xLjU3bC4yNy4yOHYuNzlsNSA0Ljk5TDIwLjQ5IDE5bC00Ljk5LTV6bS02IDBDNy4wMSAxNCA1IDExLjk5IDUgOS41UzcuMDEgNSA5LjUgNSAxNCA3LjAxIDE0IDkuNSAxMS45OSAxNCA5LjUgMTR6XCIgfSksXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwgeyBkOiBcIk0xMiAxMGgtMnYySDl2LTJIN1Y5aDJWN2gxdjJoMnYxelwiIH0pKSk7XG5jb25zdCBab29tT3V0SWNvbiA9IGNyZWF0ZUljb24oXCJab29tT3V0XCIsIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHsgZDogXCJNMTUuNSAxNGgtLjc5bC0uMjgtLjI3QzE1LjQxIDEyLjU5IDE2IDExLjExIDE2IDkuNSAxNiA1LjkxIDEzLjA5IDMgOS41IDNTMyA1LjkxIDMgOS41IDUuOTEgMTYgOS41IDE2YzEuNjEgMCAzLjA5LS41OSA0LjIzLTEuNTdsLjI3LjI4di43OWw1IDQuOTlMMjAuNDkgMTlsLTQuOTktNXptLTYgMEM3LjAxIDE0IDUgMTEuOTkgNSA5LjVTNy4wMSA1IDkuNSA1IDE0IDcuMDEgMTQgOS41IDExLjk5IDE0IDkuNSAxNHpNNyA5aDV2MUg3elwiIH0pKTtcbmNvbnN0IFpvb21CdXR0b24gPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIFpvb21CdXR0b24oeyB6b29tSW4sIG9uTG9zZUZvY3VzIH0sIHJlZikge1xuICAgIGNvbnN0IHdhc0VuYWJsZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IHdhc0ZvY3VzZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IHsgem9vbSwgbWF4Wm9vbSwgem9vbUluOiB6b29tSW5DYWxsYmFjaywgem9vbU91dDogem9vbU91dENhbGxiYWNrLCBkaXNhYmxlZDogem9vbURpc2FibGVkIH0gPSB1c2Vab29tKCk7XG4gICAgY29uc3QgeyByZW5kZXIgfSA9IHVzZUxpZ2h0Ym94UHJvcHMoKTtcbiAgICBjb25zdCBkaXNhYmxlZCA9IHpvb21EaXNhYmxlZCB8fCAoem9vbUluID8gem9vbSA+PSBtYXhab29tIDogem9vbSA8PSAxKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZGlzYWJsZWQgJiYgd2FzRW5hYmxlZC5jdXJyZW50ICYmIHdhc0ZvY3VzZWQuY3VycmVudCkge1xuICAgICAgICAgICAgb25Mb3NlRm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgICAgICB3YXNFbmFibGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSwgW2Rpc2FibGVkLCBvbkxvc2VGb2N1c10pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQnV0dG9uLCB7IHJlZjogcmVmLCBkaXNhYmxlZDogZGlzYWJsZWQsIGxhYmVsOiB6b29tSW4gPyBcIlpvb20gaW5cIiA6IFwiWm9vbSBvdXRcIiwgaWNvbjogem9vbUluID8gWm9vbUluSWNvbiA6IFpvb21PdXRJY29uLCByZW5kZXJJY29uOiB6b29tSW4gPyByZW5kZXIuaWNvblpvb21JbiA6IHJlbmRlci5pY29uWm9vbU91dCwgb25DbGljazogem9vbUluID8gem9vbUluQ2FsbGJhY2sgOiB6b29tT3V0Q2FsbGJhY2ssIG9uRm9jdXM6ICgpID0+IHtcbiAgICAgICAgICAgIHdhc0ZvY3VzZWQuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH0sIG9uQmx1cjogKCkgPT4ge1xuICAgICAgICAgICAgd2FzRm9jdXNlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH0gfSkpO1xufSk7XG5cbmZ1bmN0aW9uIFpvb21CdXR0b25zR3JvdXAoKSB7XG4gICAgY29uc3Qgem9vbUluUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHpvb21PdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyBmb2N1cyB9ID0gdXNlQ29udHJvbGxlcigpO1xuICAgIGNvbnN0IGZvY3VzU2libGluZyA9IFJlYWN0LnVzZUNhbGxiYWNrKChzaWJsaW5nKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghKChfYSA9IHNpYmxpbmcuY3VycmVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc2FibGVkKSkge1xuICAgICAgICAgICAgKF9iID0gc2libGluZy5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCBbZm9jdXNdKTtcbiAgICBjb25zdCBmb2N1c1pvb21JbiA9IFJlYWN0LnVzZUNhbGxiYWNrKCgpID0+IGZvY3VzU2libGluZyh6b29tSW5SZWYpLCBbZm9jdXNTaWJsaW5nXSk7XG4gICAgY29uc3QgZm9jdXNab29tT3V0ID0gUmVhY3QudXNlQ2FsbGJhY2soKCkgPT4gZm9jdXNTaWJsaW5nKHpvb21PdXRSZWYpLCBbZm9jdXNTaWJsaW5nXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFpvb21CdXR0b24sIHsgem9vbUluOiB0cnVlLCByZWY6IHpvb21JblJlZiwgb25Mb3NlRm9jdXM6IGZvY3VzWm9vbU91dCB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChab29tQnV0dG9uLCB7IHJlZjogem9vbU91dFJlZiwgb25Mb3NlRm9jdXM6IGZvY3VzWm9vbUluIH0pKSk7XG59XG5cbmZ1bmN0aW9uIFpvb21Ub29sYmFyQ29udHJvbCgpIHtcbiAgICBjb25zdCB7IHJlbmRlciB9ID0gdXNlTGlnaHRib3hQcm9wcygpO1xuICAgIGNvbnN0IHpvb21SZWYgPSB1c2Vab29tKCk7XG4gICAgaWYgKHJlbmRlci5idXR0b25ab29tKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCByZW5kZXIuYnV0dG9uWm9vbSh6b29tUmVmKSk7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFpvb21CdXR0b25zR3JvdXAsIG51bGwpO1xufVxuXG5mdW5jdGlvbiBpc1Jlc3BvbnNpdmVJbWFnZVNsaWRlKHNsaWRlKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiAoKChfYSA9IHNsaWRlLnNyY1NldCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgfHwgMCkgPiAwO1xufVxuZnVuY3Rpb24gcmVkdWNlcih7IGN1cnJlbnQsIHByZWxvYWQgfSwgeyB0eXBlLCBzb3VyY2UgfSkge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiZmV0Y2hcIjpcbiAgICAgICAgICAgIGlmICghY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGN1cnJlbnQ6IHNvdXJjZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgY3VycmVudCwgcHJlbG9hZDogc291cmNlIH07XG4gICAgICAgIGNhc2UgXCJkb25lXCI6XG4gICAgICAgICAgICBpZiAoc291cmNlID09PSBwcmVsb2FkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgY3VycmVudDogc291cmNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBjdXJyZW50LCBwcmVsb2FkIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoVU5LTk9XTl9BQ1RJT05fVFlQRSk7XG4gICAgfVxufVxuZnVuY3Rpb24gUmVzcG9uc2l2ZUltYWdlKHByb3BzKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBbeyBjdXJyZW50LCBwcmVsb2FkIH0sIGRpc3BhdGNoXSA9IFJlYWN0LnVzZVJlZHVjZXIocmVkdWNlciwge30pO1xuICAgIGNvbnN0IHsgc2xpZGU6IGltYWdlLCByZWN0LCBpbWFnZUZpdCwgcmVuZGVyIH0gPSBwcm9wcztcbiAgICBjb25zdCBzcmNTZXQgPSBpbWFnZS5zcmNTZXQuc29ydCgoYSwgYikgPT4gYS53aWR0aCAtIGIud2lkdGgpO1xuICAgIGNvbnN0IHdpZHRoID0gKF9hID0gaW1hZ2Uud2lkdGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHNyY1NldFtzcmNTZXQubGVuZ3RoIC0gMV0ud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0ID0gKF9iID0gaW1hZ2UuaGVpZ2h0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBzcmNTZXRbc3JjU2V0Lmxlbmd0aCAtIDFdLmhlaWdodDtcbiAgICBjb25zdCBjb3ZlciA9IGlzSW1hZ2VGaXRDb3ZlcihpbWFnZSwgaW1hZ2VGaXQpO1xuICAgIGNvbnN0IG1heFdpZHRoID0gTWF0aC5tYXgoLi4uc3JjU2V0Lm1hcCgoeCkgPT4geC53aWR0aCkpO1xuICAgIGNvbnN0IHRhcmdldFdpZHRoID0gTWF0aC5taW4oKGNvdmVyID8gTWF0aC5tYXggOiBNYXRoLm1pbikocmVjdC53aWR0aCwgd2lkdGggKiAocmVjdC5oZWlnaHQgLyBoZWlnaHQpKSwgbWF4V2lkdGgpO1xuICAgIGNvbnN0IHBpeGVsRGVuc2l0eSA9IGRldmljZVBpeGVsUmF0aW8oKTtcbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSB1c2VFdmVudENhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB0YXJnZXRTb3VyY2UgPSAoX2EgPSBzcmNTZXQuZmluZCgoeCkgPT4geC53aWR0aCA+PSB0YXJnZXRXaWR0aCAqIHBpeGVsRGVuc2l0eSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHNyY1NldFtzcmNTZXQubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICghY3VycmVudCB8fCBzcmNTZXQuZmluZEluZGV4KCh4KSA9PiB4LnNyYyA9PT0gY3VycmVudCkgPCBzcmNTZXQuZmluZEluZGV4KCh4KSA9PiB4ID09PSB0YXJnZXRTb3VyY2UpKSB7XG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IFwiZmV0Y2hcIiwgc291cmNlOiB0YXJnZXRTb3VyY2Uuc3JjIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KGhhbmRsZVJlc2l6ZSwgW3JlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0LCBwaXhlbERlbnNpdHksIGhhbmRsZVJlc2l6ZV0pO1xuICAgIGNvbnN0IGhhbmRsZVByZWxvYWQgPSB1c2VFdmVudENhbGxiYWNrKChjdXJyZW50UHJlbG9hZCkgPT4gZGlzcGF0Y2goeyB0eXBlOiBcImRvbmVcIiwgc291cmNlOiBjdXJyZW50UHJlbG9hZCB9KSk7XG4gICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICAgIFdlYmtpdFRyYW5zZm9ybTogXCJ0cmFuc2xhdGVaKDApXCIsXG4gICAgfTtcbiAgICBpZiAoIWNvdmVyKSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oc3R5bGUsIHJlY3Qud2lkdGggLyByZWN0LmhlaWdodCA8IHdpZHRoIC8gaGVpZ2h0ID8geyB3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCJhdXRvXCIgfSA6IHsgd2lkdGg6IFwiYXV0b1wiLCBoZWlnaHQ6IFwiMTAwJVwiIH0pO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsXG4gICAgICAgIHByZWxvYWQgJiYgcHJlbG9hZCAhPT0gY3VycmVudCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChJbWFnZVNsaWRlLCB7IGtleTogXCJwcmVsb2FkXCIsIC4uLnByb3BzLCBzbGlkZTogeyAuLi5pbWFnZSwgc3JjOiBwcmVsb2FkLCBzcmNTZXQ6IHVuZGVmaW5lZCB9LCBzdHlsZTogeyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCAuLi5zdHlsZSB9LCBvbkxvYWQ6ICgpID0+IGhhbmRsZVByZWxvYWQocHJlbG9hZCksIHJlbmRlcjoge1xuICAgICAgICAgICAgICAgIC4uLnJlbmRlcixcbiAgICAgICAgICAgICAgICBpY29uTG9hZGluZzogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgICAgICBpY29uRXJyb3I6ICgpID0+IG51bGwsXG4gICAgICAgICAgICB9IH0pKSxcbiAgICAgICAgY3VycmVudCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChJbWFnZVNsaWRlLCB7IGtleTogXCJjdXJyZW50XCIsIC4uLnByb3BzLCBzbGlkZTogeyAuLi5pbWFnZSwgc3JjOiBjdXJyZW50LCBzcmNTZXQ6IHVuZGVmaW5lZCB9LCBzdHlsZTogc3R5bGUgfSkpKSk7XG59XG5cbmZ1bmN0aW9uIFpvb21XcmFwcGVyKHsgcmVuZGVyLCBzbGlkZSwgb2Zmc2V0LCByZWN0IH0pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgW2ltYWdlRGltZW5zaW9ucywgc2V0SW1hZ2VEaW1lbnNpb25zXSA9IFJlYWN0LnVzZVN0YXRlKCk7XG4gICAgY29uc3Qgem9vbVdyYXBwZXJSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3QgeyB6b29tLCBtYXhab29tLCBvZmZzZXRYLCBvZmZzZXRZLCBzZXRab29tV3JhcHBlciB9ID0gdXNlWm9vbSgpO1xuICAgIGNvbnN0IHsgY2Fyb3VzZWwsIG9uIH0gPSB1c2VMaWdodGJveFByb3BzKCk7XG4gICAgY29uc3QgeyBjdXJyZW50SW5kZXggfSA9IHVzZUxpZ2h0Ym94U3RhdGUoKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAob2Zmc2V0ID09PSAwKSB7XG4gICAgICAgICAgICBzZXRab29tV3JhcHBlcih7IHpvb21XcmFwcGVyUmVmLCBpbWFnZURpbWVuc2lvbnMgfSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gc2V0Wm9vbVdyYXBwZXIodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuICAgIH0sIFtvZmZzZXQsIGltYWdlRGltZW5zaW9ucywgc2V0Wm9vbVdyYXBwZXJdKTtcbiAgICBsZXQgcmVuZGVyZWQgPSAoX2EgPSByZW5kZXIuc2xpZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHJlbmRlciwgeyBzbGlkZSwgb2Zmc2V0LCByZWN0LCB6b29tLCBtYXhab29tIH0pO1xuICAgIGlmICghcmVuZGVyZWQgJiYgaXNJbWFnZVNsaWRlKHNsaWRlKSkge1xuICAgICAgICBjb25zdCBzbGlkZVByb3BzID0ge1xuICAgICAgICAgICAgc2xpZGUsXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICByZWN0LFxuICAgICAgICAgICAgcmVuZGVyLFxuICAgICAgICAgICAgaW1hZ2VGaXQ6IGNhcm91c2VsLmltYWdlRml0LFxuICAgICAgICAgICAgaW1hZ2VQcm9wczogY2Fyb3VzZWwuaW1hZ2VQcm9wcyxcbiAgICAgICAgICAgIG9uQ2xpY2s6IG9mZnNldCA9PT0gMCA/ICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gb24uY2xpY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKG9uLCB7IGluZGV4OiBjdXJyZW50SW5kZXggfSk7IH0gOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgICAgIHJlbmRlcmVkID0gaXNSZXNwb25zaXZlSW1hZ2VTbGlkZShzbGlkZSkgPyAoUmVhY3QuY3JlYXRlRWxlbWVudChSZXNwb25zaXZlSW1hZ2UsIHsga2V5OiBzbGlkZS5zcmMsIC4uLnNsaWRlUHJvcHMsIHNsaWRlOiBzbGlkZSwgcmVjdDogb2Zmc2V0ID09PSAwID8geyB3aWR0aDogcmVjdC53aWR0aCAqIHpvb20sIGhlaWdodDogcmVjdC5oZWlnaHQgKiB6b29tIH0gOiByZWN0IH0pKSA6IChSZWFjdC5jcmVhdGVFbGVtZW50KEltYWdlU2xpZGUsIHsga2V5OiBzbGlkZS5zcmMsIG9uTG9hZDogKGltZykgPT4gc2V0SW1hZ2VEaW1lbnNpb25zKHsgd2lkdGg6IGltZy5uYXR1cmFsV2lkdGgsIGhlaWdodDogaW1nLm5hdHVyYWxIZWlnaHQgfSksIC4uLnNsaWRlUHJvcHMgfSkpO1xuICAgIH1cbiAgICBpZiAoIXJlbmRlcmVkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHpvb21XcmFwcGVyUmVmLCBjbGFzc05hbWU6IGNsc3goY3NzQ2xhc3MoQ0xBU1NfRlVMTFNJWkUpLCBjc3NDbGFzcyhDTEFTU19GTEVYX0NFTlRFUiksIGNzc0NsYXNzKENMQVNTX1NMSURFX1dSQVBQRVIpKSwgc3R5bGU6IG9mZnNldCA9PT0gMCA/IHsgdHJhbnNmb3JtOiBgc2NhbGUoJHt6b29tfSkgdHJhbnNsYXRlWCgke29mZnNldFh9cHgpIHRyYW5zbGF0ZVkoJHtvZmZzZXRZfXB4KWAgfSA6IHVuZGVmaW5lZCB9LCByZW5kZXJlZCkpO1xufVxuXG5jb25zdCBab29tID0gKHsgYXVnbWVudCwgYWRkTW9kdWxlIH0pID0+IHtcbiAgICBhdWdtZW50KCh7IHpvb206IHpvb21Qcm9wcywgdG9vbGJhciwgcmVuZGVyLCBjb250cm9sbGVyLCAuLi5yZXN0UHJvcHMgfSkgPT4ge1xuICAgICAgICBjb25zdCB6b29tID0gcmVzb2x2ZVpvb21Qcm9wcyh6b29tUHJvcHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICAgIHRvb2xiYXI6IGFkZFRvb2xiYXJCdXR0b24odG9vbGJhciwgUExVR0lOX1pPT00sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoWm9vbVRvb2xiYXJDb250cm9sLCBudWxsKSksXG4gICAgICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICAgICAgICAuLi5yZW5kZXIsXG4gICAgICAgICAgICAgICAgc2xpZGU6IChwcm9wcykgPT4geyB2YXIgX2E7IHJldHVybiBpc0ltYWdlU2xpZGUocHJvcHMuc2xpZGUpID8gUmVhY3QuY3JlYXRlRWxlbWVudChab29tV3JhcHBlciwgeyByZW5kZXI6IHJlbmRlciwgLi4ucHJvcHMgfSkgOiAoX2EgPSByZW5kZXIuc2xpZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHJlbmRlciwgcHJvcHMpOyB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IHsgLi4uY29udHJvbGxlciwgcHJldmVudERlZmF1bHRXaGVlbFk6IHpvb20uc2Nyb2xsVG9ab29tIH0sXG4gICAgICAgICAgICAuLi5yZXN0UHJvcHMsXG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgYWRkTW9kdWxlKGNyZWF0ZU1vZHVsZShQTFVHSU5fWk9PTSwgWm9vbUNvbnRleHRQcm92aWRlcikpO1xufTtcblxuZXhwb3J0IHsgWm9vbSBhcyBkZWZhdWx0IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/plugins/zoom/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js":
/*!***************************************************************!*\
  !*** ./node_modules/yet-another-react-lightbox/dist/types.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACTION_CLOSE: () => (/* binding */ ACTION_CLOSE),\n/* harmony export */   ACTION_NEXT: () => (/* binding */ ACTION_NEXT),\n/* harmony export */   ACTION_PREV: () => (/* binding */ ACTION_PREV),\n/* harmony export */   ACTION_SWIPE: () => (/* binding */ ACTION_SWIPE),\n/* harmony export */   ACTIVE_SLIDE_COMPLETE: () => (/* binding */ ACTIVE_SLIDE_COMPLETE),\n/* harmony export */   ACTIVE_SLIDE_ERROR: () => (/* binding */ ACTIVE_SLIDE_ERROR),\n/* harmony export */   ACTIVE_SLIDE_LOADING: () => (/* binding */ ACTIVE_SLIDE_LOADING),\n/* harmony export */   ACTIVE_SLIDE_PLAYING: () => (/* binding */ ACTIVE_SLIDE_PLAYING),\n/* harmony export */   CLASS_FLEX_CENTER: () => (/* binding */ CLASS_FLEX_CENTER),\n/* harmony export */   CLASS_FULLSIZE: () => (/* binding */ CLASS_FULLSIZE),\n/* harmony export */   CLASS_NO_SCROLL: () => (/* binding */ CLASS_NO_SCROLL),\n/* harmony export */   CLASS_NO_SCROLL_PADDING: () => (/* binding */ CLASS_NO_SCROLL_PADDING),\n/* harmony export */   CLASS_SLIDE_WRAPPER: () => (/* binding */ CLASS_SLIDE_WRAPPER),\n/* harmony export */   ELEMENT_BUTTON: () => (/* binding */ ELEMENT_BUTTON),\n/* harmony export */   ELEMENT_ICON: () => (/* binding */ ELEMENT_ICON),\n/* harmony export */   EVENT_ON_KEY_DOWN: () => (/* binding */ EVENT_ON_KEY_DOWN),\n/* harmony export */   EVENT_ON_KEY_UP: () => (/* binding */ EVENT_ON_KEY_UP),\n/* harmony export */   EVENT_ON_POINTER_CANCEL: () => (/* binding */ EVENT_ON_POINTER_CANCEL),\n/* harmony export */   EVENT_ON_POINTER_DOWN: () => (/* binding */ EVENT_ON_POINTER_DOWN),\n/* harmony export */   EVENT_ON_POINTER_LEAVE: () => (/* binding */ EVENT_ON_POINTER_LEAVE),\n/* harmony export */   EVENT_ON_POINTER_MOVE: () => (/* binding */ EVENT_ON_POINTER_MOVE),\n/* harmony export */   EVENT_ON_POINTER_UP: () => (/* binding */ EVENT_ON_POINTER_UP),\n/* harmony export */   EVENT_ON_WHEEL: () => (/* binding */ EVENT_ON_WHEEL),\n/* harmony export */   IMAGE_FIT_CONTAIN: () => (/* binding */ IMAGE_FIT_CONTAIN),\n/* harmony export */   IMAGE_FIT_COVER: () => (/* binding */ IMAGE_FIT_COVER),\n/* harmony export */   MODULE_CAROUSEL: () => (/* binding */ MODULE_CAROUSEL),\n/* harmony export */   MODULE_CONTROLLER: () => (/* binding */ MODULE_CONTROLLER),\n/* harmony export */   MODULE_NAVIGATION: () => (/* binding */ MODULE_NAVIGATION),\n/* harmony export */   MODULE_NO_SCROLL: () => (/* binding */ MODULE_NO_SCROLL),\n/* harmony export */   MODULE_PORTAL: () => (/* binding */ MODULE_PORTAL),\n/* harmony export */   MODULE_ROOT: () => (/* binding */ MODULE_ROOT),\n/* harmony export */   MODULE_TOOLBAR: () => (/* binding */ MODULE_TOOLBAR),\n/* harmony export */   PLUGIN_CAPTIONS: () => (/* binding */ PLUGIN_CAPTIONS),\n/* harmony export */   PLUGIN_COUNTER: () => (/* binding */ PLUGIN_COUNTER),\n/* harmony export */   PLUGIN_DOWNLOAD: () => (/* binding */ PLUGIN_DOWNLOAD),\n/* harmony export */   PLUGIN_FULLSCREEN: () => (/* binding */ PLUGIN_FULLSCREEN),\n/* harmony export */   PLUGIN_INLINE: () => (/* binding */ PLUGIN_INLINE),\n/* harmony export */   PLUGIN_SHARE: () => (/* binding */ PLUGIN_SHARE),\n/* harmony export */   PLUGIN_SLIDESHOW: () => (/* binding */ PLUGIN_SLIDESHOW),\n/* harmony export */   PLUGIN_THUMBNAILS: () => (/* binding */ PLUGIN_THUMBNAILS),\n/* harmony export */   PLUGIN_ZOOM: () => (/* binding */ PLUGIN_ZOOM),\n/* harmony export */   SLIDE_STATUS_COMPLETE: () => (/* binding */ SLIDE_STATUS_COMPLETE),\n/* harmony export */   SLIDE_STATUS_ERROR: () => (/* binding */ SLIDE_STATUS_ERROR),\n/* harmony export */   SLIDE_STATUS_LOADING: () => (/* binding */ SLIDE_STATUS_LOADING),\n/* harmony export */   SLIDE_STATUS_PLACEHOLDER: () => (/* binding */ SLIDE_STATUS_PLACEHOLDER),\n/* harmony export */   SLIDE_STATUS_PLAYING: () => (/* binding */ SLIDE_STATUS_PLAYING),\n/* harmony export */   UNKNOWN_ACTION_TYPE: () => (/* binding */ UNKNOWN_ACTION_TYPE),\n/* harmony export */   VK_ARROW_LEFT: () => (/* binding */ VK_ARROW_LEFT),\n/* harmony export */   VK_ARROW_RIGHT: () => (/* binding */ VK_ARROW_RIGHT),\n/* harmony export */   VK_ESCAPE: () => (/* binding */ VK_ESCAPE),\n/* harmony export */   activeSlideStatus: () => (/* binding */ activeSlideStatus)\n/* harmony export */ });\nconst MODULE_CAROUSEL = \"carousel\";\nconst MODULE_CONTROLLER = \"controller\";\nconst MODULE_NAVIGATION = \"navigation\";\nconst MODULE_NO_SCROLL = \"no-scroll\";\nconst MODULE_PORTAL = \"portal\";\nconst MODULE_ROOT = \"root\";\nconst MODULE_TOOLBAR = \"toolbar\";\nconst PLUGIN_CAPTIONS = \"captions\";\nconst PLUGIN_COUNTER = \"counter\";\nconst PLUGIN_DOWNLOAD = \"download\";\nconst PLUGIN_FULLSCREEN = \"fullscreen\";\nconst PLUGIN_INLINE = \"inline\";\nconst PLUGIN_SHARE = \"share\";\nconst PLUGIN_SLIDESHOW = \"slideshow\";\nconst PLUGIN_THUMBNAILS = \"thumbnails\";\nconst PLUGIN_ZOOM = \"zoom\";\nconst SLIDE_STATUS_LOADING = \"loading\";\nconst SLIDE_STATUS_PLAYING = \"playing\";\nconst SLIDE_STATUS_ERROR = \"error\";\nconst SLIDE_STATUS_COMPLETE = \"complete\";\nconst SLIDE_STATUS_PLACEHOLDER = \"placeholder\";\nconst activeSlideStatus = (status) => `active-slide-${status}`;\nconst ACTIVE_SLIDE_LOADING = activeSlideStatus(SLIDE_STATUS_LOADING);\nconst ACTIVE_SLIDE_PLAYING = activeSlideStatus(SLIDE_STATUS_PLAYING);\nconst ACTIVE_SLIDE_ERROR = activeSlideStatus(SLIDE_STATUS_ERROR);\nconst ACTIVE_SLIDE_COMPLETE = activeSlideStatus(SLIDE_STATUS_COMPLETE);\nconst CLASS_FULLSIZE = \"fullsize\";\nconst CLASS_FLEX_CENTER = \"flex_center\";\nconst CLASS_NO_SCROLL = \"no_scroll\";\nconst CLASS_NO_SCROLL_PADDING = \"no_scroll_padding\";\nconst CLASS_SLIDE_WRAPPER = \"slide_wrapper\";\nconst ACTION_PREV = \"prev\";\nconst ACTION_NEXT = \"next\";\nconst ACTION_SWIPE = \"swipe\";\nconst ACTION_CLOSE = \"close\";\nconst EVENT_ON_POINTER_DOWN = \"onPointerDown\";\nconst EVENT_ON_POINTER_MOVE = \"onPointerMove\";\nconst EVENT_ON_POINTER_UP = \"onPointerUp\";\nconst EVENT_ON_POINTER_LEAVE = \"onPointerLeave\";\nconst EVENT_ON_POINTER_CANCEL = \"onPointerCancel\";\nconst EVENT_ON_KEY_DOWN = \"onKeyDown\";\nconst EVENT_ON_KEY_UP = \"onKeyUp\";\nconst EVENT_ON_WHEEL = \"onWheel\";\nconst VK_ESCAPE = \"Escape\";\nconst VK_ARROW_LEFT = \"ArrowLeft\";\nconst VK_ARROW_RIGHT = \"ArrowRight\";\nconst ELEMENT_BUTTON = \"button\";\nconst ELEMENT_ICON = \"icon\";\nconst IMAGE_FIT_CONTAIN = \"contain\";\nconst IMAGE_FIT_COVER = \"cover\";\nconst UNKNOWN_ACTION_TYPE = \"Unknown action type\";\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC90eXBlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsT0FBTztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrNkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zaG9lLXNob3AvLi9ub2RlX21vZHVsZXMveWV0LWFub3RoZXItcmVhY3QtbGlnaHRib3gvZGlzdC90eXBlcy5qcz9jMGNiIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IE1PRFVMRV9DQVJPVVNFTCA9IFwiY2Fyb3VzZWxcIjtcbmNvbnN0IE1PRFVMRV9DT05UUk9MTEVSID0gXCJjb250cm9sbGVyXCI7XG5jb25zdCBNT0RVTEVfTkFWSUdBVElPTiA9IFwibmF2aWdhdGlvblwiO1xuY29uc3QgTU9EVUxFX05PX1NDUk9MTCA9IFwibm8tc2Nyb2xsXCI7XG5jb25zdCBNT0RVTEVfUE9SVEFMID0gXCJwb3J0YWxcIjtcbmNvbnN0IE1PRFVMRV9ST09UID0gXCJyb290XCI7XG5jb25zdCBNT0RVTEVfVE9PTEJBUiA9IFwidG9vbGJhclwiO1xuY29uc3QgUExVR0lOX0NBUFRJT05TID0gXCJjYXB0aW9uc1wiO1xuY29uc3QgUExVR0lOX0NPVU5URVIgPSBcImNvdW50ZXJcIjtcbmNvbnN0IFBMVUdJTl9ET1dOTE9BRCA9IFwiZG93bmxvYWRcIjtcbmNvbnN0IFBMVUdJTl9GVUxMU0NSRUVOID0gXCJmdWxsc2NyZWVuXCI7XG5jb25zdCBQTFVHSU5fSU5MSU5FID0gXCJpbmxpbmVcIjtcbmNvbnN0IFBMVUdJTl9TSEFSRSA9IFwic2hhcmVcIjtcbmNvbnN0IFBMVUdJTl9TTElERVNIT1cgPSBcInNsaWRlc2hvd1wiO1xuY29uc3QgUExVR0lOX1RIVU1CTkFJTFMgPSBcInRodW1ibmFpbHNcIjtcbmNvbnN0IFBMVUdJTl9aT09NID0gXCJ6b29tXCI7XG5jb25zdCBTTElERV9TVEFUVVNfTE9BRElORyA9IFwibG9hZGluZ1wiO1xuY29uc3QgU0xJREVfU1RBVFVTX1BMQVlJTkcgPSBcInBsYXlpbmdcIjtcbmNvbnN0IFNMSURFX1NUQVRVU19FUlJPUiA9IFwiZXJyb3JcIjtcbmNvbnN0IFNMSURFX1NUQVRVU19DT01QTEVURSA9IFwiY29tcGxldGVcIjtcbmNvbnN0IFNMSURFX1NUQVRVU19QTEFDRUhPTERFUiA9IFwicGxhY2Vob2xkZXJcIjtcbmNvbnN0IGFjdGl2ZVNsaWRlU3RhdHVzID0gKHN0YXR1cykgPT4gYGFjdGl2ZS1zbGlkZS0ke3N0YXR1c31gO1xuY29uc3QgQUNUSVZFX1NMSURFX0xPQURJTkcgPSBhY3RpdmVTbGlkZVN0YXR1cyhTTElERV9TVEFUVVNfTE9BRElORyk7XG5jb25zdCBBQ1RJVkVfU0xJREVfUExBWUlORyA9IGFjdGl2ZVNsaWRlU3RhdHVzKFNMSURFX1NUQVRVU19QTEFZSU5HKTtcbmNvbnN0IEFDVElWRV9TTElERV9FUlJPUiA9IGFjdGl2ZVNsaWRlU3RhdHVzKFNMSURFX1NUQVRVU19FUlJPUik7XG5jb25zdCBBQ1RJVkVfU0xJREVfQ09NUExFVEUgPSBhY3RpdmVTbGlkZVN0YXR1cyhTTElERV9TVEFUVVNfQ09NUExFVEUpO1xuY29uc3QgQ0xBU1NfRlVMTFNJWkUgPSBcImZ1bGxzaXplXCI7XG5jb25zdCBDTEFTU19GTEVYX0NFTlRFUiA9IFwiZmxleF9jZW50ZXJcIjtcbmNvbnN0IENMQVNTX05PX1NDUk9MTCA9IFwibm9fc2Nyb2xsXCI7XG5jb25zdCBDTEFTU19OT19TQ1JPTExfUEFERElORyA9IFwibm9fc2Nyb2xsX3BhZGRpbmdcIjtcbmNvbnN0IENMQVNTX1NMSURFX1dSQVBQRVIgPSBcInNsaWRlX3dyYXBwZXJcIjtcbmNvbnN0IEFDVElPTl9QUkVWID0gXCJwcmV2XCI7XG5jb25zdCBBQ1RJT05fTkVYVCA9IFwibmV4dFwiO1xuY29uc3QgQUNUSU9OX1NXSVBFID0gXCJzd2lwZVwiO1xuY29uc3QgQUNUSU9OX0NMT1NFID0gXCJjbG9zZVwiO1xuY29uc3QgRVZFTlRfT05fUE9JTlRFUl9ET1dOID0gXCJvblBvaW50ZXJEb3duXCI7XG5jb25zdCBFVkVOVF9PTl9QT0lOVEVSX01PVkUgPSBcIm9uUG9pbnRlck1vdmVcIjtcbmNvbnN0IEVWRU5UX09OX1BPSU5URVJfVVAgPSBcIm9uUG9pbnRlclVwXCI7XG5jb25zdCBFVkVOVF9PTl9QT0lOVEVSX0xFQVZFID0gXCJvblBvaW50ZXJMZWF2ZVwiO1xuY29uc3QgRVZFTlRfT05fUE9JTlRFUl9DQU5DRUwgPSBcIm9uUG9pbnRlckNhbmNlbFwiO1xuY29uc3QgRVZFTlRfT05fS0VZX0RPV04gPSBcIm9uS2V5RG93blwiO1xuY29uc3QgRVZFTlRfT05fS0VZX1VQID0gXCJvbktleVVwXCI7XG5jb25zdCBFVkVOVF9PTl9XSEVFTCA9IFwib25XaGVlbFwiO1xuY29uc3QgVktfRVNDQVBFID0gXCJFc2NhcGVcIjtcbmNvbnN0IFZLX0FSUk9XX0xFRlQgPSBcIkFycm93TGVmdFwiO1xuY29uc3QgVktfQVJST1dfUklHSFQgPSBcIkFycm93UmlnaHRcIjtcbmNvbnN0IEVMRU1FTlRfQlVUVE9OID0gXCJidXR0b25cIjtcbmNvbnN0IEVMRU1FTlRfSUNPTiA9IFwiaWNvblwiO1xuY29uc3QgSU1BR0VfRklUX0NPTlRBSU4gPSBcImNvbnRhaW5cIjtcbmNvbnN0IElNQUdFX0ZJVF9DT1ZFUiA9IFwiY292ZXJcIjtcbmNvbnN0IFVOS05PV05fQUNUSU9OX1RZUEUgPSBcIlVua25vd24gYWN0aW9uIHR5cGVcIjtcblxuZXhwb3J0IHsgQUNUSU9OX0NMT1NFLCBBQ1RJT05fTkVYVCwgQUNUSU9OX1BSRVYsIEFDVElPTl9TV0lQRSwgQUNUSVZFX1NMSURFX0NPTVBMRVRFLCBBQ1RJVkVfU0xJREVfRVJST1IsIEFDVElWRV9TTElERV9MT0FESU5HLCBBQ1RJVkVfU0xJREVfUExBWUlORywgQ0xBU1NfRkxFWF9DRU5URVIsIENMQVNTX0ZVTExTSVpFLCBDTEFTU19OT19TQ1JPTEwsIENMQVNTX05PX1NDUk9MTF9QQURESU5HLCBDTEFTU19TTElERV9XUkFQUEVSLCBFTEVNRU5UX0JVVFRPTiwgRUxFTUVOVF9JQ09OLCBFVkVOVF9PTl9LRVlfRE9XTiwgRVZFTlRfT05fS0VZX1VQLCBFVkVOVF9PTl9QT0lOVEVSX0NBTkNFTCwgRVZFTlRfT05fUE9JTlRFUl9ET1dOLCBFVkVOVF9PTl9QT0lOVEVSX0xFQVZFLCBFVkVOVF9PTl9QT0lOVEVSX01PVkUsIEVWRU5UX09OX1BPSU5URVJfVVAsIEVWRU5UX09OX1dIRUVMLCBJTUFHRV9GSVRfQ09OVEFJTiwgSU1BR0VfRklUX0NPVkVSLCBNT0RVTEVfQ0FST1VTRUwsIE1PRFVMRV9DT05UUk9MTEVSLCBNT0RVTEVfTkFWSUdBVElPTiwgTU9EVUxFX05PX1NDUk9MTCwgTU9EVUxFX1BPUlRBTCwgTU9EVUxFX1JPT1QsIE1PRFVMRV9UT09MQkFSLCBQTFVHSU5fQ0FQVElPTlMsIFBMVUdJTl9DT1VOVEVSLCBQTFVHSU5fRE9XTkxPQUQsIFBMVUdJTl9GVUxMU0NSRUVOLCBQTFVHSU5fSU5MSU5FLCBQTFVHSU5fU0hBUkUsIFBMVUdJTl9TTElERVNIT1csIFBMVUdJTl9USFVNQk5BSUxTLCBQTFVHSU5fWk9PTSwgU0xJREVfU1RBVFVTX0NPTVBMRVRFLCBTTElERV9TVEFUVVNfRVJST1IsIFNMSURFX1NUQVRVU19MT0FESU5HLCBTTElERV9TVEFUVVNfUExBQ0VIT0xERVIsIFNMSURFX1NUQVRVU19QTEFZSU5HLCBVTktOT1dOX0FDVElPTl9UWVBFLCBWS19BUlJPV19MRUZULCBWS19BUlJPV19SSUdIVCwgVktfRVNDQVBFLCBhY3RpdmVTbGlkZVN0YXR1cyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/yet-another-react-lightbox/dist/types.js\n");

/***/ })

};
;